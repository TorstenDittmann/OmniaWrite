var app=function(){"use strict";function noop(){}const identity=e=>e;function assign(e,t){for(const n in t)e[n]=t[n];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function subscribe(e,t){const n=e.subscribe(t);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function create_slot(e,t,n,r){if(e){const i=get_slot_context(e,t,n,r);return e[0](i)}}function get_slot_context(e,t,n,r){return e[1]&&r?assign(n.ctx.slice(),e[1](r(t))):n.ctx}function get_slot_changes(e,t,n,r){return e[2]&&r?t.dirty|e[2](r(n)):t.dirty}function set_store_value(e,t,n=t){return e.set(n),t}const is_client="undefined"!=typeof window;let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),0!==tasks.size&&raf(run_tasks)}function loop(e){let t;return 0===tasks.size&&raf(run_tasks),{promise:new Promise(n=>{tasks.add(t={c:e,f:n})}),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function to_number(e){return""===e?void 0:+e}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){(null!=t||e.value)&&(e.value=t)}function set_style(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function select_option(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}function custom_event(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class HtmlTag{constructor(e,t=null){this.e=element("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)insert(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(detach)}}let stylesheet,active=0,current_rules={},current_component;function hash(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function create_rule(e,t,n,r,i,o,a,s=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);u+=100*e+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${hash(l)}_${s}`;if(!current_rules[d]){if(!stylesheet){const e=element("style");document.head.appendChild(e),stylesheet=e.sheet}current_rules[d]=!0,stylesheet.insertRule(`@keyframes ${d} ${l}`,stylesheet.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${i}ms 1 both`,active+=1,d}function delete_rule(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--active&&clear_rules()}function clear_rules(){raf(()=>{if(active)return;let e=stylesheet.cssRules.length;for(;e--;)stylesheet.deleteRule(e);current_rules={}})}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=custom_event(t,n);r.slice().forEach(t=>{t.call(e,i)})}}}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1,promise;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}function flush(){const e=new Set;do{for(;dirty_components.length;){const e=dirty_components.shift();set_current_component(e),update(e.$$)}for(;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];e.has(n)||(n(),e.add(n))}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function update(e){null!==e.fragment&&(e.update(),run_all(e.before_update),e.fragment&&e.fragment.p(e.ctx,e.dirty),e.dirty=[-1],e.after_update.forEach(add_render_callback))}function wait(){return promise||(promise=Promise.resolve()).then(()=>{promise=null}),promise}function dispatch(e,t,n){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${n}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const null_transition={duration:0};function create_in_transition(e,t,n){let r,i,o=t(e,n),a=!1,s=0;function c(){r&&delete_rule(e,r)}function u(){const{delay:t=0,duration:n=300,easing:u=identity,tick:l=noop,css:d}=o||null_transition;d&&(r=create_rule(e,0,1,n,t,u,d,s++)),l(0,1);const f=now()+t,p=f+n;i&&i.abort(),a=!0,add_render_callback(()=>dispatch(e,!0,"start")),i=loop(t=>{if(a){if(t>=p)return l(1,0),dispatch(e,!0,"end"),c(),a=!1;if(t>=f){const e=u((t-f)/n);l(e,1-e)}}return a})}let l=!1;return{start(){l||(delete_rule(e),is_function(o)?(o=o(),wait().then(u)):u())},invalidate(){l=!1},end(){a&&(c(),a=!1)}}}function create_out_transition(e,t,n){let r,i=t(e,n),o=!0;const a=outros;function s(){const{delay:t=0,duration:n=300,easing:s=identity,tick:c=noop,css:u}=i||null_transition;u&&(r=create_rule(e,1,0,n,t,s,u));const l=now()+t,d=l+n;add_render_callback(()=>dispatch(e,!1,"start")),loop(t=>{if(o){if(t>=d)return c(0,1),dispatch(e,!1,"end"),--a.r||run_all(a.c),!1;if(t>=l){const e=s((t-l)/n);c(1-e,e)}}return o})}return a.r+=1,is_function(i)?wait().then(()=>{i=i(),s()}):s(),{end(t){t&&i.tick&&i.tick(1,0),o&&(r&&delete_rule(e,r),o=!1)}}}function bind(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function create_component(e){e&&e.c()}function mount_component(e,t,n){const{fragment:r,on_mount:i,on_destroy:o,after_update:a}=e.$$;r&&r.m(t,n),add_render_callback(()=>{const t=i.map(run).filter(is_function);o?o.push(...t):run_all(t),e.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,r,i,o,a=[-1]){const s=current_component;set_current_component(e);const c=t.props||{},u=e.$$={fragment:null,ctx:null,props:o,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:blank_object(),dirty:a};let l=!1;u.ctx=n?n(e,c,(t,n,r=n)=>(u.ctx&&i(u.ctx[t],u.ctx[t]=r)&&(u.bound[t]&&u.bound[t](r),l&&make_dirty(e,t)),n)):[],u.update(),l=!0,run_all(u.before_update),u.fragment=!!r&&r(u.ctx),t.target&&(t.hydrate?u.fragment&&u.fragment.l(children(t.target)):u.fragment&&u.fragment.c(),t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()),set_current_component(s)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}try{self["workbox:window:4.3.1"]&&_()}catch(n){}var n=function(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){return n(e.data)},e.postMessage(t,[r.port2])}))};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}try{self["workbox:core:4.3.1"]&&_()}catch(n){}var e=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},r=function(e,t){return new URL(e,location).href===new URL(t,location).href},o=function(e,t){Object.assign(this,t,{type:e})};function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function a(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function s(){}var c=function(c){var l,d;function f(t,n){var r;return void 0===n&&(n={}),(r=c.call(this)||this).t=t,r.i=n,r.o=0,r.u=new e,r.s=new e,r.h=new e,r.v=r.v.bind(i(i(r))),r.l=r.l.bind(i(i(r))),r.g=r.g.bind(i(i(r))),r.m=r.m.bind(i(i(r))),r}d=c,(l=f).prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d;var p,h=f.prototype;return h.register=u((function(e){var t,n,i=this,c=(void 0===e?{}:e).immediate,u=void 0!==c&&c;return t=function(){return i.p=Boolean(navigator.serviceWorker.controller),i.P=i.R(),a(i.k(),(function(e){i.B=e,i.P&&(i.O=i.P,i.s.resolve(i.P),i.h.resolve(i.P),i.j(i.P),i.P.addEventListener("statechange",i.l,{once:!0}));var t=i.B.waiting;return t&&r(t.scriptURL,i.t)&&(i.O=t,Promise.resolve().then((function(){i.dispatchEvent(new o("waiting",{sw:t,wasWaitingBeforeRegister:!0}))}))),i.O&&i.u.resolve(i.O),i.B.addEventListener("updatefound",i.g),navigator.serviceWorker.addEventListener("controllerchange",i.m,{once:!0}),"BroadcastChannel"in self&&(i.C=new BroadcastChannel("workbox"),i.C.addEventListener("message",i.v)),navigator.serviceWorker.addEventListener("message",i.v),i.B}))},(n=function(){if(!u&&"complete"!==document.readyState)return function(e,t){return e&&e.then?e.then(s):Promise.resolve()}(new Promise((function(e){return addEventListener("load",e)})))}())&&n.then?n.then(t):t()})),h.getSW=u((function(){return this.O||this.u.promise})),h.messageSW=u((function(e){return a(this.getSW(),(function(t){return n(t,e)}))})),h.R=function(){var e=navigator.serviceWorker.controller;if(e&&r(e.scriptURL,this.t))return e},h.k=u((function(){var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return a(navigator.serviceWorker.register(e.t,e.i),(function(t){return e.L=performance.now(),t}))}),(function(e){throw e}))})),h.j=function(e){n(e,{type:"WINDOW_READY",meta:"workbox-window"})},h.g=function(){var e=this.B.installing;this.o>0||!r(e.scriptURL,this.t)||performance.now()>this.L+6e4?(this.W=e,this.B.removeEventListener("updatefound",this.g)):(this.O=e,this.u.resolve(e)),++this.o,e.addEventListener("statechange",this.l)},h.l=function(e){var t=this,n=e.target,r=n.state,i=n===this.W,a=i?"external":"",s={sw:n,originalEvent:e};!i&&this.p&&(s.isUpdate=!0),this.dispatchEvent(new o(a+r,s)),"installed"===r?this._=setTimeout((function(){"installed"===r&&t.B.waiting===n&&t.dispatchEvent(new o(a+"waiting",s))}),200):"activating"===r&&(clearTimeout(this._),i||this.s.resolve(n))},h.m=function(e){var t=this.O;t===navigator.serviceWorker.controller&&(this.dispatchEvent(new o("controlling",{sw:t,originalEvent:e})),this.h.resolve(t))},h.v=function(e){var t=e.data;this.dispatchEvent(new o("message",{data:t,originalEvent:e}))},(p=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&t(f.prototype,p),f}(function(){function e(){this.D={}}var t=e.prototype;return t.addEventListener=function(e,t){this.T(e).add(t)},t.removeEventListener=function(e,t){this.T(e).delete(t)},t.dispatchEvent=function(e){e.target=this,this.T(e.type).forEach((function(t){return t(e)}))},t.T=function(e){return this.D[e]=this.D[e]||new Set},e}());const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop){let n;const r=[];function i(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),subscriber_queue.push(n,e)}if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,a=noop){const s=[o,a];return r.push(s),1===r.length&&(n=t(i)||noop),o(e),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function derived(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,o=t.length<2;return readable(n,e=>{let n=!1;const a=[];let s=0,c=noop;const u=()=>{if(s)return;c();const n=t(r?a[0]:a,e);o?e(n):c=is_function(n)?n:noop},l=i.map((e,t)=>e.subscribe(e=>{a[t]=e,s&=~(1<<t),n&&u()},()=>{s|=1<<t}));return n=!0,u(),function(){run_all(l),c()}})}const defaultIntern={version:"alpha",installed:!1},defaultSettings={theme:"dark",language:"en"};function getRandomNumber(){return Math.floor(999999*Math.random())}function storeState(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("state")||""));return{subscribe:e,setCurrentTitle:e=>t(t=>(t.currentTitle=e,t)),setCurrentUser:(e,n,r)=>t(t=>(t.currentUser=e,t.currentUserEmail=n,t.currentUserToken=r,t)),setCurrentProject:e=>t(t=>(t.currentProject=e,t)),updateCloudTimestamp:e=>t(t=>(t.lastCloudSave=e,t.lastLocalSave=e,t)),updateLocalTimestamp:()=>t(e=>(e.lastLocalSave=+new Date,e))}}function storeProjects(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("projects")||""));return{subscribe:e,createProject:e=>{updateLocalTimestamp();let n=getRandomNumber();return t(t=>t.concat([{id:n,title:e}])),n},setProjectTitle:(e,n)=>t(t=>(updateLocalTimestamp(),t[t.findIndex(t=>t.id==e)].title=n,t)),updateProjectTimestamp:e=>t(t=>(t[t.findIndex(t=>t.id==e)].lastOpen=Math.round((new Date).getTime()/1e3),t))}}function storeChapters(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("chapters")||""));return{subscribe:e,createChapter:(e,n)=>t(t=>(updateLocalTimestamp(),t.concat([{id:getRandomNumber(),project:e,title:n,order:t.length,ui:{open:!0}}]))),setChapterTitle:(e,n)=>t(t=>(updateLocalTimestamp(),t[t.findIndex(t=>t.id==e)].title=n,t)),removeChapter:e=>t(t=>(updateLocalTimestamp(),t.filter(t=>t.id!==e))),toggleChapterInSidebar:e=>t(t=>{updateLocalTimestamp();let n=t.findIndex(t=>t.id==e);return t[n].ui.open=!t[n].ui.open,t})}}function storeScenes(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("scenes")||""));return{subscribe:e,createScene:(e,n)=>t(t=>(updateLocalTimestamp(),t.concat([{id:getRandomNumber(),chapter:e,title:n,order:t.length}]))),setSceneTitle:(e,n)=>t(t=>{updateLocalTimestamp();let r=t.findIndex(t=>t.id==e);return t[r].title=n,t[r].lastEdit=Math.round((new Date).getTime()/1e3),t}),setSceneContent:(e,n)=>t(t=>{updateLocalTimestamp();let r=t.findIndex(t=>t.id==e);return t[r].content=n,t[r].lastEdit=Math.round((new Date).getTime()/1e3),t}),removeScene:e=>t(t=>(updateLocalTimestamp(),t.filter(t=>t.id!==e))),orderScene:(e,n)=>t(t=>{let r,i=t.findIndex(t=>t.id==e);return r=n?t.findIndex(e=>e.order==t[i].order-1&&e.chapter==t[i].chapter):t.findIndex(e=>e.order==t[i].order+1&&e.chapter==t[i].chapter),[t[i].order,t[r].order]=[t[r].order,t[i].order],t})}}function storeTabs(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("tabs")||""));return{subscribe:e,createTab:(e,n,r)=>t(t=>t.concat([{id:getRandomNumber(),title:n,project:e,link:r}])),removeTab:e=>t(t=>t.filter(t=>t.id!==e))}}function storeCards(){const{subscribe:e,update:t}=writable(JSON.parse(localStorage.getItem("cards")||""));return{subscribe:e,createCard:(e,n,r,i)=>t(t=>t.concat([{id:getRandomNumber(),project:e,title:n,content:r,showTooltip:i}])),setCard:e=>t(t=>{updateLocalTimestamp();let n=t.findIndex(t=>t.id==e.id);return t[n]=e,t}),setCardTitle:(e,n)=>t(t=>{updateLocalTimestamp();let r=t.findIndex(t=>t.id==e);return t[r].title=n,t}),setCardContent:(e,n)=>t(t=>{updateLocalTimestamp();let r=t.findIndex(t=>t.id==e);return t[r].content=n,t}),removeCard:e=>t(t=>t.filter(t=>t.id!==e))}}function updateLocalTimestamp(){state.updateLocalTimestamp()}null===localStorage.getItem("intern")&&(localStorage.setItem("intern",JSON.stringify(defaultIntern)),localStorage.setItem("settings",JSON.stringify(defaultSettings)),localStorage.setItem("state","{}"),localStorage.setItem("projects","[]"),localStorage.setItem("chapters","[]"),localStorage.setItem("scenes","[]"),localStorage.setItem("tabs","[]"),localStorage.setItem("cards","[]"));const state=storeState(),projects=storeProjects(),chapters=storeChapters(),scenes=storeScenes(),tabs=storeTabs(),cards=storeCards(),settings=writable(JSON.parse(localStorage.getItem("settings")||"{}")),intern=writable(JSON.parse(localStorage.getItem("intern")||"{}"));projects.subscribe(e=>localStorage.setItem("projects",JSON.stringify(e))),chapters.subscribe(e=>localStorage.setItem("chapters",JSON.stringify(e))),state.subscribe(e=>localStorage.setItem("state",JSON.stringify(e))),tabs.subscribe(e=>localStorage.setItem("tabs",JSON.stringify(e))),scenes.subscribe(e=>localStorage.setItem("scenes",JSON.stringify(e))),cards.subscribe(e=>localStorage.setItem("cards",JSON.stringify(e))),settings.subscribe(e=>localStorage.setItem("settings",JSON.stringify(e))),intern.subscribe(e=>localStorage.setItem("intern",JSON.stringify(e)));const{messageUI:messageUI}=window.deskgap||{};class Deskgap{isRunning(){return!!window.deskgap}reload(){return window.deskgap?messageUI.send("reload"):window.location.reload()}closeWindow(){messageUI.send("close")}minimizeWindow(){messageUI.send("minimize")}}const deskgap=new Deskgap;function checkRequirements(){let e={steps:{internet:!1,browser:!1,serviceWorker:!1},installable:!1};e.steps.internet=navigator.onLine;let t="undefined"!=typeof InstallTrigger,n=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),r=!!window.webkitURL;return(n||t||r)&&(e.steps.browser=!0),"serviceWorker"in navigator&&(e.steps.serviceWorker=!0),e.steps.browser&&(e.installable=!0),e}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var dlv_umd=createCommonjsModule((function(e,t){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}})),isMergeableObject=function(e){return isNonNullObject(e)&&!isSpecial(e)};function isNonNullObject(e){return!!e&&"object"==typeof e}function isSpecial(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||isReactElement(e)}var canUseSymbol="function"==typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return!1!==t.clone&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,n){return e.concat(t).map((function(e){return cloneUnlessOtherwiseSpecified(e,n)}))}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var n=t.customMerge(e);return"function"==typeof n?n:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch(e){return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,n){var r={};return n.isMergeableObject(e)&&getKeys(e).forEach((function(t){r[t]=cloneUnlessOtherwiseSpecified(e[t],n)})),getKeys(t).forEach((function(i){propertyIsUnsafe(e,i)||(propertyIsOnObject(e,i)&&n.isMergeableObject(t[i])?r[i]=getMergeFunction(i,n)(e[i],t[i],n):r[i]=cloneUnlessOtherwiseSpecified(t[i],n))})),r}function deepmerge(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||isMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):mergeObject(e,t,n):cloneUnlessOtherwiseSpecified(t,n)}deepmerge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return deepmerge(e,n,t)}),{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,TYPE;function isLiteralElement(e){return e.type===TYPE.literal}function isArgumentElement(e){return e.type===TYPE.argument}function isNumberElement(e){return e.type===TYPE.number}function isDateElement(e){return e.type===TYPE.date}function isTimeElement(e){return e.type===TYPE.time}function isSelectElement(e){return e.type===TYPE.select}function isPluralElement(e){return e.type===TYPE.plural}function isDateTimeSkeleton(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural"}(TYPE||(TYPE={}));var __extends=(extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),extendStatics,__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},SyntaxError=function(e){function t(n,r,i,o){var a=e.call(this)||this;return a.message=n,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return __extends(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((a=t)?'"'+r(a)+'"':"end of input")+" found.";var a},t}(Error);function peg$parse(e,t){t=void 0!==t?t:{};var n,r,i,o,a={},s={start:nt},c=nt,u=function(e){return e.join("")},l=function(e){return __assign({type:TYPE.literal,value:e},St())},d=Je("argumentElement"),f="{",p=Xe("{",!1),h="}",m=Xe("}",!1),g=function(e){return __assign({type:TYPE.argument,value:e},St())},v=Je("numberSkeletonId"),y=/^['\/{}]/,b=Ve(["'","/","{","}"],!1,!1),_={type:"any"},k=Je("numberSkeletonTokenOption"),w="/",S=Xe("/",!1),E=function(e){return e},x=Je("numberSkeletonToken"),T=function(e,t){return{stem:e,options:t}},O=function(e){return __assign({type:0,tokens:e},St())},C="::",A=Xe("::",!1),M=function(e){return e},R=function(e){return e.replace(/\s*$/,"")},B=",",P=Xe(",",!1),I="number",L=Xe("number",!1),N=function(e,t,n){return __assign({type:"number"===t?TYPE.number:"date"===t?TYPE.date:TYPE.time,style:n&&n[2],value:e},St())},D="'",j=Xe("'",!1),F=/^[^']/,U=Ve(["'"],!0,!1),z=/^[^a-zA-Z'{}]/,$=Ve([["a","z"],["A","Z"],"'","{","}"],!0,!1),H=/^[a-zA-Z]/,W=Ve([["a","z"],["A","Z"]],!1,!1),G=function(e){return __assign({type:1,pattern:e},St())},Y="date",q=Xe("date",!1),Z="time",K=Xe("time",!1),X="plural",V=Xe("plural",!1),J="selectordinal",Q=Xe("selectordinal",!1),ee="offset:",te=Xe("offset:",!1),ne=function(e,t,n,r){return __assign({type:TYPE.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:r.reduce((function(e,t){var n=t.id,r=t.value,i=t.location;return n in e&&Ke('Duplicate option "'+n+'" in plural element: "'+qe()+'"',Ze()),e[n]={value:r,location:i},e}),{})},St())},re="select",ie=Xe("select",!1),oe=function(e,t){return __assign({type:TYPE.select,value:e,options:t.reduce((function(e,t){var n=t.id,r=t.value,i=t.location;return n in e&&Ke('Duplicate option "'+n+'" in select element: "'+qe()+'"',Ze()),e[n]={value:r,location:i},e}),{})},St())},ae="=",se=Xe("=",!1),ce=function(e,t){return __assign({id:e,value:t},St())},ue=function(e,t){return __assign({id:e,value:t},St())},le=Je("whitespace pattern"),de=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,fe=Ve([["\t","\r"]," ","","‎","‏","\u2028","\u2029"],!1,!1),pe=Je("syntax pattern"),he=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,me=Ve([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),ge=Je("optional whitespace"),ve=Je("number"),ye="-",be=Xe("-",!1),_e=function(e,t){return t?e?-t:t:0},ke=Je("double apostrophes"),we="''",Se=Xe("''",!1),Ee=function(){return"'"},xe=/^[{}]/,Te=Ve(["{","}"],!1,!1),Oe=function(e,t){return e+t.replace("''","'")},Ce=/^[^{}]/,Ae=Ve(["{","}"],!0,!1),Me=Je("argNameOrNumber"),Re=Je("argNumber"),Be="0",Pe=Xe("0",!1),Ie=function(){return 0},Le=/^[1-9]/,Ne=Ve([["1","9"]],!1,!1),De=/^[0-9]/,je=Ve([["0","9"]],!1,!1),Fe=function(e){return parseInt(e.join(""),10)},Ue=Je("argName"),ze=0,$e=0,He=[{line:1,column:1}],We=0,Ge=[],Ye=0;if(void 0!==t.startRule){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=s[t.startRule]}function qe(){return e.substring($e,ze)}function Ze(){return et($e,ze)}function Ke(e,t){throw function(e,t){return new SyntaxError(e,[],"",t)}(e,t=void 0!==t?t:et($e,ze))}function Xe(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ve(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Je(e){return{type:"other",description:e}}function Qe(t){var n,r=He[t];if(r)return r;for(n=t-1;!He[n];)n--;for(r={line:(r=He[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return He[t]=r,r}function et(e,t){var n=Qe(e),r=Qe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function tt(e){ze<We||(ze>We&&(We=ze,Ge=[]),Ge.push(e))}function nt(){return rt()}function rt(){var e,t;for(e=[],t=it();t!==a;)e.push(t),t=it();return e}function it(){var t;return(t=function(){var e,t;e=ze,(t=ot())!==a&&($e=e,t=l(t));return e=t}())===a&&(t=function(){var t,n,r,i;Ye++,t=ze,123===e.charCodeAt(ze)?(n=f,ze++):(n=a,0===Ye&&tt(p));n!==a&&mt()!==a&&(r=_t())!==a&&mt()!==a?(125===e.charCodeAt(ze)?(i=h,ze++):(i=a,0===Ye&&tt(m)),i!==a?($e=t,n=g(r),t=n):(ze=t,t=a)):(ze=t,t=a);Ye--,t===a&&(n=a,0===Ye&&tt(d));return t}())===a&&(t=function(){var t;(t=function(){var t,n,r,i,o,s,c,u,l;t=ze,123===e.charCodeAt(ze)?(n=f,ze++):(n=a,0===Ye&&tt(p));n!==a&&mt()!==a&&(r=_t())!==a&&mt()!==a?(44===e.charCodeAt(ze)?(i=B,ze++):(i=a,0===Ye&&tt(P)),i!==a&&mt()!==a?(e.substr(ze,6)===I?(o=I,ze+=6):(o=a,0===Ye&&tt(L)),o!==a&&mt()!==a?(s=ze,44===e.charCodeAt(ze)?(c=B,ze++):(c=a,0===Ye&&tt(P)),c!==a&&(u=mt())!==a&&(l=function(){var t,n,r;t=ze,e.substr(ze,2)===C?(n=C,ze+=2):(n=a,0===Ye&&tt(A));n!==a&&(r=function(){var e,t,n;if(e=ze,t=[],(n=ct())!==a)for(;n!==a;)t.push(n),n=ct();else t=a;t!==a&&($e=e,t=O(t));return e=t}())!==a?($e=t,n=M(r),t=n):(ze=t,t=a);t===a&&(t=ze,(n=ot())!==a&&($e=t,n=R(n)),t=n);return t}())!==a?s=c=[c,u,l]:(ze=s,s=a),s===a&&(s=null),s!==a&&(c=mt())!==a?(125===e.charCodeAt(ze)?(u=h,ze++):(u=a,0===Ye&&tt(m)),u!==a?($e=t,n=N(r,o,s),t=n):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a);return t}())===a&&(t=function(){var t,n,r,i,o,s,c,u,l;t=ze,123===e.charCodeAt(ze)?(n=f,ze++):(n=a,0===Ye&&tt(p));n!==a&&mt()!==a&&(r=_t())!==a&&mt()!==a?(44===e.charCodeAt(ze)?(i=B,ze++):(i=a,0===Ye&&tt(P)),i!==a&&mt()!==a?(e.substr(ze,4)===Y?(o=Y,ze+=4):(o=a,0===Ye&&tt(q)),o===a&&(e.substr(ze,4)===Z?(o=Z,ze+=4):(o=a,0===Ye&&tt(K))),o!==a&&mt()!==a?(s=ze,44===e.charCodeAt(ze)?(c=B,ze++):(c=a,0===Ye&&tt(P)),c!==a&&(u=mt())!==a&&(l=function(){var t,n,r;t=ze,e.substr(ze,2)===C?(n=C,ze+=2):(n=a,0===Ye&&tt(A));n!==a&&(r=function(){var t,n,r,i;t=ze,n=ze,r=[],(i=ut())===a&&(i=lt());if(i!==a)for(;i!==a;)r.push(i),(i=ut())===a&&(i=lt());else r=a;n=r!==a?e.substring(n,ze):r;n!==a&&($e=t,n=G(n));return t=n}())!==a?($e=t,n=M(r),t=n):(ze=t,t=a);t===a&&(t=ze,(n=ot())!==a&&($e=t,n=R(n)),t=n);return t}())!==a?s=c=[c,u,l]:(ze=s,s=a),s===a&&(s=null),s!==a&&(c=mt())!==a?(125===e.charCodeAt(ze)?(u=h,ze++):(u=a,0===Ye&&tt(m)),u!==a?($e=t,n=N(r,o,s),t=n):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a);return t}());return t}())===a&&(t=function(){var t,n,r,i,o,s,c,u,l,d,g;t=ze,123===e.charCodeAt(ze)?(n=f,ze++):(n=a,0===Ye&&tt(p));if(n!==a)if(mt()!==a)if((r=_t())!==a)if(mt()!==a)if(44===e.charCodeAt(ze)?(i=B,ze++):(i=a,0===Ye&&tt(P)),i!==a)if(mt()!==a)if(e.substr(ze,6)===X?(o=X,ze+=6):(o=a,0===Ye&&tt(V)),o===a&&(e.substr(ze,13)===J?(o=J,ze+=13):(o=a,0===Ye&&tt(Q))),o!==a)if(mt()!==a)if(44===e.charCodeAt(ze)?(s=B,ze++):(s=a,0===Ye&&tt(P)),s!==a)if(mt()!==a)if(c=ze,e.substr(ze,7)===ee?(u=ee,ze+=7):(u=a,0===Ye&&tt(te)),u!==a&&(l=mt())!==a&&(d=gt())!==a?c=u=[u,l,d]:(ze=c,c=a),c===a&&(c=null),c!==a)if((u=mt())!==a){if(l=[],(d=ft())!==a)for(;d!==a;)l.push(d),d=ft();else l=a;l!==a&&(d=mt())!==a?(125===e.charCodeAt(ze)?(g=h,ze++):(g=a,0===Ye&&tt(m)),g!==a?($e=t,n=ne(r,o,c,l),t=n):(ze=t,t=a)):(ze=t,t=a)}else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;return t}())===a&&(t=function(){var t,n,r,i,o,s,c,u,l;t=ze,123===e.charCodeAt(ze)?(n=f,ze++):(n=a,0===Ye&&tt(p));if(n!==a)if(mt()!==a)if((r=_t())!==a)if(mt()!==a)if(44===e.charCodeAt(ze)?(i=B,ze++):(i=a,0===Ye&&tt(P)),i!==a)if(mt()!==a)if(e.substr(ze,6)===re?(o=re,ze+=6):(o=a,0===Ye&&tt(ie)),o!==a)if(mt()!==a)if(44===e.charCodeAt(ze)?(s=B,ze++):(s=a,0===Ye&&tt(P)),s!==a)if(mt()!==a){if(c=[],(u=dt())!==a)for(;u!==a;)c.push(u),u=dt();else c=a;c!==a&&(u=mt())!==a?(125===e.charCodeAt(ze)?(l=h,ze++):(l=a,0===Ye&&tt(m)),l!==a?($e=t,n=oe(r,c),t=n):(ze=t,t=a)):(ze=t,t=a)}else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;else ze=t,t=a;return t}()),t}function ot(){var e,t,n;if(e=ze,t=[],(n=vt())===a&&(n=yt())===a&&(n=bt()),n!==a)for(;n!==a;)t.push(n),(n=vt())===a&&(n=yt())===a&&(n=bt());else t=a;return t!==a&&($e=e,t=u(t)),e=t}function at(){var t,n,r,i,o;if(Ye++,t=ze,n=[],r=ze,i=ze,Ye++,(o=pt())===a&&(y.test(e.charAt(ze))?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(b))),Ye--,o===a?i=void 0:(ze=i,i=a),i!==a?(e.length>ze?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(_)),o!==a?r=i=[i,o]:(ze=r,r=a)):(ze=r,r=a),r!==a)for(;r!==a;)n.push(r),r=ze,i=ze,Ye++,(o=pt())===a&&(y.test(e.charAt(ze))?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(b))),Ye--,o===a?i=void 0:(ze=i,i=a),i!==a?(e.length>ze?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(_)),o!==a?r=i=[i,o]:(ze=r,r=a)):(ze=r,r=a);else n=a;return t=n!==a?e.substring(t,ze):n,Ye--,t===a&&(n=a,0===Ye&&tt(v)),t}function st(){var t,n,r;return Ye++,t=ze,47===e.charCodeAt(ze)?(n=w,ze++):(n=a,0===Ye&&tt(S)),n!==a&&(r=at())!==a?($e=t,t=n=E(r)):(ze=t,t=a),Ye--,t===a&&(n=a,0===Ye&&tt(k)),t}function ct(){var e,t,n,r;if(Ye++,e=ze,mt()!==a)if((t=at())!==a){for(n=[],r=st();r!==a;)n.push(r),r=st();n!==a?($e=e,e=T(t,n)):(ze=e,e=a)}else ze=e,e=a;else ze=e,e=a;return Ye--,e===a&&(a,0===Ye&&tt(x)),e}function ut(){var t,n,r,i;if(t=ze,39===e.charCodeAt(ze)?(n=D,ze++):(n=a,0===Ye&&tt(j)),n!==a){if(r=[],(i=vt())===a&&(F.test(e.charAt(ze))?(i=e.charAt(ze),ze++):(i=a,0===Ye&&tt(U))),i!==a)for(;i!==a;)r.push(i),(i=vt())===a&&(F.test(e.charAt(ze))?(i=e.charAt(ze),ze++):(i=a,0===Ye&&tt(U)));else r=a;r!==a?(39===e.charCodeAt(ze)?(i=D,ze++):(i=a,0===Ye&&tt(j)),i!==a?t=n=[n,r,i]:(ze=t,t=a)):(ze=t,t=a)}else ze=t,t=a;if(t===a)if(t=[],(n=vt())===a&&(z.test(e.charAt(ze))?(n=e.charAt(ze),ze++):(n=a,0===Ye&&tt($))),n!==a)for(;n!==a;)t.push(n),(n=vt())===a&&(z.test(e.charAt(ze))?(n=e.charAt(ze),ze++):(n=a,0===Ye&&tt($)));else t=a;return t}function lt(){var t,n;if(t=[],H.test(e.charAt(ze))?(n=e.charAt(ze),ze++):(n=a,0===Ye&&tt(W)),n!==a)for(;n!==a;)t.push(n),H.test(e.charAt(ze))?(n=e.charAt(ze),ze++):(n=a,0===Ye&&tt(W));else t=a;return t}function dt(){var t,n,r,i,o;return t=ze,mt()!==a&&(n=wt())!==a&&mt()!==a?(123===e.charCodeAt(ze)?(r=f,ze++):(r=a,0===Ye&&tt(p)),r!==a&&(i=rt())!==a?(125===e.charCodeAt(ze)?(o=h,ze++):(o=a,0===Ye&&tt(m)),o!==a?($e=t,t=ce(n,i)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a),t}function ft(){var t,n,r,i,o;return t=ze,mt()!==a&&(n=function(){var t,n,r,i;return t=ze,n=ze,61===e.charCodeAt(ze)?(r=ae,ze++):(r=a,0===Ye&&tt(se)),r!==a&&(i=gt())!==a?n=r=[r,i]:(ze=n,n=a),(t=n!==a?e.substring(t,ze):n)===a&&(t=wt()),t}())!==a&&mt()!==a?(123===e.charCodeAt(ze)?(r=f,ze++):(r=a,0===Ye&&tt(p)),r!==a&&(i=rt())!==a?(125===e.charCodeAt(ze)?(o=h,ze++):(o=a,0===Ye&&tt(m)),o!==a?($e=t,t=ue(n,i)):(ze=t,t=a)):(ze=t,t=a)):(ze=t,t=a),t}function pt(){var t;return Ye++,de.test(e.charAt(ze))?(t=e.charAt(ze),ze++):(t=a,0===Ye&&tt(fe)),Ye--,t===a&&0===Ye&&tt(le),t}function ht(){var t;return Ye++,he.test(e.charAt(ze))?(t=e.charAt(ze),ze++):(t=a,0===Ye&&tt(me)),Ye--,t===a&&0===Ye&&tt(pe),t}function mt(){var t,n,r;for(Ye++,t=ze,n=[],r=pt();r!==a;)n.push(r),r=pt();return t=n!==a?e.substring(t,ze):n,Ye--,t===a&&(n=a,0===Ye&&tt(ge)),t}function gt(){var t,n,r;return Ye++,t=ze,45===e.charCodeAt(ze)?(n=ye,ze++):(n=a,0===Ye&&tt(be)),n===a&&(n=null),n!==a&&(r=kt())!==a?($e=t,t=n=_e(n,r)):(ze=t,t=a),Ye--,t===a&&(n=a,0===Ye&&tt(ve)),t}function vt(){var t,n;return Ye++,t=ze,e.substr(ze,2)===we?(n=we,ze+=2):(n=a,0===Ye&&tt(Se)),n!==a&&($e=t,n=Ee()),Ye--,(t=n)===a&&(n=a,0===Ye&&tt(ke)),t}function yt(){var t,n,r,i,o,s;if(t=ze,39===e.charCodeAt(ze)?(n=D,ze++):(n=a,0===Ye&&tt(j)),n!==a)if(xe.test(e.charAt(ze))?(r=e.charAt(ze),ze++):(r=a,0===Ye&&tt(Te)),r!==a){for(i=ze,o=[],e.substr(ze,2)===we?(s=we,ze+=2):(s=a,0===Ye&&tt(Se)),s===a&&(F.test(e.charAt(ze))?(s=e.charAt(ze),ze++):(s=a,0===Ye&&tt(U)));s!==a;)o.push(s),e.substr(ze,2)===we?(s=we,ze+=2):(s=a,0===Ye&&tt(Se)),s===a&&(F.test(e.charAt(ze))?(s=e.charAt(ze),ze++):(s=a,0===Ye&&tt(U)));(i=o!==a?e.substring(i,ze):o)!==a?(39===e.charCodeAt(ze)?(o=D,ze++):(o=a,0===Ye&&tt(j)),o!==a?($e=t,t=n=Oe(r,i)):(ze=t,t=a)):(ze=t,t=a)}else ze=t,t=a;else ze=t,t=a;return t}function bt(){var t,n;return t=ze,Ce.test(e.charAt(ze))?(n=e.charAt(ze),ze++):(n=a,0===Ye&&tt(Ae)),t=n!==a?e.substring(t,ze):n}function _t(){var t,n;return Ye++,t=ze,(n=kt())===a&&(n=wt()),t=n!==a?e.substring(t,ze):n,Ye--,t===a&&(n=a,0===Ye&&tt(Me)),t}function kt(){var t,n,r,i,o;if(Ye++,t=ze,48===e.charCodeAt(ze)?(n=Be,ze++):(n=a,0===Ye&&tt(Pe)),n!==a&&($e=t,n=Ie()),(t=n)===a){if(t=ze,n=ze,Le.test(e.charAt(ze))?(r=e.charAt(ze),ze++):(r=a,0===Ye&&tt(Ne)),r!==a){for(i=[],De.test(e.charAt(ze))?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(je));o!==a;)i.push(o),De.test(e.charAt(ze))?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(je));i!==a?n=r=[r,i]:(ze=n,n=a)}else ze=n,n=a;n!==a&&($e=t,n=Fe(n)),t=n}return Ye--,t===a&&(n=a,0===Ye&&tt(Re)),t}function wt(){var t,n,r,i,o;if(Ye++,t=ze,n=[],r=ze,i=ze,Ye++,(o=pt())===a&&(o=ht()),Ye--,o===a?i=void 0:(ze=i,i=a),i!==a?(e.length>ze?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(_)),o!==a?r=i=[i,o]:(ze=r,r=a)):(ze=r,r=a),r!==a)for(;r!==a;)n.push(r),r=ze,i=ze,Ye++,(o=pt())===a&&(o=ht()),Ye--,o===a?i=void 0:(ze=i,i=a),i!==a?(e.length>ze?(o=e.charAt(ze),ze++):(o=a,0===Ye&&tt(_)),o!==a?r=i=[i,o]:(ze=r,r=a)):(ze=r,r=a);else n=a;return t=n!==a?e.substring(t,ze):n,Ye--,t===a&&(n=a,0===Ye&&tt(Ue)),t}function St(){return t&&t.captureLocation?{location:Ze()}:{}}if((n=c())!==a&&ze===e.length)return n;throw n!==a&&ze<e.length&&tt({type:"end"}),r=Ge,i=We<e.length?e.charAt(We):null,o=We<e.length?et(We,We+1):et(We,We),new SyntaxError(SyntaxError.buildMessage(r,i),r,i,o)}var pegParse=peg$parse,__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},PLURAL_HASHTAG_REGEX=/(^|[^\\])#/g;function normalizeHashtagInPlural(e){e.forEach((function(e){(isPluralElement(e)||isSelectElement(e))&&Object.keys(e.options).forEach((function(t){for(var n,r=e.options[t],i=-1,o=void 0,a=0;a<r.value.length;a++){var s=r.value[a];if(isLiteralElement(s)&&PLURAL_HASHTAG_REGEX.test(s.value)){i=a,o=s;break}}if(o){var c=o.value.replace(PLURAL_HASHTAG_REGEX,"$1{"+e.value+", number}"),u=pegParse(c);(n=r.value).splice.apply(n,__spreadArrays([i,1],u))}normalizeHashtagInPlural(r.value)}))}))}var DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(e){var t={};return e.replace(DATE_TIME_REGEX,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),t}function parse(e,t){var n=pegParse(e,t);return t&&!1===t.normalizeHashtagInPlural||normalizeHashtagInPlural(n),n}var __spreadArrays$1=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function getCacheId(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?orderedProps(e):e})))}function orderedProps(e){return Object.keys(e).sort().map((function(t){var n;return(n={})[t]=e[t],n}))}var memoizeFormatConstructor=function(e,t){return void 0===t&&(t={}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=getCacheId(r),a=o&&t[o];return a||(a=new((n=e).bind.apply(n,__spreadArrays$1([void 0],r))),o&&(t[o]=a)),a}},__extends$1=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__spreadArrays$2=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},ESCAPE_HASH_REGEX=/\\#/g,PLURAL_HASH=/(^|[^\\])#/g,FormatError=function(e){function t(t,n){var r=e.call(this,t)||this;return r.variableId=n,r}return __extends$1(t,e),t}(Error),domParser;function mergeLiteral(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e}),[])}function formatToParts(e,t,n,r,i,o,a){if(1===e.length&&isLiteralElement(e[0])){var s=e[0].value;return"number"==typeof o&&(s=s.replace(PLURAL_HASH,"$1"+n.getNumberFormat(t).format(o))),[{type:0,value:s.replace(ESCAPE_HASH_REGEX,"#")}]}for(var c=[],u=0,l=e;u<l.length;u++){var d=l[u];if(isLiteralElement(d)){var f=d.value;"number"==typeof o&&(f=f.replace(PLURAL_HASH,"$1"+n.getNumberFormat(t).format(o))),c.push({type:0,value:f.replace(ESCAPE_HASH_REGEX,"#")})}else{var p=d.value;if(!(i&&p in i))throw new FormatError('The intl string context variable "'+p+'" was not provided to the string "'+a+'"');s=i[p];if(isArgumentElement(d))s&&"string"!=typeof s&&"number"!=typeof s||(s="string"==typeof s||"number"==typeof s?String(s):""),c.push({type:1,value:s});else if(isDateElement(d)){var h="string"==typeof d.style?r.date[d.style]:void 0;c.push({type:0,value:n.getDateTimeFormat(t,h).format(s)})}else if(isTimeElement(d)){h="string"==typeof d.style?r.time[d.style]:isDateTimeSkeleton(d.style)?parseDateTimeSkeleton(d.style.pattern):void 0;c.push({type:0,value:n.getDateTimeFormat(t,h).format(s)})}else if(isNumberElement(d)){h="string"==typeof d.style?r.number[d.style]:void 0;c.push({type:0,value:n.getNumberFormat(t,h).format(s)})}else if(isSelectElement(d)){if(!(m=d.options[s]||d.options.other))throw new RangeError('Invalid values for "'+d.value+'": "'+s+'". Options are "'+Object.keys(d.options).join('", "')+'"');c.push.apply(c,formatToParts(m.value,t,n,r,i))}else if(isPluralElement(d)){var m;if(!(m=d.options["="+s])){if(!Intl.PluralRules)throw new FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var g=n.getPluralRules(t,{type:d.pluralType}).select(s-(d.offset||0));m=d.options[g]||d.options.other}if(!m)throw new RangeError('Invalid values for "'+d.value+'": "'+s+'". Options are "'+Object.keys(d.options).join('", "')+'"');c.push.apply(c,formatToParts(m.value,t,n,r,i,s-(d.offset||0)))}else;}}return mergeLiteral(c)}function formatToString(e,t,n,r,i,o){var a=formatToParts(e,t,n,r,i,void 0,o);return 1===a.length?a[0].value:a.reduce((function(e,t){return e+t.value}),"")}var TOKEN_DELIMITER="@@",TOKEN_REGEX=/@@(\d+_\d+)@@/g,counter=0;function generateId(){return Date.now()+"_"+ ++counter}function restoreRichPlaceholderMessage(e,t){return e.split(TOKEN_REGEX).filter(Boolean).map((function(e){return null!=t[e]?t[e]:e})).reduce((function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e}),[])}var SIMPLE_XML_REGEX=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,TEMPLATE_ID=Date.now()+"@@",VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function formatHTMLElement(e,t,n){var r=e.tagName,i=e.outerHTML,o=e.textContent,a=e.childNodes;if(!r)return restoreRichPlaceholderMessage(o||"",t);r=r.toLowerCase();var s=~VOID_ELEMENTS.indexOf(r),c=n[r];if(c&&s)throw new FormatError(r+" is a self-closing tag and can not be used, please use another tag name.");if(!a.length)return[i];var u=Array.prototype.slice.call(a).reduce((function(e,r){return e.concat(formatHTMLElement(r,t,n))}),[]);return c?"function"==typeof c?[c.apply(void 0,u)]:[c]:__spreadArrays$2(["<"+r+">"],u,["</"+r+">"])}function formatHTMLMessage(e,t,n,r,i,o){var a=formatToParts(e,t,n,r,i,void 0,o),s={},c=a.reduce((function(e,t){if(0===t.type)return e+t.value;var n=generateId();return s[n]=t.value,e+""+TOKEN_DELIMITER+n+TOKEN_DELIMITER}),"");if(!SIMPLE_XML_REGEX.test(c))return restoreRichPlaceholderMessage(c,s);if(!i)throw new FormatError("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new FormatError("Cannot format XML message without DOMParser");domParser||(domParser=new DOMParser);var u=domParser.parseFromString('<formatted-message id="'+TEMPLATE_ID+'">'+c+"</formatted-message>","text/html").getElementById(TEMPLATE_ID);if(!u)throw new FormatError("Malformed HTML message "+c);var l=Object.keys(i).filter((function(e){return!!u.getElementsByTagName(e).length}));if(!l.length)return restoreRichPlaceholderMessage(c,s);var d=l.filter((function(e){return e!==e.toLowerCase()}));if(d.length)throw new FormatError("HTML tag must be lowercased but the following tags are not: "+d.join(", "));return Array.prototype.slice.call(u.childNodes).reduce((function(e,t){return e.concat(formatHTMLElement(t,s,i))}),[])}var __assign$1=function(){return(__assign$1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function mergeConfig(e,t){return t?__assign$1(__assign$1(__assign$1({},e||{}),t||{}),Object.keys(e).reduce((function(n,r){return n[r]=__assign$1(__assign$1({},e[r]),t[r]||{}),n}),{})):e}function mergeConfigs(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=mergeConfig(e[r],t[r]),n}),__assign$1({},e)):e}function createDefaultFormatters(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:memoizeFormatConstructor(Intl.NumberFormat,e.number),getDateTimeFormat:memoizeFormatConstructor(Intl.DateTimeFormat,e.dateTime),getPluralRules:memoizeFormatConstructor(Intl.PluralRules,e.pluralRules)}}var IntlMessageFormat=function(){function e(t,n,r,i){var o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return formatToString(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.formatToParts=function(e){return formatToParts(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.formatHTMLMessage=function(e){return formatHTMLMessage(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mergeConfigs(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||createDefaultFormatters(this.formatterCache)}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=parse,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function memoize(e,t){var n=t&&t.cache?t.cache:cacheDefault,r=t&&t.serializer?t.serializer:serializerDefault;return(t&&t.strategy?t.strategy:strategyDefault)(e,{cache:n,serializer:r})}function isPrimitive(e){return null==e||"number"==typeof e||"boolean"==typeof e}function monadic(e,t,n,r){var i=isPrimitive(r)?r:n(r),o=t.get(i);return void 0===o&&(o=e.call(this,r),t.set(i,o)),o}function variadic(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function assemble(e,t,n,r,i){return n.bind(t,e,r,i)}function strategyDefault(e,t){return assemble(e,this,1===e.length?monadic:variadic,t.cache.create(),t.serializer)}function strategyVariadic(e,t){return assemble(e,this,variadic,t.cache.create(),t.serializer)}function strategyMonadic(e,t){return assemble(e,this,monadic,t.cache.create(),t.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(e){return e in this.cache},ObjectWithoutPrototypeCache.prototype.get=function(e){return this.cache[e]},ObjectWithoutPrototypeCache.prototype.set=function(e,t){this.cache[e]=t};var cacheDefault={create:function(){return new ObjectWithoutPrototypeCache}},src=memoize,strategies={variadic:strategyVariadic,monadic:strategyMonadic};let a$1;src.strategies=strategies;const l=writable({});function s$1(e){return a$1[e]||null}function c$1(e){return e in a$1}function u$1(e,...t){l.update(n=>(a$1[e]=cjs.all([s$1(e)||{}].concat(t)),n))}const m=derived([l],([e])=>Object.keys(e));l.subscribe(e=>a$1=e);const f=writable(!1),d=(e,t)=>{const n=e.split("&").find(e=>0===e.indexOf(`${t}=`));return n?n.split("=").pop():null},h=(e,t)=>{const n=t.exec(e);return n&&n[1]||null},p=({navigator:e,hash:t,search:n,pathname:r,hostname:i})=>{let o;return"undefined"==typeof window?null:i&&(o=h(window.location.hostname,i))?o:r&&(o=h(window.location.pathname,r))?o:e&&(o=window.navigator.language||window.navigator.languages[0])?o:n&&(o=d(window.location.search.substr(1),n))?o:t&&(o=d(window.location.hash.substr(1),t))?o:null},g={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0};function w(){return g}function b(e){const{formats:t,...n}=e,r=e.initialLocale?"string"==typeof e.initialLocale?e.initialLocale:p(e.initialLocale)||e.fallbackLocale:e.fallbackLocale;return Object.assign(g,n,{initialLocale:r}),t&&("number"in t&&Object.assign(g.formats.number,t.number),"date"in t&&Object.assign(g.formats.date,t.date),"time"in t&&Object.assign(g.formats.time,t.time)),D.set(r)}const y={};function L(e){return y[e]}function v(e){return T(e).reverse().some(L)}const O={};function j(e){if(!v(e))return;if(e in O)return O[e];const t=function(e){return T(e).reverse().map(e=>{const t=L(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}(e);if(0===t.length)return;const n=setTimeout(()=>f.set(!0),w().loadingDelay);return O[e]=Promise.all(t.map(([e,t])=>Promise.all(t.map(e=>e())).then(t=>{!function(e){delete y[e]}(e),t=t.map(e=>e.default||e),u$1(e,...t)}))).then(()=>{clearTimeout(n),f.set(!1),delete O[e]}),O[e]}let x;const D=writable(null);function E(e,t){return 0===t.indexOf(e)&&e!==t}function $(e,t){return e===t||E(e,t)||E(t,e)}function C(e){const t=e.lastIndexOf("-");if(t>0)return e.slice(0,t);const{fallbackLocale:n}=w();return n&&!$(e,n)?n:null}function T(e){const t=e.split("-").map((e,t,n)=>n.slice(0,t+1).join("-")),{fallbackLocale:n}=w();return n&&!$(e,n)?t.concat(T(n)):t}function A(){return x}D.subscribe(e=>{x=e,"undefined"!=typeof window&&document.documentElement.setAttribute("lang",e)});const I=D.set;D.set=e=>(function e(t){return null==t||c$1(t)?t:e(C(t))})(e)&&v(e)?j(e).then(()=>I(e)):I(e),D.update=e=>I(e(x));const M={},N=(e,t)=>{if(null==t)return null;if(t in M&&e in M[t])return M[t][e];return function(e,t){if(c$1(e)){const n=s$1(e);if(t in n)return n[t];const r=dlv_umd(n,t);if(r)return r}return null}(t,e)||((e,t,n)=>n?(t in M||(M[t]={}),e in M[t]||(M[t][e]=n),n):n)(e,t,N(e,C(t)))},S=(e,t)=>{const n=w().formats;if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},U=src(({locale:e,format:t,...n}={})=>{if(null==(e=e||A()))throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return t&&(n=S("number",t)),new Intl.NumberFormat(e,n)}),F=src(({locale:e,format:t,...n}={})=>{if(null==(e=e||A()))throw new Error('[svelte-i18n] A "locale" must be set to format dates');return t?n=S("date",t):0===Object.keys(n).length&&(n=S("date","short")),new Intl.DateTimeFormat(e,n)}),P=src(({locale:e,format:t,...n}={})=>{if(null==(e=e||A()))throw new Error('[svelte-i18n] A "locale" must be set to format time values');return t?n=S("time",t):0===Object.keys(n).length&&(n=S("time","short")),new Intl.DateTimeFormat(e,n)}),Z=src((e,t)=>new IntlMessageFormat(e,t,w().formats)),z=(e,t={})=>{"object"==typeof e&&(e=(t=e).id);const{values:n,locale:r=A(),default:i}=t;if(null==r)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");const o=N(e,r);return o?n?Z(o,r).format(n):o:(w().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${T(r).join('", "')}".${v(A())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),i||e)};z.time=(e,t)=>P(t).format(e),z.date=(e,t)=>F(t).format(e),z.number=(e,t)=>U(t).format(e),z.capital=(e,t)=>(function(e){return e.replace(/(^|\s)\S/,e=>e.toLocaleUpperCase())})(z(e,t)),z.title=(e,t)=>(function(e){return e.replace(/(^|\s)\S/g,e=>e.toLocaleUpperCase())})(z(e,t)),z.upper=(e,t)=>(function(e){return e.toLocaleUpperCase()})(z(e,t)),z.lower=(e,t)=>(function(e){return e.toLocaleLowerCase()})(z(e,t));const _$1=derived([D,l],()=>z);function regexparam(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,a=[],s="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)"*"===(n=i[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function create_fragment(e){let t,n;var r=e[0];function i(e){return{props:{params:e[1]}}}if(r)var o=new r(i(e));return{c(){o&&create_component(o.$$.fragment),t=empty()},m(e,r){o&&mount_component(o,e,r),insert(e,t,r),n=!0},p(e,[n]){const a={};if(2&n&&(a.params=e[1]),r!==(r=e[0])){if(o){group_outros();const e=o;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}r?(create_component((o=new r(i(e))).$$.fragment),transition_in(o.$$.fragment,1),mount_component(o,t.parentNode,t)):o=null}else r&&o.$set(a)},i(e){n||(o&&transition_in(o.$$.fragment,e),n=!0)},o(e){o&&transition_out(o.$$.fragment,e),n=!1},d(e){e&&detach(t),o&&destroy_component(o,e)}}}function getLocation(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const loc=readable(getLocation(),(function(e){const t=()=>{e(getLocation())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}})),location$1=derived(loc,e=>e.location),querystring=derived(loc,e=>e.querystring);function push(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==e.charAt(0)?"":"#")+e},0)}function link(e){if(!e||!e.tagName||"a"!=e.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const t=e.getAttribute("href");if(!t||t.length<1||"/"!=t.charAt(0))throw Error('Invalid value for "href" attribute');e.setAttribute("href","#"+t)}function instance(e,t,n){let r,i=noop;component_subscribe(e,loc,e=>n(4,r=e)),e.$$.on_destroy.push(()=>i());let{routes:o={}}=t,{prefix:a=""}=t;class s{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=regexparam(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.route,this.conditions=t.conditions||[],this.userData=t.userData):(this.component=t,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=r}match(e){a&&e.startsWith(a)&&(e=e.substr(a.length)||"/");const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=t[++r]||null;return n}checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!this.conditions[t](e))return!1;return!0}}const c=o instanceof Map?o:Object.entries(o),u=[];for(const[e,t]of c)u.push(new s(e,t));let l=null,d={};const f=createEventDispatcher(),p=(e,t)=>{setTimeout(()=>{f(e,t)},0)};return e.$set=e=>{"routes"in e&&n(2,o=e.routes),"prefix"in e&&n(3,a=e.prefix)},e.$$.update=()=>{if(17&e.$$.dirty){n(0,l=null);let e=0;for(;!l&&e<u.length;){const t=u[e].match(r.location);if(t){const i={component:u[e].component,name:u[e].component.name,location:r.location,querystring:r.querystring,userData:u[e].userData};if(!u[e].checkConditions(i)){p("conditionsFailed",i);break}n(0,l=u[e].component),n(1,d=t),p("routeLoaded",i)}e++}}},[l,d,o,a]}class Router extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{routes:2,prefix:3})}}function cubicOut(e){const t=e-1;return t*t*t+1}function fly(e,{delay:t=0,duration:n=400,easing:r=cubicOut,x:i=0,y:o=0,opacity:a=0}){const s=getComputedStyle(e),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*i}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-l*t}`}}const nodes=[];let location$2;function checkActive(e){e.node.classList.remove(e.className),e.pattern.test(location$2)&&e.node.classList.add(e.className)}function active$1(e,t){if(!(t=t&&"string"==typeof t?{path:t}:t||{}).path&&e.hasAttribute("href")&&(t.path=e.getAttribute("href"),t.path&&t.path.length>1&&"#"==t.path.charAt(0)&&(t.path=t.path.substring(1))),t.className||(t.className="active"),!t.path||t.path.length<1||"/"!=t.path.charAt(0)&&"*"!=t.path.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n}=regexparam(t.path),r={node:e,className:t.className,pattern:n};return nodes.push(r),checkActive(r),{destroy(){nodes.splice(nodes.indexOf(r),1)}}}function get_each_context(e,t,n){const r=e.slice();return r[14]=t[n],r}function create_if_block_1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L,N,D,j,F,U,z,$,H,W,G,Y=e[3]("header.write.title")+"",q=e[3]("header.cards.title")+"",Z=e[3]("header.settings.title")+"",K=e[3]("header.export.title")+"",X=e[3]("header.cloud.title")+"",V=e[5]&&create_if_block_2();return{c(){t=element("div"),n=element("ul"),r=element("div"),i=space(),(o=element("div")).innerHTML='<span class="lnr lnr-cross"></span>',a=space(),s=element("li"),(c=element("a")).innerHTML='<img src="logo.png" alt="OmniaWrite Logo">',d=space(),f=element("li"),p=element("a"),h=text(Y),v=space(),y=element("li"),b=element("a"),_=text(q),S=space(),E=element("li"),x=element("a"),T=text(Z),A=space(),M=element("li"),R=element("a"),B=text(K),L=space(),N=element("li"),D=element("a"),j=text(X),z=space(),V&&V.c(),attr(r,"class","backdrop"),attr(r,"data-deskgap-no-drag",""),attr(o,"class","close"),attr(o,"data-deskgap-no-drag",""),attr(c,"href","/"),attr(s,"data-deskgap-no-drag",""),attr(p,"href","/write/"),attr(f,"data-deskgap-no-drag",""),attr(b,"href","/cards/"),attr(y,"data-deskgap-no-drag",""),attr(x,"href","/settings"),attr(E,"data-deskgap-no-drag",""),attr(R,"href","/export"),attr(M,"data-deskgap-no-drag",""),attr(D,"href","/cloud"),attr(N,"data-deskgap-no-drag",""),attr(n,"class","menu"),attr(t,"id","navigation"),attr(t,"class","navigation"),toggle_class(t,"active",e[0]),G=[listen(r,"click",e[9]),listen(o,"click",e[10])]},m(e,$){insert(e,t,$),append(t,n),append(n,r),append(n,i),append(n,o),append(n,a),append(n,s),append(s,c),u=link.call(null,c)||{},l=active$1.call(null,s,"/")||{},append(n,d),append(n,f),append(f,p),append(p,h),m=link.call(null,p)||{},g=active$1.call(null,f,"/write/*")||{},append(n,v),append(n,y),append(y,b),append(b,_),k=link.call(null,b)||{},w=active$1.call(null,y,"/cards/")||{},append(n,S),append(n,E),append(E,x),append(x,T),O=link.call(null,x)||{},C=active$1.call(null,E,"/settings")||{},append(n,A),append(n,M),append(M,R),append(R,B),P=link.call(null,R)||{},I=active$1.call(null,M,"/export")||{},append(n,L),append(n,N),append(N,D),append(D,j),F=link.call(null,D)||{},U=active$1.call(null,N,"/cloud")||{},append(t,z),V&&V.m(t,null),W=!0},p(e,n){(!W||8&n)&&Y!==(Y=e[3]("header.write.title")+"")&&set_data(h,Y),(!W||8&n)&&q!==(q=e[3]("header.cards.title")+"")&&set_data(_,q),(!W||8&n)&&Z!==(Z=e[3]("header.settings.title")+"")&&set_data(T,Z),(!W||8&n)&&K!==(K=e[3]("header.export.title")+"")&&set_data(B,K),(!W||8&n)&&X!==(X=e[3]("header.cloud.title")+"")&&set_data(j,X),e[5]&&V.p(e,n),1&n&&toggle_class(t,"active",e[0])},i(e){W||(add_render_callback(()=>{H&&H.end(1),$||($=create_in_transition(t,fly,{y:200,duration:200})),$.start()}),W=!0)},o(e){$&&$.invalidate(),H=create_out_transition(t,fly,{y:200,duration:200}),W=!1},d(e){e&&detach(t),u&&is_function(u.destroy)&&u.destroy(),l&&is_function(l.destroy)&&l.destroy(),m&&is_function(m.destroy)&&m.destroy(),g&&is_function(g.destroy)&&g.destroy(),k&&is_function(k.destroy)&&k.destroy(),w&&is_function(w.destroy)&&w.destroy(),O&&is_function(O.destroy)&&O.destroy(),C&&is_function(C.destroy)&&C.destroy(),P&&is_function(P.destroy)&&P.destroy(),I&&is_function(I.destroy)&&I.destroy(),F&&is_function(F.destroy)&&F.destroy(),U&&is_function(U.destroy)&&U.destroy(),V&&V.d(),e&&H&&H.end(),run_all(G)}}}function create_if_block_2(e){let t,n,r,i;return{c(){t=element("span"),n=space(),r=element("span"),attr(t,"class","lnr lnr-cross titlebar svelte-l142x6"),attr(t,"data-deskgap-no-drag",""),attr(r,"class","lnr lnr-chevron-down titlebar svelte-l142x6"),attr(r,"data-deskgap-no-drag",""),i=[listen(t,"click",deskgap.closeWindow),listen(r,"click",deskgap.minimizeWindow)]},m(e,i){insert(e,t,i),insert(e,n,i),insert(e,r,i)},p:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r),run_all(i)}}}function create_each_block(e){let t,n,r,i,o,a,s,c,u,l=e[14].title+"";function d(...t){return e[13](e[14],...t)}return{c(){t=element("li"),n=element("a"),r=text(l),a=space(),s=element("span"),attr(n,"href",i=e[14].link),attr(s,"class","lnr lnr-cross tab-action svelte-l142x6"),attr(t,"class","tab"),u=listen(s,"click",d)},m(i,u){insert(i,t,u),append(t,n),append(n,r),o=link.call(null,n)||{},append(t,a),append(t,s),c=active$1.call(null,t,e[14].link)||{}},p(t,o){e=t,18&o&&l!==(l=e[14].title+"")&&set_data(r,l),18&o&&i!==(i=e[14].link)&&attr(n,"href",i),is_function(c.update)&&18&o&&c.update.call(null,e[14].link)},d(e){e&&detach(t),o&&is_function(o.destroy)&&o.destroy(),c&&is_function(c.destroy)&&c.destroy(),u()}}}function create_if_block(e){let t,n;return{c(){(t=element("li")).innerHTML='<span class="lnr lnr-plus-circle"></span>',attr(t,"class","tab new svelte-l142x6"),n=listen(t,"click",e[7])},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t),n()}}}function create_fragment$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g="/write/"!=e[2]&&e[2].includes("write"),v=e[0]&&create_if_block_1(e),y=e[4].filter(e[12]),b=[];for(let t=0;t<y.length;t+=1)b[t]=create_each_block(get_each_context(e,y,t));let _=g&&create_if_block(e);return{c(){t=element("header"),n=element("nav"),(r=element("button")).innerHTML='<span class="lnr lnr-menu"></span>',i=space(),(o=element("a")).innerHTML='<img src="logo.png" alt="OmniaWrite Logo">',s=space(),v&&v.c(),c=space(),(u=element("button")).innerHTML='<span class="lnr lnr-book"></span>',l=space(),d=element("div"),f=element("ul");for(let e=0;e<b.length;e+=1)b[e].c();p=space(),_&&_.c(),attr(r,"class","burger"),attr(r,"id","open-sidebar"),attr(r,"data-deskgap-no-drag",""),attr(o,"class","logo-mobile"),attr(o,"href","/"),attr(o,"data-deskgap-no-drag",""),attr(u,"class","mobile"),attr(u,"id","open-navigation"),attr(u,"data-deskgap-no-drag",""),attr(n,"class","header noselect"),attr(d,"class","tabs"),attr(d,"data-deskgap-no-drag",""),attr(t,"data-deskgap-drag",""),m=[listen(r,"click",e[8]),listen(u,"click",e[11])]},m(e,m){insert(e,t,m),append(t,n),append(n,r),append(n,i),append(n,o),a=link.call(null,o)||{},append(n,s),v&&v.m(n,null),append(n,c),append(n,u),append(t,l),append(t,d),append(d,f);for(let e=0;e<b.length;e+=1)b[e].m(f,null);append(f,p),_&&_.m(f,null),h=!0},p(e,[t]){if(e[0]?v?(v.p(e,t),transition_in(v,1)):((v=create_if_block_1(e)).c(),transition_in(v,1),v.m(n,c)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()),18&t){let n;for(y=e[4].filter(e[12]),n=0;n<y.length;n+=1){const r=get_each_context(e,y,n);b[n]?b[n].p(r,t):(b[n]=create_each_block(r),b[n].c(),b[n].m(f,p))}for(;n<b.length;n+=1)b[n].d(1);b.length=y.length}4&t&&(g="/write/"!=e[2]&&e[2].includes("write")),g?_?_.p(e,t):((_=create_if_block(e)).c(),_.m(f,null)):_&&(_.d(1),_=null)},i(e){h||(transition_in(v),h=!0)},o(e){transition_out(v),h=!1},d(e){e&&detach(t),a&&is_function(a.destroy)&&a.destroy(),v&&v.d(),destroy_each(b,e),_&&_.d(),run_all(m)}}}function instance$1(e,t,n){let r,i,o,a;component_subscribe(e,state,e=>n(1,r=e)),component_subscribe(e,location$1,e=>n(2,i=e)),component_subscribe(e,_$1,e=>n(3,o=e)),component_subscribe(e,tabs,e=>n(4,a=e));let{navigationState:s}=t;const c=deskgap.isRunning(),u=createEventDispatcher();return e.$set=e=>{"navigationState"in e&&n(0,s=e.navigationState)},[s,r,i,o,a,c,u,function(){tabs.createTab(r.currentProject,r.currentTitle,i)},()=>u("openSidebar"),()=>n(0,s=!1),()=>n(0,s=!1),()=>n(0,s=!0),e=>e.project==r.currentProject,e=>tabs.removeTab(e.id)]}loc.subscribe(e=>{location$2=e.location+(e.querystring?"?"+e.querystring:""),nodes.map(checkActive)});class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{navigationState:0})}}const get_header_slot_changes=e=>({}),get_header_slot_context=e=>({});function create_if_block$1(e){let t,n,r,i,o,a,s,c,u=!e[2]&&create_if_block_1$1(e);const l=e[4].header,d=create_slot(l,e,e[3],get_header_slot_context),f=e[4].default,p=create_slot(f,e,e[3],null);return{c(){t=element("div"),n=space(),r=element("div"),u&&u.c(),i=space(),d&&d.c(),o=space(),p&&p.c(),attr(t,"class","modal-background svelte-2k85as"),attr(r,"class","modal svelte-2k85as"),toggle_class(r,"fullscreen",e[1]),c=listen(t,"click",e[5])},m(e,a){insert(e,t,a),insert(e,n,a),insert(e,r,a),u&&u.m(r,null),append(r,i),d&&d.m(r,null),append(r,o),p&&p.m(r,null),s=!0},p(e,t){e[2]?u&&(u.d(1),u=null):u?u.p(e,t):((u=create_if_block_1$1(e)).c(),u.m(r,i)),d&&d.p&&8&t&&d.p(get_slot_context(l,e,e[3],get_header_slot_context),get_slot_changes(l,e[3],t,get_header_slot_changes)),p&&p.p&&8&t&&p.p(get_slot_context(f,e,e[3],null),get_slot_changes(f,e[3],t,null)),2&t&&toggle_class(r,"fullscreen",e[1])},i(e){s||(transition_in(d,e),transition_in(p,e),a||add_render_callback(()=>{(a=create_in_transition(r,fly,{y:200,duration:200})).start()}),s=!0)},o(e){transition_out(d,e),transition_out(p,e),s=!1},d(e){e&&detach(t),e&&detach(n),e&&detach(r),u&&u.d(),d&&d.d(e),p&&p.d(e),c()}}}function create_if_block_1$1(e){let t,n;return{c(){(t=element("div")).innerHTML='<span class="lnr lnr-cross"></span>',attr(t,"class","modal-close svelte-2k85as"),n=listen(t,"click",e[6])},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t),n()}}}function create_fragment$2(e){let t,n,r=e[0]&&create_if_block$1(e);return{c(){r&&r.c(),t=empty()},m(e,i){r&&r.m(e,i),insert(e,t,i),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),transition_in(r,1)):((r=create_if_block$1(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance$2(e,t,n){let{show:r=!1}=t,{fullscreen:i=!1}=t,{persistent:o=!1}=t,{$$slots:a={},$$scope:s}=t;return e.$set=e=>{"show"in e&&n(0,r=e.show),"fullscreen"in e&&n(1,i=e.fullscreen),"persistent"in e&&n(2,o=e.persistent),"$$scope"in e&&n(3,s=e.$$scope)},[r,i,o,s,a,()=>n(0,r=!1),()=>n(0,r=!1)]}class Modal extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{show:0,fullscreen:1,persistent:2})}}function create_fragment$3(e){let t;return{c(){(t=element("div")).textContent="No project selected",attr(t,"class","placeholder svelte-1drv22k")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Placeholder extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$3,safe_not_equal,{})}}function get_each_context_1(e,t,n){const r=e.slice();return r[45]=t[n],r}function get_each_context$1(e,t,n){const r=e.slice();return r[42]=t[n],r[44]=n,r}function get_each_context_2(e,t,n){const r=e.slice();return r[45]=t[n],r}function create_header_slot_3(e){let t,n,r=e[10]("sidebar.modal.newChapter.header")+"";return{c(){t=element("h2"),n=text(r),attr(t,"slot","header")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){1024&t&&r!==(r=e[10]("sidebar.modal.newChapter.header")+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_default_slot_3(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h=e[10]("sidebar.modal.title")+"",m=e[10]("sidebar.modal.newChapter.button")+"";return{c(){t=space(),n=element("div"),r=element("label"),i=text(h),o=space(),a=element("input"),s=space(),c=element("hr"),u=space(),l=element("div"),d=element("button"),f=text(m),attr(r,"for","editChapterInput"),attr(a,"id","editChapterInput"),attr(a,"autocomplete","off"),attr(a,"placeholder","enter your title"),attr(a,"type","text"),attr(n,"class","field"),attr(l,"class","btn-group"),p=[listen(a,"input",e[19]),listen(d,"click",e[13])]},m(p,h){insert(p,t,h),insert(p,n,h),append(n,r),append(r,i),append(n,o),append(n,a),set_input_value(a,e[2]),insert(p,s,h),insert(p,c,h),insert(p,u,h),insert(p,l,h),append(l,d),append(d,f)},p(e,t){1024&t&&h!==(h=e[10]("sidebar.modal.title")+"")&&set_data(i,h),4&t&&a.value!==e[2]&&set_input_value(a,e[2]),1024&t&&m!==(m=e[10]("sidebar.modal.newChapter.button")+"")&&set_data(f,m)},d(e){e&&detach(t),e&&detach(n),e&&detach(s),e&&detach(c),e&&detach(u),e&&detach(l),run_all(p)}}}function create_header_slot_2(e){let t,n,r=e[10]("sidebar.modal.newScene.header")+"";return{c(){t=element("h2"),n=text(r),attr(t,"slot","header")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){1024&t&&r!==(r=e[10]("sidebar.modal.newScene.header")+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_default_slot_2(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h=e[10]("sidebar.modal.title")+"",m=e[10]("sidebar.modal.newScene.button")+"";return{c(){t=space(),n=element("div"),r=element("label"),i=text(h),o=space(),a=element("input"),s=space(),c=element("hr"),u=space(),l=element("div"),d=element("button"),f=text(m),attr(r,"for","editChapterInput"),attr(a,"id","editChapterInput"),attr(a,"autocomplete","off"),attr(a,"placeholder","enter your title"),attr(a,"type","text"),attr(n,"class","field"),attr(l,"class","btn-group"),p=[listen(a,"input",e[21]),listen(d,"click",e[15])]},m(p,h){insert(p,t,h),insert(p,n,h),append(n,r),append(r,i),append(n,o),append(n,a),set_input_value(a,e[3]),insert(p,s,h),insert(p,c,h),insert(p,u,h),insert(p,l,h),append(l,d),append(d,f)},p(e,t){1024&t&&h!==(h=e[10]("sidebar.modal.title")+"")&&set_data(i,h),8&t&&a.value!==e[3]&&set_input_value(a,e[3]),1024&t&&m!==(m=e[10]("sidebar.modal.newScene.button")+"")&&set_data(f,m)},d(e){e&&detach(t),e&&detach(n),e&&detach(s),e&&detach(c),e&&detach(u),e&&detach(l),run_all(p)}}}function create_header_slot_1(e){let t,n,r=e[6].title+"";return{c(){t=element("h2"),n=text(r),attr(t,"slot","header")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){64&t&&r!==(r=e[6].title+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_each_block_2(e){let t,n,r,i,o,a,s,c,u,l=e[45].title+"";function d(...t){return e[25](e[45],...t)}function f(...t){return e[26](e[45],...t)}return{c(){t=element("li"),n=element("span"),r=space(),i=element("span"),o=space(),a=element("span"),s=text(l),c=space(),attr(n,"class","lnr lnr-chevron-up action svelte-1kfnsui"),attr(i,"class","lnr lnr-chevron-down action svelte-1kfnsui"),attr(t,"class","svelte-1kfnsui"),u=[listen(n,"click",d),listen(i,"click",f)]},m(e,u){insert(e,t,u),append(t,n),append(t,r),append(t,i),append(t,o),append(t,a),append(a,s),append(t,c)},p(t,n){e=t,2112&n&&l!==(l=e[45].title+"")&&set_data(s,l)},d(e){e&&detach(t),run_all(u)}}}function create_default_slot_1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w=e[10]("sidebar.modal.title")+"",S=e[10]("sidebar.modal.edit.order")+"",E=e[10]("sidebar.modal.edit.buttonSave")+"",x=e[10]("sidebar.modal.edit.buttonDelete")+"",T=e[11].filter(e[24]).sort(func_1),O=[];for(let t=0;t<T.length;t+=1)O[t]=create_each_block_2(get_each_context_2(e,T,t));return{c(){t=space(),(n=element("h3")).textContent="Edit",r=space(),i=element("div"),o=element("label"),a=text(w),s=space(),c=element("input"),u=space(),l=element("h3"),d=text(S),f=space(),p=element("ul");for(let e=0;e<O.length;e+=1)O[e].c();h=space(),m=element("div"),g=element("button"),v=text(E),y=space(),b=element("button"),_=text(x),attr(o,"for","editChapterInput"),attr(c,"id","editChapterInput"),attr(c,"autocomplete","off"),attr(c,"placeholder","enter your title"),attr(c,"type","text"),attr(i,"class","field"),attr(p,"class","swap-list svelte-1kfnsui"),set_style(b,"float","right"),attr(b,"class","warning"),attr(m,"class","btn-group"),k=[listen(c,"input",e[23]),listen(g,"click",e[16]),listen(b,"click",e[27])]},m(k,w){insert(k,t,w),insert(k,n,w),insert(k,r,w),insert(k,i,w),append(i,o),append(o,a),append(i,s),append(i,c),set_input_value(c,e[6].title),insert(k,u,w),insert(k,l,w),append(l,d),insert(k,f,w),insert(k,p,w);for(let e=0;e<O.length;e+=1)O[e].m(p,null);insert(k,h,w),insert(k,m,w),append(m,g),append(g,v),append(m,y),append(m,b),append(b,_)},p(e,t){if(1024&t&&w!==(w=e[10]("sidebar.modal.title")+"")&&set_data(a,w),64&t&&c.value!==e[6].title&&set_input_value(c,e[6].title),1024&t&&S!==(S=e[10]("sidebar.modal.edit.order")+"")&&set_data(d,S),2112&t){let n;for(T=e[11].filter(e[24]).sort(func_1),n=0;n<T.length;n+=1){const r=get_each_context_2(e,T,n);O[n]?O[n].p(r,t):(O[n]=create_each_block_2(r),O[n].c(),O[n].m(p,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=T.length}1024&t&&E!==(E=e[10]("sidebar.modal.edit.buttonSave")+"")&&set_data(v,E),1024&t&&x!==(x=e[10]("sidebar.modal.edit.buttonDelete")+"")&&set_data(_,x)},d(e){e&&detach(t),e&&detach(n),e&&detach(r),e&&detach(i),e&&detach(u),e&&detach(l),e&&detach(f),e&&detach(p),destroy_each(O,e),e&&detach(h),e&&detach(m),run_all(k)}}}function create_header_slot(e){let t,n,r=e[8].title+"";return{c(){t=element("h2"),n=text(r),attr(t,"slot","header")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){256&t&&r!==(r=e[8].title+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_default_slot(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v=e[10]("sidebar.modal.title")+"",y=e[10]("sidebar.modal.edit.buttonSave")+"",b=e[10]("sidebar.modal.edit.buttonDelete")+"";return{c(){t=space(),n=element("div"),r=element("label"),i=text(v),o=space(),a=element("input"),s=space(),c=element("br"),u=space(),l=element("div"),d=element("button"),f=text(y),p=space(),h=element("button"),m=text(b),attr(r,"for","editChapterInput"),attr(a,"id","editChapterInput"),attr(a,"autocomplete","off"),attr(a,"placeholder","enter your title"),attr(a,"type","text"),attr(n,"class","field"),set_style(h,"float","right"),attr(h,"class","warning"),attr(l,"class","btn-group"),g=[listen(a,"input",e[29]),listen(d,"click",e[17]),listen(h,"click",e[30])]},m(g,v){insert(g,t,v),insert(g,n,v),append(n,r),append(r,i),append(n,o),append(n,a),set_input_value(a,e[8].title),insert(g,s,v),insert(g,c,v),insert(g,u,v),insert(g,l,v),append(l,d),append(d,f),append(l,p),append(l,h),append(h,m)},p(e,t){1024&t&&v!==(v=e[10]("sidebar.modal.title")+"")&&set_data(i,v),256&t&&a.value!==e[8].title&&set_input_value(a,e[8].title),1024&t&&y!==(y=e[10]("sidebar.modal.edit.buttonSave")+"")&&set_data(f,y),1024&t&&b!==(b=e[10]("sidebar.modal.edit.buttonDelete")+"")&&set_data(m,b)},d(e){e&&detach(t),e&&detach(n),e&&detach(s),e&&detach(c),e&&detach(u),e&&detach(l),run_all(g)}}}function create_if_block$2(e){let t,n,r,i,o,a,s,c,u,l,d,f;const p=[create_if_block_1$2,create_else_block],h=[];function m(e,t){return e[9].currentProject?0:1}return s=m(e),c=h[s]=p[s](e),{c(){t=element("div"),n=element("ul"),r=element("div"),i=space(),(o=element("div")).innerHTML='<span class="lnr lnr-cross"></span>',a=space(),c.c(),attr(r,"class","backdrop"),attr(r,"data-deskgap-no-drag",""),attr(o,"id","close-sidebar"),attr(o,"class","close"),attr(o,"data-deskgap-no-drag",""),attr(n,"class","menu"),attr(t,"id","sidebar"),attr(t,"class","navigation noselect"),toggle_class(t,"active",e[0]),f=[listen(r,"click",e[32]),listen(o,"click",e[33])]},m(e,c){insert(e,t,c),append(t,n),append(n,r),append(n,i),append(n,o),append(n,a),h[s].m(n,null),d=!0},p(e,r){let i=s;(s=m(e))===i?h[s].p(e,r):(group_outros(),transition_out(h[i],1,1,()=>{h[i]=null}),check_outros(),(c=h[s])||(c=h[s]=p[s](e)).c(),transition_in(c,1),c.m(n,null)),1&r&&toggle_class(t,"active",e[0])},i(e){d||(transition_in(c),add_render_callback(()=>{l&&l.end(1),u||(u=create_in_transition(t,fly,{y:200,duration:200})),u.start()}),d=!0)},o(e){transition_out(c),u&&u.invalidate(),l=create_out_transition(t,fly,{y:200,duration:200}),d=!1},d(e){e&&detach(t),h[s].d(),e&&l&&l.end(),run_all(f)}}}function create_else_block(e){let t;const n=new Placeholder({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},p:noop,i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_if_block_1$2(e){let t,n,r,i,o,a,s,c,u,l=e[10]("sidebar.createChapter")+"",d=e[12].filter(e[34]),f=[];for(let t=0;t<d.length;t+=1)f[t]=create_each_block$1(get_each_context$1(e,d,t));return{c(){for(let e=0;e<f.length;e+=1)f[e].c();t=space(),n=element("hr"),r=space(),i=element("li"),o=element("span"),a=element("span"),s=space(),c=text(l),attr(n,"class","divider"),attr(a,"class","lnr lnr-plus-circle collapse"),attr(o,"class","key"),attr(i,"class","parent"),u=listen(o,"click",e[41])},m(e,u){for(let t=0;t<f.length;t+=1)f[t].m(e,u);insert(e,t,u),insert(e,n,u),insert(e,r,u),insert(e,i,u),append(i,o),append(o,a),append(o,s),append(o,c)},p(e,n){if(24544&n){let r;for(d=e[12].filter(e[34]),r=0;r<d.length;r+=1){const i=get_each_context$1(e,d,r);f[r]?f[r].p(i,n):(f[r]=create_each_block$1(i),f[r].c(),f[r].m(t.parentNode,t))}for(;r<f.length;r+=1)f[r].d(1);f.length=d.length}1024&n&&l!==(l=e[10]("sidebar.createChapter")+"")&&set_data(c,l)},i:noop,o:noop,d(e){destroy_each(f,e),e&&detach(t),e&&detach(n),e&&detach(r),e&&detach(i),u()}}}function create_each_block_1(e){let t,n,r,i,o,a,s,c,u,l=e[45].title+"";function d(...t){return e[38](e[45],...t)}function f(...t){return e[39](e[45],...t)}return{c(){t=element("li"),n=element("a"),r=text(l),a=space(),s=element("span"),attr(n,"href",i="/write/"+e[45].id),attr(s,"class","lnr lnr-cog action svelte-1kfnsui"),attr(t,"class","svelte-1kfnsui"),u=[listen(s,"click",d),listen(t,"click",f)]},m(i,u){insert(i,t,u),append(t,n),append(n,r),o=link.call(null,n)||{},append(t,a),append(t,s),c=active$1.call(null,t,"/write/"+e[45].id)||{}},p(t,o){e=t,6656&o&&l!==(l=e[45].title+"")&&set_data(r,l),6656&o&&i!==(i="/write/"+e[45].id)&&attr(n,"href",i),is_function(c.update)&&6656&o&&c.update.call(null,"/write/"+e[45].id)},d(e){e&&detach(t),o&&is_function(o.destroy)&&o.destroy(),c&&is_function(c.destroy)&&c.destroy(),run_all(u)}}}function create_each_block$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v=e[42].title+"",y=e[10]("sidebar.createScene")+"";function b(...t){return e[35](e[42],...t)}function _(...t){return e[36](e[42],...t)}function k(...t){return e[37](e[42],...t)}let w=e[11].filter(k).sort(func_4),S=[];for(let t=0;t<w.length;t+=1)S[t]=create_each_block_1(get_each_context_1(e,w,t));function E(...t){return e[40](e[42],...t)}return{c(){t=element("li"),n=element("span"),r=text(v),i=space(),o=element("span"),a=space(),s=element("span"),c=space(),u=element("ul");for(let e=0;e<S.length;e+=1)S[e].c();l=space(),d=element("li"),f=element("button"),p=element("span"),h=space(),m=text(y),attr(o,"class","lnr lnr-chevron-up collapse svelte-1kfnsui"),attr(s,"class","lnr lnr-cog action svelte-1kfnsui"),attr(n,"class","key"),attr(p,"class","lnr lnr-plus-circle"),attr(t,"class","parent svelte-1kfnsui"),toggle_class(t,"open",e[42].ui.open),g=[listen(s,"click",b),listen(n,"click",_),listen(f,"click",E)]},m(e,g){insert(e,t,g),append(t,n),append(n,r),append(n,i),append(n,o),append(n,a),append(n,s),append(t,c),append(t,u);for(let e=0;e<S.length;e+=1)S[e].m(u,null);append(u,l),append(u,d),append(d,f),append(f,p),append(f,h),append(f,m)},p(n,i){if(e=n,4608&i&&v!==(v=e[42].title+"")&&set_data(r,v),7040&i){let t;for(w=e[11].filter(k).sort(func_4),t=0;t<w.length;t+=1){const n=get_each_context_1(e,w,t);S[t]?S[t].p(n,i):(S[t]=create_each_block_1(n),S[t].c(),S[t].m(u,l))}for(;t<S.length;t+=1)S[t].d(1);S.length=w.length}1024&i&&y!==(y=e[10]("sidebar.createScene")+"")&&set_data(m,y),4608&i&&toggle_class(t,"open",e[42].ui.open)},d(e){e&&detach(t),destroy_each(S,e),run_all(g)}}}function create_fragment$4(e){let t,n,r,i,o,a,s,c,u,l;function d(t){e[20].call(null,t)}let f={$$slots:{default:[create_default_slot_3],header:[create_header_slot_3]},$$scope:{ctx:e}};void 0!==e[1]&&(f.show=e[1]);const p=new Modal({props:f});function h(t){e[22].call(null,t)}binding_callbacks.push(()=>bind(p,"show",d));let m={$$slots:{default:[create_default_slot_2],header:[create_header_slot_2]},$$scope:{ctx:e}};void 0!==e[4]&&(m.show=e[4]);const g=new Modal({props:m});function v(t){e[28].call(null,t)}binding_callbacks.push(()=>bind(g,"show",h));let y={$$slots:{default:[create_default_slot_1],header:[create_header_slot_1]},$$scope:{ctx:e}};void 0!==e[5]&&(y.show=e[5]);const b=new Modal({props:y});function _(t){e[31].call(null,t)}binding_callbacks.push(()=>bind(b,"show",v));let k={$$slots:{default:[create_default_slot],header:[create_header_slot]},$$scope:{ctx:e}};void 0!==e[7]&&(k.show=e[7]);const w=new Modal({props:k});binding_callbacks.push(()=>bind(w,"show",_));let S=e[0]&&create_if_block$2(e);return{c(){create_component(p.$$.fragment),n=space(),create_component(g.$$.fragment),i=space(),create_component(b.$$.fragment),a=space(),create_component(w.$$.fragment),c=space(),S&&S.c(),u=empty()},m(e,t){mount_component(p,e,t),insert(e,n,t),mount_component(g,e,t),insert(e,i,t),mount_component(b,e,t),insert(e,a,t),mount_component(w,e,t),insert(e,c,t),S&&S.m(e,t),insert(e,u,t),l=!0},p(e,[n]){const i={};1028&n&&(i.$$scope={dirty:n,ctx:e}),!t&&2&n&&(t=!0,i.show=e[1],add_flush_callback(()=>t=!1)),p.$set(i);const a={};1032&n&&(a.$$scope={dirty:n,ctx:e}),!r&&16&n&&(r=!0,a.show=e[4],add_flush_callback(()=>r=!1)),g.$set(a);const c={};3168&n&&(c.$$scope={dirty:n,ctx:e}),!o&&32&n&&(o=!0,c.show=e[5],add_flush_callback(()=>o=!1)),b.$set(c);const l={};1408&n&&(l.$$scope={dirty:n,ctx:e}),!s&&128&n&&(s=!0,l.show=e[7],add_flush_callback(()=>s=!1)),w.$set(l),e[0]?S?(S.p(e,n),transition_in(S,1)):((S=create_if_block$2(e)).c(),transition_in(S,1),S.m(u.parentNode,u)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros())},i(e){l||(transition_in(p.$$.fragment,e),transition_in(g.$$.fragment,e),transition_in(b.$$.fragment,e),transition_in(w.$$.fragment,e),transition_in(S),l=!0)},o(e){transition_out(p.$$.fragment,e),transition_out(g.$$.fragment,e),transition_out(b.$$.fragment,e),transition_out(w.$$.fragment,e),transition_out(S),l=!1},d(e){destroy_component(p,e),e&&detach(n),destroy_component(g,e),e&&detach(i),destroy_component(b,e),e&&detach(a),destroy_component(w,e),e&&detach(c),S&&S.d(e),e&&detach(u)}}}const func_1=(e,t)=>e.order-t.order,func_4=(e,t)=>e.order-t.order;function instance$3(e,t,n){let r,i,o,a;component_subscribe(e,state,e=>n(9,r=e)),component_subscribe(e,_$1,e=>n(10,i=e)),component_subscribe(e,scenes,e=>n(11,o=e)),component_subscribe(e,chapters,e=>n(12,a=e));let s,c,u,{sidebarState:l}=t,d=!1;let f=!1;function p(e){u=e,n(4,f=!0)}let h,m=!1;let g,v=!1;return e.$set=e=>{"sidebarState"in e&&n(0,l=e.sidebarState)},[l,d,s,c,f,m,h,v,g,r,i,o,a,function(){chapters.createChapter(r.currentProject,s),n(1,d=!1),n(2,s="")},p,function(){scenes.createScene(u,c),n(4,f=!1),n(3,c="")},function(){chapters.setChapterTitle(h.id,h.title),n(5,m=!1)},function(){scenes.setSceneTitle(g.id,g.title),n(7,v=!1)},u,function(){s=this.value,n(2,s)},function(e){n(1,d=e)},function(){c=this.value,n(3,c)},function(e){n(4,f=e)},function(){h.title=this.value,n(6,h)},e=>e.chapter==h.id,e=>{scenes.orderScene(e.id,!0)},e=>{scenes.orderScene(e.id,!1)},()=>{chapters.removeChapter(h.id),n(5,m=!1)},function(e){n(5,m=e)},function(){g.title=this.value,n(8,g)},()=>{n(7,v=!1),push("/write"),window.setTimeout(()=>scenes.removeScene(g.id),200)},function(e){n(7,v=e)},()=>n(0,l=!1),()=>n(0,l=!1),e=>e.project==r.currentProject,e=>n(5,[m,h]=[!0,e],m,n(6,h)),e=>chapters.toggleChapterInSidebar(e.id),(e,t)=>t.chapter==e.id,e=>n(7,[v,g]=[!0,e],v,n(8,g)),e=>push("/write/"+e.id),e=>p(e.id),()=>n(1,d=!0)]}class Sidebar extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$4,safe_not_equal,{sidebarState:0})}}function create_if_block$3(e){let t,n,r,i,o,a,s;const c=e[5].default,u=create_slot(c,e,e[4],null);return{c(){t=element("div"),r=space(),u&&u.c(),n=new HtmlTag(e[1],r),attr(t,"id","snackbar"),attr(t,"class","svelte-1bnisx4"),s=listen(t,"click",e[6])},m(e,i){insert(e,t,i),n.m(t),append(t,r),u&&u.m(t,null),a=!0},p(e,t){(!a||2&t)&&n.p(e[1]),u&&u.p&&16&t&&u.p(get_slot_context(c,e,e[4],null),get_slot_changes(c,e[4],t,null))},i(e){a||(transition_in(u,e),add_render_callback(()=>{o&&o.end(1),i||(i=create_in_transition(t,fly,{y:-100,duration:500})),i.start()}),a=!0)},o(e){transition_out(u,e),i&&i.invalidate(),o=create_out_transition(t,fly,{x:100,duration:500}),a=!1},d(e){e&&detach(t),u&&u.d(e),e&&o&&o.end(),s()}}}function create_fragment$5(e){let t,n,r=e[0]&&create_if_block$3(e);return{c(){r&&r.c(),t=empty()},m(e,i){r&&r.m(e,i),insert(e,t,i),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),transition_in(r,1)):((r=create_if_block$3(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance$4(e,t,n){const r=createEventDispatcher();let{show:i=!1}=t,{text:o="A notification message.."}=t,{duration:a=5e3}=t,{$$slots:s={},$$scope:c}=t;return e.$set=e=>{"show"in e&&n(0,i=e.show),"text"in e&&n(1,o=e.text),"duration"in e&&n(3,a=e.duration),"$$scope"in e&&n(4,c=e.$$scope)},e.$$.update=()=>{9&e.$$.dirty&&i&&"forever"!=a&&setTimeout(()=>{n(0,i=!1)},a)},[i,o,r,a,c,s,()=>{r("click")}]}class Toast extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$5,safe_not_equal,{show:0,text:1,duration:3})}}var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init$1(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)lookup[t]=e[t],revLookup[e.charCodeAt(t)]=t;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(e){var t,n,r,i,o,a;inited||init$1();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new Arr(3*s/4-o),r=o>0?s-4:s;var c=0;for(t=0,n=0;t<r;t+=4,n+=3)i=revLookup[e.charCodeAt(t)]<<18|revLookup[e.charCodeAt(t+1)]<<12|revLookup[e.charCodeAt(t+2)]<<6|revLookup[e.charCodeAt(t+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=revLookup[e.charCodeAt(t)]<<2|revLookup[e.charCodeAt(t+1)]>>4,a[c++]=255&i):1===o&&(i=revLookup[e.charCodeAt(t)]<<10|revLookup[e.charCodeAt(t+1)]<<4|revLookup[e.charCodeAt(t+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64(r));return i.join("")}function fromByteArray(e){var t;inited||init$1();for(var n=e.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(encodeChunk(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],i+=lookup[t>>2],i+=lookup[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=lookup[t>>10],i+=lookup[t>>4&63],i+=lookup[t<<2&63],i+="="),o.push(i),o.join("")}function read(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)}function write(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}var toString={}.toString,isArray=Array.isArray||function(e){return"[object Array]"==toString.call(e)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,r):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromString(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,n),i=(e=createBuffer(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function fromArrayBuffer(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,r)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,r,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function utf8Write(e,t,n,r){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,r)}function asciiWrite(e,t,n,r){return blitBuffer(asciiToBytes(t),e,n,r)}function latin1Write(e,t,n,r){return asciiWrite(e,t,n,r)}function base64Write(e,t,n,r){return blitBuffer(base64ToBytes(t),e,n,r)}function ucs2Write(e,t,n,r){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?fromByteArray(e):fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return decodeCodePointsArray(r)}Buffer.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.alloc=function(e,t,n){return alloc(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=isBuffer,Buffer.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Buffer.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!internalIsBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,n,r,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=MAX_ARGUMENTS_LENGTH));return n}function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,r,i,o){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function checkIEEE754(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,i){return i||checkIEEE754(e,t,n,4),write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,i){return i||checkIEEE754(e,t,n,8),write(e,t,n,r,52,8),n+8}Buffer.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Buffer.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Buffer.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=internalIsBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function isnan(e){return e!=e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}var backendless=createCommonjsModule((function(module,exports){var factory;"undefined"!=typeof self&&self,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=46)}([function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_async=__webpack_require__(3),_async2=_interopRequireDefault(_async);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Utils={isObject:function(e){return e===Object(e)},isArray:Array.isArray||function(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)},isString:function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},isNumber:function(e){return"Number"===Object.prototype.toString.call(e).slice(8,-1)},isFunction:function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},isBoolean:function(e){return"Boolean"===Object.prototype.toString.call(e).slice(8,-1)},isDate:function(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)},isBrowser:isBrowser(),castArray:function(e){return Utils.isArray(e)?e:[e]},isEmpty:function(e){if(null==e)return!0;if(Utils.isArray(e)||Utils.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]&&null!==e[t])return!1;return!0},toQueryParams:function(e){e=e||{};var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},tryParseJSON:function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(t){return e}},getClassName:function(e){if(e.prototype&&e.prototype.___class)return e.prototype.___class;if(Utils.isFunction(e)&&e.name)return e.name;var t=(Utils.isFunction(e)?e.toString():e.constructor.toString()).match(/function\s+(\w+)/);return t&&t.length>1?t[1]:""},encodeArrayToUriComponent:function(e){return e.map((function(e){return encodeURIComponent(e)})).join(",")},deepExtend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in t)void 0!==t[r]&&t.hasOwnProperty(r)&&(e[r]=e[r]||{},e[r]=classWrapper(t[r],n),e[r]&&e[r].hasOwnProperty(r)&&e[r][r]&&e[r][r].hasOwnProperty("__originSubID")&&(e[r][r]=classWrapper(e[r],n)));return e},extractResponder:function(e){for(var t=0;t<e.length;t++)if(e[t]instanceof _async2.default)return e[t]},wrapAsync:function(e,t,n){return e instanceof _async2.default&&!t?e:new _async2.default((function(r){t&&(r=t.call(n,r)),e.success(r)}),(function(t){e.fault(t)}))},promisified:function(e){return function(){Utils.checkPromiseSupport();var t=[].slice.call(arguments),n=this,r="function"==typeof e?e:n[e];return new Promise((function(e,i){t.push(new _async2.default(e,i,n)),r.apply(n,t)}))}},synchronized:function(e){return function(){console.warn("Using of sync methods is an outdated approach. Please use async methods.");var t=this,n="function"==typeof e?e:t[e];return n.apply(t,arguments)}},checkPromiseSupport:function(){if("undefined"==typeof Promise)throw new Error("This browser doesn't support Promise API. Please use polyfill.\nMore info is in the Backendless JS-SDK docs: https://backendless.com/docs/js/doc.html#sync-and-async-calls")},mirrorKeys:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=n);return t},uuid:function(){var e=function(){return Math.random().toString(16).slice(-4).toUpperCase()};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}};function isBrowser(){return"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window===self}function classWrapper(obj,classToTableMap){var wrapper=function wrapper(obj){var wrapperName=null,Wrapper=null;for(var property in obj)if(obj.hasOwnProperty(property)&&"___class"===property){wrapperName=obj[property];break}if(wrapperName)try{Wrapper=classToTableMap[wrapperName]||eval(wrapperName),obj=Utils.deepExtend(new Wrapper,obj,classToTableMap)}catch(e){}return obj};if(Utils.isObject(obj)&&null!=obj)if(Utils.isArray(obj))for(var i=obj.length;i--;)obj[i]=wrapper(obj[i]);else obj=wrapper(obj);return obj}exports.default=Utils},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(7),o=(r=i)&&r.__esModule?r:{default:r},a={root:function(){return o.default.appPath},blServices:function(){return a.root()+"/services"},blServiceMethod:function(e,t){return a.blServices()+"/"+e+"/"+t},blEvent:function(e){return a.root()+"/servercode/events/"+e},logging:function(){return a.root()+"/log"},cache:function(){return a.root()+"/cache"},cacheItem:function(e){return a.cache()+"/"+e},cacheItemExpireIn:function(e){return a.cacheItem(e)+"/expireIn"},cacheItemExpireAt:function(e){return a.cacheItem(e)+"/expireAt"},cacheItemCheck:function(e){return a.cacheItem(e)+"/check"},counters:function(){return a.root()+"/counters"},counter:function(e){return a.counters()+"/"+e},counterAddAndGet:function(e){return a.counter(e)+"/incrementby/get"},counterGetAndAdd:function(e){return a.counter(e)+"/get/incrementby"},counterIncrementAndGet:function(e){return a.counter(e)+"/increment/get"},counterDecrementAndGet:function(e){return a.counter(e)+"/decrement/get"},counterGetAndDecrement:function(e){return a.counter(e)+"/get/decrement"},counterGetAndIncrement:function(e){return a.counter(e)+"/get/increment"},counterCompareAndSet:function(e){return a.counter(e)+"/get/compareandset"},counterReset:function(e){return a.counter(e)+"/reset"},data:function(){return a.root()+"/data"},dataTable:function(e){return a.data()+"/"+e},dataTableFind:function(e){return a.dataTable(e)+"/find"},dataTableObject:function(e,t){return a.dataTable(e)+"/"+t},dataTableObjectRelation:function(e,t,n){return a.dataTableObject(e,t)+"/"+n},dataTableCount:function(e){return a.dataTable(e)+"/count"},dataTableProps:function(e){return a.dataTable(e)+"/properties"},dataBulkTable:function(e){return a.data()+"/bulk/"+e},dataBulkTableDelete:function(e){return a.dataBulkTable(e)+"/delete"},dataObjectPermission:function(e,t,n){return a.dataTable(e)+"/permissions/"+t+"/"+encodeURIComponent(n)},messaging:function(){return a.root()+"/messaging"},messagingPush:function(){return a.messaging()+"/push"},messagingPushTemplates:function(e){return a.messaging()+"/pushtemplates/"+e},messagingPushWithTemplate:function(e){return a.messagingPush()+"/"+e},messagingEmail:function(){return a.messaging()+"/email"},messagingChannel:function(e){return a.messaging()+"/"+e},messagingMessage:function(e){return a.messaging()+"/"+e},messagingRegistrations:function(){return a.messaging()+"/registrations"},messagingRegistrationDevice:function(e){return a.messagingRegistrations()+"/"+e},emailTemplate:function(){return a.root()+"/emailtemplate"},emailTemplateSend:function(){return a.emailTemplate()+"/send"},geo:function(){return a.root()+"/geo"},geoRelative:function(){return a.geo()+"/relative"},geoPoints:function(){return a.geo()+"/points"},geoPoint:function(e){return a.geoPoints()+"/"+e},geoPointMetaData:function(e){return a.geoPoint(e)+"/metadata"},geoCategories:function(){return a.geo()+"/categories"},geoCategory:function(e){return a.geoCategories()+"/"+e},geoClusters:function(){return a.geo()+"/clusters"},geoClusterPoints:function(e){return a.geoClusters()+"/"+e+"/points"},geoCount:function(){return a.geo()+"/count"},geoFences:function(e){return a.geo()+"/fences"+(e?"?geoFence="+e:"")},geoFence:function(e,t){return a.geo()+"/fence/"+e+"?geoFence="+t},commerce:function(){return a.root()+"/commerce/googleplay"},commerceValidate:function(e,t,n){return a.commerce()+"/validate/"+e+"/inapp/"+t+"/purchases/"+n},commerceSubCancel:function(e,t,n){return a.commerce()+"/"+e+"/subscription/"+t+"/purchases/"+n+"/cancel"},commerceSubStatus:function(e,t,n){return a.commerce()+"/"+e+"/subscription/"+t+"/purchases/"+n},files:function(){return a.root()+"/files"},filePath:function(e){return a.files()+"/"+e},fileCopy:function(){return a.files()+"/copy"},fileMove:function(){return a.files()+"/move"},fileRename:function(){return a.files()+"/rename"},filePermissions:function(){return a.files()+"/permissions"},filePermission:function(e,t){return a.filePermissions()+"/"+e+"/"+encodeURIComponent(t)},users:function(){return a.root()+"/users"},userObject:function(e){return a.users()+"/"+e},userRegister:function(){return a.users()+"/register"},userLogin:function(){return a.users()+"/login"},guestLogin:function(){return a.users()+"/register/guest"},userLogout:function(){return a.users()+"/logout"},userRoles:function(){return a.users()+"/userroles"},userRoleOperation:function(e){return a.users()+"/"+e},userClassProps:function(){return a.users()+"/userclassprops"},userRestorePassword:function(e){return a.users()+"/restorepassword/"+encodeURIComponent(e)},userTokenCheck:function(e){return a.users()+"/isvalidusertoken/"+e},userResendConfirmation:function(e){return a.users()+"/resendconfirmation/"+e},userSocial:function(){return a.users()+"/social"},userSocialOAuth:function(e){return a.userSocial()+"/oauth/"+e.toLowerCase()+"/request_url"},userSocialLogin:function(e){return a.userSocial()+"/"+e.toLowerCase()+"/sdk/login"}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(49),o={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"},a={Methods:o,send:i.sendRequest,get:function(e){return(0,i.sendRequest)(r({},e,{method:o.GET}))},post:function(e){return(0,i.sendRequest)(r({},e,{method:o.POST}))},put:function(e){return(0,i.sendRequest)(r({},e,{method:o.PUT}))},delete:function(e){return(0,i.sendRequest)(r({},e,{method:o.DELETE}))}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n instanceof Function||(r=n,n=void 0),this.successCallback=t,this.faultCallback=n,this.context=r,this.success=function(e){i.successCallback&&i.successCallback.call(i.context,e)},this.fault=function(e){i.faultCallback&&i.faultCallback.call(i.context,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loggedInUser=t.getCurrentUser=void 0,t.setLocalCurrentUser=function(e){d=e||null,(0,c.updateRTUserTokenIfNeeded)()},t.getLocalCurrentUser=function(){return d},t.getCurrentUserToken=f,t.isValidLogin=function(){var e=f(),t=r.default.extractResponder(arguments),n=!!t;if(e){if(!n)try{return!!o.default.get({url:i.default.userTokenCheck(e)})}catch(e){return!1}return o.default.get({url:i.default.userTokenCheck(e),isAsync:n,asyncHandler:t})}if(!n)return!!p();p(new a.default((function(e){return t.success(!!e)}),(function(){return t.success(!1)})))};var r=l(n(0)),i=l(n(1)),o=l(n(2)),a=l(n(3)),s=l(n(9)),c=n(8),u=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var d=null;function f(){return d&&d["user-token"]?d["user-token"]||null:s.default.get("user-token")||null}var p=t.getCurrentUser=function(e){if(d){var t=(0,u.getUserFromResponse)(d);return e?e.success(t):t}var r=s.default.get("stayLoggedIn")&&s.default.get("current-user-id");if(r){var i=n(28).default,o=n(11).default;return i.of(o).findById(r,e)}return e?e.success(null):null};t.loggedInUser=function(){return s.default.get("current-user-id")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.___class="GeoPoint",this.categories=t.categories,this.latitude=t.latitude,this.longitude=t.longitude,this.metadata=t.metadata,this.objectId=t.objectId,this.distance=t.distance}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={debugMode:!1,serverURL:"https://api.backendless.com",XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0,applicationId:null,secretKey:null,appPath:null,ServerCode:null};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateRTUserTokenIfNeeded=t.initRTClient=t.setRTDebugMode=t.disallowInBusinessLogic=t.checkUsesInBusinessLogic=t.RTClient=t.RTScopeConnector=t.RTListeners=void 0;var r=s(n(48)),i=s(n(0)),o=s(n(7)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var c=null,u=i.default.uuid(),l=(t.RTListeners=r.default.Listeners,t.RTScopeConnector=r.default.ScopeConnector,t.RTClient={get subscriptions(){return c.subscriptions},get methods(){return c.methods}},t.checkUsesInBusinessLogic=function(e){o.default.ServerCode}),d=(t.disallowInBusinessLogic=function(e){return function(t,n,r){var i=r.value;return r.value=function(){return l(e),i.apply(this,arguments)},r}},t.setRTDebugMode=function(e){c&&c.setConfig({debugMode:e})},t.initRTClient=function(){c&&c.terminate(),c=new r.default({appId:o.default.applicationId,lookupPath:o.default.appPath+"/rt/lookup",debugMode:o.default.debugMode,connectQuery:function(){return{apiKey:o.default.secretKey,userToken:(0,a.getCurrentUserToken)(),clientId:u}}})},t.updateRTUserTokenIfNeeded=function(){c.session&&c.methods.setUserToken({userToken:(0,a.getCurrentUserToken)()})},function(e){return function(){var t;c&&(t=c)[e].apply(t,arguments)}}),f={connect:d("connect"),disconnect:d("disconnect"),addConnectEventListener:d("addConnectEventListener"),removeConnectEventListener:d("removeConnectEventListener"),addConnectErrorEventListener:d("addConnectErrorEventListener"),removeConnectErrorEventListener:d("removeConnectErrorEventListener"),addDisconnectEventListener:d("addDisconnectEventListener"),removeDisconnectEventListener:d("removeDisconnectEventListener"),addReconnectAttemptEventListener:d("addReconnectAttemptEventListener"),removeReconnectAttemptEventListener:d("removeReconnectAttemptEventListener"),removeConnectionListeners:d("removeConnectionListeners")};t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=n(0),s=(r=a)&&r.__esModule?r:{default:r},c=(o={},(i={}).enabled=!1,i.exists=function(e){return void 0!==i.get(e)},i.set=function(e,t){return o[e]=i.serialize(t)},i.get=function(e){var t=o[e];return t&&i.deserialize(t)},i.remove=function(e){return delete o[e]},i.clear=function(){o={}},i.flushExpired=function(){},i.getCachePolicy=function(){},i.getAll=function(){var e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return!(!s.default.isBrowser||!window.localStorage||(localStorage.setItem("localStorageTest",!0),localStorage.removeItem("localStorageTest"),0))}catch(e){return!1}}()?function(e){var t=window.localStorage,n=function(){t.getItem("Backendless")||t.setItem("Backendless",e.serialize({}))},r=function(e){var t=!1;return e&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&"cachePolicy"in e&&"timeToLive"in e.cachePolicy&&-1!==e.cachePolicy.timeToLive&&"created"in e.cachePolicy&&(t=(new Date).getTime()-e.cachePolicy.created>e.cachePolicy.timeToLive),t};return n(),e.enabled=!0,e.exists=function(t){return void 0!==e.get(t)},e.set=function(r,i){if(void 0===i)return e.remove(r);n();var o=e.deserialize(t.getItem("Backendless"));!function(e){e&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&"cachePolicy"in e&&"timeToLive"in e.cachePolicy&&(e.cachePolicy.created=(new Date).getTime())}(i),o[r]=i;try{t.setItem("Backendless",e.serialize(o))}catch(n){(o={})[r]=i,t.setItem("Backendless",e.serialize(o))}return i},e.get=function(i){n();var o=e.deserialize(t.getItem("Backendless")),a=o[i],s=a;return r(a)&&(delete o[i],t.setItem("Backendless",e.serialize(o)),s=void 0),s&&s.cachePolicy&&delete s.cachePolicy,s},e.remove=function(r){var i=void 0;n(),r=r.replace(/([^A-Za-z0-9-])/g,"");var o=e.deserialize(t.getItem("Backendless"));return o.hasOwnProperty(r)&&(i=delete o[r]),t.setItem("Backendless",e.serialize(o)),i},e.clear=function(){t.setItem("Backendless",e.serialize({}))},e.getAll=function(){n();var r=e.deserialize(t.getItem("Backendless")),i={};for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o],null!==i[o]&&i[o].hasOwnProperty("cachePolicy")&&delete i[o].cachePolicy);return i},e.flushExpired=function(){n();var i=e.deserialize(t.getItem("Backendless")),o=void 0;for(var a in i)i.hasOwnProperty(a)&&(o=i[a],r(o)&&(delete i[a],t.setItem("Backendless",e.serialize(i))))},e.getCachePolicy=function(r){n();var i=e.deserialize(t.getItem("Backendless"))[r];return i?i.cachePolicy:void 0},e}(i):i);c.enabled&&c.flushExpired(),t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapAsync=t.getUserFromResponse=t.parseResponse=void 0;var r=c(n(0)),i=c(n(3)),o=c(n(9)),a=c(n(11)),s=n(5);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.parseResponse=function(e,t){var n=new a.default;return r.default.deepExtend(n,e),t&&o.default.set("stayLoggedIn",t),n},l=t.getUserFromResponse=function(e){o.default.set("current-user-id",e.objectId);var t=e["user-token"];return t&&o.default.get("stayLoggedIn")&&o.default.set("user-token",t),new a.default(e)};t.wrapAsync=function(e,t){return new i.default((function(n){(0,s.setLocalCurrentUser)(u(r.default.tryParseJSON(n),t)),e.success(l((0,s.getLocalCurrentUser)()))}),(function(t){e.fault(t)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},Object.keys(t).map((function(e){n[e]=t[e]})),this.___class=e.className}return r(e,null,[{key:"className",get:function(){return"Users"}}]),e}();t.default=i,i.prototype.___class=i.className},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.parseFindResponse=function(e,t,n){var o=function(e){return t=s.default.isFunction(t)?t:(0,c.resolveModelClassFromString)(e.___class),s.default.deepExtend(new t,e.fields||e,n)};return function(e){var t=new e.constructor,n={},o=[],a=[];function s(e,t,r){n[e[r].__originSubID]?t[r]=n[e[r].__originSubID]:o.push([t,r,e[r].__originSubID])}function c(e,t,r){var i=e[r].constructor;t[r]=new i,e[r].__subID&&(n[e[r].__subID]=t[r],delete e[r].__subID)}return function e(t,n){if(-1===a.indexOf(t))for(var r in a.push(t),t)t.hasOwnProperty(r)&&(Array.isArray(t[r])?e(t[r],n[r]=[]):"object"===(void 0===(o=t[r])?"undefined":i(o))&&null!==o?t[r].__originSubID?s(t,n,r):(c(t,n,r),e(t[r],n[r])):n[r]=t[r]);var o}(e,t),o.forEach((function(e){var t=r(e,3),i=t[0],o=t[1],a=t[2];return i[o]=n[a]})),t}(s.default.isArray(e)?e.map(o):o(e))};var o,a=n(0),s=(o=a)&&o.__esModule?o:{default:o},c=n(29)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=null,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.monitoringId=null,this._timers={},this._trackedFences=[],this._lastResults={}}return r(e,null,[{key:"get",value:function(){return i=i||new e}},{key:"reset",value:function(){i=null}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=null,i={required:function(){if(!r)throw new Error("Device is not defined. Please, run the Backendless.setupDevice");return r},get:function(){return r},setup:function(e){if(!(e&&e.uuid&&e.platform&&e.version))throw new Error('Device properties object must consist of fields "uuid", "platform" and "version".');r={uuid:e.uuid,platform:e.platform.toUpperCase(),version:e.version}}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.categories=t.categories,this.latitude=t.latitude,this.longitude=t.longitude,this.metadata=t.metadata,this.objectId=t.objectId,this.totalPoints=t.totalPoints,this.geoQuery=t.geoQuery,this.distance=t.distance}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.searchRectangle=t.searchRectangle||void 0,this.categories=t.categories||[],this.includeMetadata=t.includeMetadata||!0,this.metadata=t.metadata||void 0,this.condition=t.condition||void 0,this.relativeFindMetadata=t.relativeFindMetadata||void 0,this.relativeFindPercentThreshold=t.relativeFindPercentThreshold||void 0,this.pageSize=t.pageSize||void 0,this.latitude=t.latitude||void 0,this.longitude=t.longitude||void 0,this.radius=t.radius||void 0,this.units=t.units||void 0,this.degreePerPixel=t.degreePerPixel||void 0,this.clusterGridSize=t.clusterGridSize||void 0}return r(e,[{key:"addCategory",value:function(e){this.categories=this.categories||[],this.categories.push(e)}},{key:"setClusteringParams",value:function(e,t,n,r){r=r||0;var i=parseFloat(e),o=parseFloat(t),a=parseInt(n),s=parseInt(r);if(!isFinite(i)||i<-180||i>180)throw new Error("The westLongitude value must be a number in the range between -180 and 180");if(!isFinite(o)||o<-180||o>180)throw new Error("The eastLongitude value must be a number in the range between -180 and 180");if(!isFinite(a)||a<1)throw new Error("The mapWidth value must be a number greater or equal to 1");if(!isFinite(s)||s<0)throw new Error("The clusterGridSize value must be a number greater or equal to 0");var c=o-i;c<0&&(c+=360),this.degreePerPixel=c/a,this.clusterGridSize=s||null}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),o=s(n(31)),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._query=new o.default,this._paging=new a.default}return r(e,null,[{key:"create",value:function(){return new e}}]),r(e,[{key:"setPageSize",value:function(e){return this._paging.setPageSize(e),this}},{key:"setOffset",value:function(e){return this._paging.setOffset(e),this}},{key:"prepareNextPage",value:function(){return this._paging.prepareNextPage(),this}},{key:"preparePreviousPage",value:function(){return this._paging.preparePreviousPage(),this}},{key:"getProperties",value:function(){return this._query.properties}},{key:"setProperties",value:function(e){return this._query.properties=i.default.castArray(e),this}},{key:"addProperty",value:function(e){return this._query.addProperty(e),this}},{key:"getWhereClause",value:function(){return this._query.condition}},{key:"setWhereClause",value:function(e){return this._query.condition=e,this}},{key:"getHavingClause",value:function(){return this._query.havingClause}},{key:"setHavingClause",value:function(e){return this._query.havingClause=e,this}},{key:"getSortBy",value:function(){return this._query.getOption("sortBy")}},{key:"setSortBy",value:function(e){return this._query.setOption("sortBy",i.default.castArray(e)),this}},{key:"getGroupBy",value:function(){return this._query.getOption("groupBy")}},{key:"setGroupBy",value:function(e){return this._query.setOption("groupBy",i.default.castArray(e)),this}},{key:"getRelated",value:function(){return this._query.getOption("relations")}},{key:"setRelated",value:function(e){return this._query.setOption("relations",i.default.castArray(e)),this}},{key:"addRelated",value:function(e){var t=this._query.getOption("relations")||[];return this._query.setOption("relations",t.concat(e)),this}},{key:"getRelationsDepth",value:function(){return this._query.getOption("relationsDepth")}},{key:"setRelationsDepth",value:function(e){return this._query.setOption("relationsDepth",e),this}},{key:"build",value:function(){return this._query.setOptions(this._paging.build()),this._query}},{key:"toJSON",value:function(){var e={pageSize:this._paging.pageSize,offset:this._paging.offset,props:this._query.properties,where:this._query.condition,having:this._query.havingClause,sortBy:this._query.options&&this._query.options.sortBy,groupBy:this._query.options&&this._query.options.groupBy,loadRelations:this._query.options&&this._query.options.relations,relationsDepth:this._query.options&&this._query.options.relationsDepth},t={};return e.pageSize>0&&(t.pageSize=e.pageSize),e.offset>0&&(t.offset=e.offset),Array.isArray(e.props)&&e.props.length&&(t.props=e.props),e.where&&(t.where=e.where),e.having&&(t.having=e.having),e.sortBy&&(t.sortBy=e.sortBy),e.groupBy&&(t.groupBy=e.groupBy),Array.isArray(e.loadRelations)&&(t.loadRelations=e.loadRelations.length?e.loadRelations:"*"),e.relationsDepth>0&&(t.relationsDepth=e.relationsDepth),t}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=void 0;function u(e){if(l.pool.length){l.flushInterval&&(clearTimeout(l.flushInterval),delete l.flushInterval);var t=void 0,n=function(e){return function(){var n=arguments;t.forEach((function(t){t[e].apply(null,n)})),t===c&&(c=null)}};e&&(t=c=c?c.splice(0):[]).push(e),o.default.put({isAsync:!!e,asyncHandler:e&&new a.default(n("success"),n("fault")),url:i.default.logging(),data:l.pool}),l.pool=[]}else e&&(c?c.push(e):setTimeout(e.success,0))}var l={reset:function(){l.loggers={},l.pool=[],l.numOfMessages=10,l.timeFrequency=1},getLogger:function(e){var t=n(65).default;if(!r.default.isString(e))throw new Error("Invalid 'loggerName' value. LoggerName must be a string value");return l.loggers[e]=l.loggers[e]||new t(e)},push:function(e,t,n,r){var i={logger:e,message:n,exception:r,"log-level":t,timestamp:Date.now()};l.pool.push(i),l.checkMessagesLen()},checkMessagesLen:function(){l.pool.length>=l.numOfMessages&&l.sendRequest()},flush:r.default.promisified(u),flushSync:r.default.synchronized(u),sendRequest:function(){l.flushInterval||(l.flushInterval=setTimeout((function(){return l.flush()}),1e3*l.timeFrequency))},setLogReportingPolicy:function(e,t){l.numOfMessages=e,l.timeFrequency=t,l.checkMessagesLen()}};l.reset(),t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateStringArgument=function(e,t){if(!t||!o.default.isString(t))throw new Error(e+" must be provided and must be not an empty STRING!")};var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loginSocial=function(e,t,n,l,d,f){var p,h,m,g=new u.SocialContainer(e,l);f=r.default.extractResponder(arguments),f=(0,c.wrapAsync)(f,d),p="message",h=window,m=function(e){if(e.origin===s.default.serverURL){var t=JSON.parse(e.data);t.fault?f.fault(t.fault):f.success(t),function(e,t){t.removeEventListener?t.removeEventListener(e,null,!1):t.detachEvent&&t.detachEvent("on"+e,null),t[e]=null}("message",window),g.closeContainer()}},h.addEventListener?h.addEventListener(p,m,!1):h.attachEvent?h.attachEvent("on"+p,m):h[p]=m;var v=new i.default((function(e){g.doAuthorizationActivity(e)}),(function(e){g.closeContainer(),f.fault(e)})),y={};y.fieldsMapping=t||{},y.permissions=n||[],a.default.post({url:o.default.userSocialOAuth(e),isAsync:!0,asyncHandler:v,data:y})};var r=l(n(0)),i=l(n(3)),o=l(n(1)),a=l(n(2)),s=l(n(7)),c=n(10),u=n(102);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EXECUTION_TYPE_HEADER="bl-execution-type";var r=t.ExecutionTypes={SYNC:"sync",ASYNC:"async",ASYNC_LOW_PRIORITY:"async-low-priority"},i=Object.keys(r).map((function(e){return r[e]}));t.isExecutionType=function(e){return i.includes(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i={calculateDistance:function(e,t,n,i){var o=(t-i)*Math.PI/180;e=e*Math.PI/180,n=n*Math.PI/180;var a=Math.sin(e),s=Math.cos(e),c=Math.sin(n),u=Math.cos(n);return r.EARTH_RADIUS*Math.acos(a*c+s*u*Math.cos(o))},updateDegree:function(e){for(e+=180;e<0;)e+=360;return 0===e?180:e%360-180},countLittleRadius:function(e){var t=Math.abs(e)/180*r.EARTH_RADIUS,n=2*r.EARTH_RADIUS,i=(Math.pow(n,2)-n*Math.sqrt(Math.pow(n,2)-4*Math.pow(t,2)))/2;return n/2-Math.sqrt(i-Math.pow(t,2))},isPointInCircle:function(e,t,n){var r=e.latitude,o=e.longitude,a=t.latitude,s=t.longitude;return i.calculateDistance(r,o,a,s)<=n},isMobileDevice:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},isPointInRectangular:function(e,t,n){return!(e.latitude>t.latitude||e.latitude<n.latitude)&&(t.longitude>n.longitude?e.longitude>=t.longitude||e.longitude<=n.longitude:e.longitude>=t.longitude&&e.longitude<=n.longitude)},getPointPosition:function(e,t,n){var r=n.longitude-t.longitude;if(r<0&&r>-180||r>180){var i=t;t=n,n=i}if(e.latitude<t.latitude==e.latitude<n.latitude)return"NO_INTERSECT";var o=e.longitude-t.longitude;return(o<0&&o>-180||o>180)&&(o=(o-360)%360),(n.longitude-t.longitude+360)%360*(e.latitude-t.latitude)/(n.latitude-t.latitude)-o>0?"INTERSECT":"NO_INTERSECT"},isPointInShape:function(e,t){var n=0;function r(e,t){return(e+1)%t.length}for(var o=0;o<t.length;o++)switch(i.getPointPosition(e,t[o],t[r(o,t)])){case"INTERSECT":n++}return n%2==1},isPointInFence:function(e,t){return i.isPointInRectangular(e,t.nwPoint,t.sePoint)||"CIRCLE"===t.type&&i.isPointInCircle(e,t.nodes[0],i.calculateDistance(t.nodes[0].latitude,t.nodes[0].longitude,t.nodes[1].latitude,t.nodes[1].longitude))||"SHAPE"===t.type&&i.isPointInShape(e,t.nodes)},getOutRectangleNodes:function(e){for(var t=e[0].latitude,n=e[0].longitude,r=e[0].latitude,o=e[0].longitude,a=0,s=0,c=0,u=1;u<e.length;u++){e[u].latitude>t&&(t=e[u].latitude),e[u].latitude<r&&(r=e[u].latitude);var l=e[u].latitude-e[u-1].latitude;l<0&&l>-180||l>270?(l>270&&(l-=360),(c+=l)<a&&(a=c)):(l>0&&l<=180||l<=-270)&&(l<=-270&&(l+=360),(c+=l)>s&&(s=c))}return(o+=s)-(n+=a)>=360?(o=180,n=-180):(o=i.updateDegree(o),n=i.updateDegree(n)),[t,n,r,o]},getOutRectangleCircle:function(e,t){var n=i.calculateDistance(e.latitude,e.longitude,t.latitude,t.longitude),o=e.latitude+180*n/(Math.PI*r.EARTH_RADIUS)*(e.latitude>0?1:-1),a=i.countLittleRadius(o),s=void 0,c=void 0,u=void 0,l=void 0;return a>n?(s=e.longitude-180*n/a,c=2*e.longitude-s,s=i.updateDegree(s),c=c%360==180?180:i.updateDegree(c)):(s=-180,c=180),e.latitude>0?(u=o,l=2*e.latitude-o):(l=o,u=2*e.latitude-o),[Math.min(u,90),s,Math.max(l,-90),c]},getOutRectangle:function(){return 1===arguments.length?i.getOutRectangleNodes(arguments[1]):i.getOutRectangleCircle(arguments[0],arguments[1])}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateQueryObject=function(e){if(void 0!==e.geoFence&&!o.default.isString(e.geoFence))throw new Error('Invalid value for argument "geoFenceName". Geo Fence Name must be a String');if(e.searchRectangle&&e.radius)throw new Error("Inconsistent geo query. Query should not contain both rectangle and radius search parameters.");if(e.radius&&(void 0===e.latitude||void 0===e.longitude))throw new Error("Latitude and longitude should be provided to search in radius");if((e.relativeFindMetadata||e.relativeFindPercentThreshold)&&(!e.relativeFindMetadata||!e.relativeFindPercentThreshold))throw new Error("Inconsistent geo query. Query should contain both relativeFindPercentThreshold and relativeFindMetadata or none of them")};var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toQueryParams=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&o.default.hasOwnProperty(n)&&null!=e[n]&&t.push(o.default[n](e[n]));return t.join("&")};var r,i=n(25),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a={searchRectangle:function(e){return["nwlat="+e[0],"nwlon="+e[1],"selat="+e[2],"selon="+e[3]].join("&")},latitude:function(e){return"lat="+e},longitude:function(e){return"lon="+e},metadata:function(e){return"metadata="+encodeURIComponent(JSON.stringify(e))},units:function(e){return"units="+e},radius:function(e){return"r="+e},categories:function(e){return e=o.default.isString(e)?[e]:e,"categories="+o.default.encodeArrayToUriComponent(e)},includeMetadata:function(e){return"includemetadata="+e},pageSize:function(e){if(e<1)throw new Error("PageSize can not be less then 1");return"pagesize="+e},offset:function(e){if(e<0)throw new Error("Offset can not be less then 0");return"offset="+e},relativeFindPercentThreshold:function(e){if(e<=0)throw new Error("Threshold can not be less then or equal 0");return"relativeFindPercentThreshold="+e},relativeFindMetadata:function(e){return"relativeFindMetadata="+encodeURIComponent(JSON.stringify(e))},condition:function(e){return"whereClause="+encodeURIComponent(e)},degreePerPixel:function(e){return"dpp="+e},clusterGridSize:function(e){return"clustergridsize="+e},geoFence:function(e){return"geoFence="+e}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={ensureSlashInPath:function(e){return/^\//.test(e)?e:"/"+e}}},function(e,t){var n,r;n=this,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.castArray=function(e){return Array.isArray(e)?e:[e]},t.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":r(e))},t.isFormData=function(e){return e&&e.constructor&&0===e.constructor.toString().trim().indexOf("function FormData")},t.isStream=function(e){return e instanceof n(5).Stream}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,n){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(3),s=(r=a)&&r.__esModule?r:{default:r},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),u=n(0);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=new s.default(6e4),f=function(e){function t(e,n,r){l(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.status=n,i.headers=r,i.message=e.message||e,i.code=e.code,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();function p(e){try{return o({},e,{body:JSON.parse(e.body)})}catch(t){return e}}var h=function(e,t,n,r){return new Promise((function(i,o){var a=new v.XMLHttpRequest;a.open(t.toUpperCase(),e,!0),a.onload=function(){var e,t,n=(e=a.getAllResponseHeaders(),t={},e?(e.split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.substr(0,n).trim(),i=e.substr(n+1).trim();r&&(t[r]=t[r]?t[r]+", "+i:i)})),t):t),r=a,o=r.status,s=r.statusText,c=r.response,u=r.responseText;i({status:o,statusText:s,headers:n,body:c||u}),a=null},a.onerror=function(){o(new Error("Network Error")),a=null},a.ontimeout=function(){o(new Error("Connection aborted due to timeout")),a=null},Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(r)}))},m=function(e,t,r,i,a){return new Promise((function(s,c){var l=n(6).parse(e),d=(0,u.isFormData)(i)&&i,f="https:"===l.protocol,p={host:l.hostname,port:l.port||(f?443:80),method:t,path:l.path,headers:r},h=function(){var e=n(1).Buffer,t=n(f?7:8).request(p,(function(t){var n=[],r=[],i=0,o="",u=t.statusCode,l=t.statusMessage,d=t.headers;t.on("data",(function(t){e.isBuffer(t)?t.length&&(i+=t.length,r.push(t)):n.push(t)})),t.on("end",(function(){i?(o=e.concat(r,i),null!=a&&(o=o.toString(a))):n.length&&(o=n.join()),s({status:u,statusText:l,headers:d,body:o})})),t.on("error",c)}));if(t.on("error",c),i){if((0,u.isStream)(i))return void i.pipe(t);t.write(i)}t.end()};if(d)o(p.headers,d.getHeaders()),d.getLength((function(e,t){e||isNaN(t)||(p.headers["content-length"]=t),h()}));else{if(i&&!p.headers["content-length"]){var m=n(1).Buffer;p.headers["content-length"]=m.byteLength(i)}h()}}))};function g(e){if(e.status>=200&&e.status<300)return e;var t,n=new f(502===(t=e).status?"No connection with server":t.body||"Status Code "+t.status+" ("+t.statusText+")",e.status,e.headers);return Promise.reject(n)}var v=function(){function t(e,n,r){l(this,t),this.method=n,this.path=e,this.body=r,this.tags=void 0,this.unwrap=!0,this.cacheTTL=0,this.headers={},this.queryParams={},this.encoding="utf8"}return i(t,[{key:"set",value:function(e,t){if((0,u.isObject)(e))for(var n in e)this.set(n,e[n]);else void 0!==t&&(this.headers[e]=t);return this}},{key:"cacheTags",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.tags=t,this}},{key:"query",value:function(e){return o(this.queryParams,e),this}},{key:"form",value:function(t){var n=this;if(t){var r=e.exports.FormData;t instanceof r?this.body=t:function(){var e=new r,i=function(n){n&&(0,u.castArray)(t[n]).forEach((function(t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?e.append(n,t.value,t.options):e.append(n,t)}))};for(var o in t)i(o);n.body=e}()}return this}},{key:"useCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return this.cacheTTL=e,this}},{key:"resetCache",value:function(e){return e&&this.tags&&d.deleteByTags(this.tags),this}},{key:"type",value:function(e){return this.set("Content-Type",e),this}},{key:"unwrapBody",value:function(e){return this.unwrap=e,this}},{key:"setEncoding",value:function(e){return this.encoding=e,this}},{key:"send",value:function(e){var n=this,r=this.path,i=c.stringify(this.queryParams);if(i&&(r+="?"+i),this.cacheTTL){var o=d.get(r);if(void 0!==o)return Promise.resolve(o)}return this.headers["Content-Type"]||!(0,u.isObject)(e)||(0,u.isFormData)(e)||this.type("application/json"),e&&(e="application/json"===this.headers["Content-Type"]&&"string"!=typeof e?JSON.stringify(e):e),t.verbose&&console.log(this.method.toUpperCase(),decodeURIComponent(r),e,this.headers),t.send(r,this.method.toUpperCase(),this.headers,e,this.encoding).then(p).then(g).then((function(e){return n.unwrap?e.body:e})).then((function(e){return n.cacheTTL&&d.set(r,e,n.tags,n.cacheTTL),e})).then((function(e){return n.tags&&"get"!==n.method&&d.deleteByTags(n.tags),e}))}},{key:"then",value:function(e,t){return this.promise=this.promise||this.send(this.body),this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise=this.promise||this.send(this.body),this.promise.catch(e)}}]),t}();Object.defineProperty(v,"FormData",{get:function(){return"undefined"!=typeof FormData?FormData:n(9)}}),v.XMLHttpRequest="undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0,v.send=function(e,t,n,r,i){return(void 0!==v.XMLHttpRequest?h:m)(e,t,n,r,i)},v.verbose=!1,v.methods=["get","post","put","patch","delete"],v.methods.forEach((function(e){v[e]=function(t,n){return new v(t,e,n)}})),e.exports=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){return{value:e,tags:t,ttl:n}},a=function(){return(new Date).getTime()},s=function(e,t){return!!e.find((function(e){return t.find((function(t){return function(e,t){var n=e==t;return!n&&e instanceof RegExp&&(n=e.test(t)),!n&&t instanceof RegExp&&(n=t.test(e)),n}(e,t)}))}))},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flushInterval=t,this.map=new Map}return i(e,[{key:"get",value:function(e){var t=this.map.get(e);if(t){if(t.ttl>a())return t.value;this.map.delete(e)}}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;this.map.set(e,o(t,n,a()+r)),this.flushInterval&&!this.flushTimer&&(this.flushTimer=setInterval(this.flush.bind(this),this.flushInterval),this.flushTimer.unref&&this.flushTimer.unref())}},{key:"delete",value:function(e){this.map.delete(e)}},{key:"deleteByTags",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=this.map[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=r(o.value,2),u=c[0],l=c[1];l.tags&&s(e,l.tags)&&this.delete(u)}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"flush",value:function(){var e=a(),t=!0,n=!1,i=void 0;try{for(var o,s=this.map[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=r(o.value,2),u=c[0];c[1].ttl<e&&this.delete(u)}}catch(e){n=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw i}}}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var r=n(0);t.stringify=function(e){var t=[];return Object.keys(e).forEach((function(n){var i=e[n];void 0!==i&&(0,r.castArray)(i).forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))})),t.join("&")}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')}])},"object"==typeof t&&"object"==typeof e?e.exports=r():"object"==typeof t?t.BackendlessRequest=r():n.BackendlessRequest=r()},function(e,t,n){var r,i,o,a,s;Object.defineProperty(t,"__esModule",{value:!0});var c=m(n(0)),u=n(4),l=m(n(52)),d=m(n(55)),f=m(n(17)),p=m(n(30)),h=n(63);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v={},y=(r=(0,u.deprecated)("Backendless.Data","Backendless.Data.describe"),i=(0,u.deprecated)("Backendless.Data","Backendless.Data.of(<ClassName>).save"),o=(0,u.deprecated)("Backendless.Data","Backendless.Data.of(<ClassName>).save"),g(a={Permissions:l.default,QueryBuilder:f.default,LoadRelationsQueryBuilder:p.default,of:function(e){return new d.default(e,v)},describeSync:c.default.synchronized(h.describe),describe:c.default.promisified(h.describe),save:function(e,t){return this.of(e).save(t)},saveSync:function(e,t,n){return this.of(e).saveSync(t,n)},mapTableToClass:function(e,t){if(!e)throw new Error("Table name is not specified");if(!t)throw new Error("Class is not specified");v[e]=t}},"describeSync",[r],(s=(s=Object.getOwnPropertyDescriptor(a,"describeSync"))?s.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return s}}),a),g(a,"save",[i],Object.getOwnPropertyDescriptor(a,"save"),a),g(a,"saveSync",[o],Object.getOwnPropertyDescriptor(a,"saveSync"),a),a);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveModelClassFromString=function(e){return e===o.default.className?o.default:function(){}};var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(31)),o=s(n(32)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._query=new i.default,this._query.relationModel=t,this._paging=new o.default}return r(e,null,[{key:"create",value:function(){return new e}},{key:"of",value:function(t){return new e(t)}}]),r(e,[{key:"setRelationName",value:function(e){return this._query.setOption("relationName",e),this}},{key:"setPageSize",value:function(e){return this._paging.setPageSize(e),this}},{key:"setOffset",value:function(e){return this._paging.setOffset(e),this}},{key:"prepareNextPage",value:function(){return this._paging.prepareNextPage(),this}},{key:"preparePreviousPage",value:function(){return this._paging.preparePreviousPage(),this}},{key:"getProperties",value:function(){return this._query.properties}},{key:"setProperties",value:function(e){return this._query.properties=a.default.castArray(e),this}},{key:"addProperty",value:function(e){return this._query.addProperty(e),this}},{key:"getWhereClause",value:function(){return this._query.condition}},{key:"setWhereClause",value:function(e){return this._query.condition=e,this}},{key:"getSortBy",value:function(){return this._query.getOption("sortBy")}},{key:"setSortBy",value:function(e){return this._query.setOption("sortBy",a.default.castArray(e)),this}},{key:"build",value:function(){return this._query.setOptions(this._paging.build()),this._query}},{key:"toJSON",value:function(){var e={pageSize:this._paging.pageSize,offset:this._paging.offset,props:this._query.properties,where:this._query.condition,sortBy:this._query.options&&this._query.options.sortBy},t={};return e.pageSize>0&&(t.pageSize=e.pageSize),e.offset>0&&(t.offset=e.offset),Array.isArray(e.props)&&e.props.length&&(t.props=e.props),e.where&&(t.where=e.where),e.sortBy&&(t.sortBy=e.sortBy),t}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.properties=t.properties||[],this.condition=t.condition||null,this.havingClause=t.havingClause||null,this.options=t.options||null,this.url=t.url||null}return r(e,[{key:"addProperty",value:function(e){this.properties=this.properties||[],this.properties.push(e)}},{key:"setOption",value:function(e,t){this.options=this.options||{},this.options[e]=t}},{key:"setOptions",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setOption(t,e[t])}},{key:"getOption",value:function(e){return this.options&&this.options[e]}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={pageSize:10,offset:0},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=i.offset,this.pageSize=i.pageSize}return r(e,[{key:"setPageSize",value:function(e){return e<=0?"Page size must be a positive value.":(this.pageSize=e,this)}},{key:"setOffset",value:function(e){if(e<0)throw new Error("Offset cannot have a negative value.");return this.offset=e,this}},{key:"prepareNextPage",value:function(){return this.setOffset(this.offset+this.pageSize),this}},{key:"preparePreviousPage",value:function(){var e=this.offset>this.pageSize?this.offset-this.pageSize:0;return this.setOffset(e),this}},{key:"build",value:function(){return{pageSize:this.pageSize,offset:this.offset}}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.extractQueryOptions=function(e){var t=[];if(void 0!==e.pageSize){if(e.pageSize<1)throw new Error("PageSize can not be less then 1");t.push("pageSize="+encodeURIComponent(e.pageSize))}if(void 0!==e.offset){if(e.offset<0)throw new Error("Offset can not be less then 0");t.push("offset="+encodeURIComponent(e.offset))}if(e.sortBy&&(o.default.isString(e.sortBy)?t.push("sortBy="+encodeURIComponent(e.sortBy)):o.default.isArray(e.sortBy)&&t.push("sortBy="+o.default.encodeArrayToUriComponent(e.sortBy))),e.groupBy&&(o.default.isString(e.groupBy)?t.push("groupBy="+encodeURIComponent(e.groupBy)):o.default.isArray(e.groupBy)&&t.push("groupBy="+o.default.encodeArrayToUriComponent(e.groupBy))),o.default.isNumber(e.relationsDepth)&&t.push("relationsDepth="+e.relationsDepth),e.relations&&o.default.isArray(e.relations)){var n=e.relations.length?o.default.encodeArrayToUriComponent(e.relations):"*";t.push("loadRelations="+n)}return t.join("&")};var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n(71);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n(72);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n(73);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var s=n(74);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var c=n(75);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var u=n(76);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var l=n(77);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var d=n(78);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={};t.Parsers={set:function(e,t){r[e]=t},get:function(e){return r[e]}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendSocialLoginRequest=void 0;var r=u(n(3)),i=u(n(1)),o=u(n(2)),a=u(n(9)),s=n(5),c=n(10);function u(e){return e&&e.__esModule?e:{default:e}}t.sendSocialLoginRequest=function(e,t,n,u,l){if(!e)return l.fault('"accessToken" is missing.');var d=new r.default((function(e){(0,s.setLocalCurrentUser)((0,c.parseResponse)(e)),a.default.set("stayLoggedIn",!!u),l.success((0,c.getUserFromResponse)((0,s.getLocalCurrentUser)()))}),(function(e){l.fault(e)}));o.default.post({url:i.default.userSocialLogin(t),isAsync:!0,asyncHandler:d,data:{accessToken:e,fieldsMapping:n}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EARTH_RADIUS=6378100,t.UNITS={METERS:"METERS",KILOMETERS:"KILOMETERS",MILES:"MILES",YARDS:"YARDS",FEET:"FEET"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),i=c(n(1)),o=c(n(2)),a=c(n(3)),s=c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,c){if(n instanceof a.default&&(c=n,n=void 0),!r.default.isString(t))throw new Error("Invalid value for parameter 'geoFenceName'. Geo Fence Name must be a String");if(n&&!(n instanceof s.default)&&!n.objectId)throw new Error("Method argument must be a valid instance of GeoPoint persisted on the server");return o.default.post({url:i.default.geoFence(e,t),isAsync:!!c,data:n,asyncHandler:c})}var l={run:u,enter:function(e,t,n){return u("onenter",e,t,n)},stay:function(e,t,n){return u("onstay",e,t,n)},exist:function(e,t,n){return u("onexit",e,t,n)}};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.loadItems=function(e,t){(0,c.validateQueryObject)(e);var n=e.url+(e.searchRectangle?"/rect":"/points")+"?"+(0,u.toQueryParams)(e);t&&(t=i.default.wrapAsync(t,(function(t){return d(t,e)})));var r=o.default.get({url:n,isAsync:!!t,asyncHandler:t});return t?r:d(r,e)};var i=l(n(0)),o=l(n(2)),a=l(n(15)),s=l(n(6)),c=n(23),u=n(24);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return e.map((function(e){return new(e.hasOwnProperty("totalPoints")?a.default:s.default)(r({},e,{geoQuery:t}))}))}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b;Object.defineProperty(t,"__esModule",{value:!0});var _=x(n(0)),k=n(4),w=x(n(123)),S=n(124),E=n(127);function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=(r=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.publish"),i=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.sendEmail"),o=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.sendEmailFromTemplate"),a=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.cancel"),s=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.registerDevice"),c=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.getRegistrations"),u=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.unregisterDevice"),l=(0,k.deprecated)("Backendless.Messaging","Backendless.Messaging.getMessageStatus"),T(d={Bodyparts:S.Bodyparts,PublishOptions:S.PublishOptions,DeliveryOptions:S.DeliveryOptions,PublishOptionsHeaders:S.PublishOptionsHeaders,EmailEnvelope:S.EmailEnvelope,SubscriptionOptions:S.SubscriptionOptions,subscribe:function(e){if(!e||"string"!=typeof e)throw new Error('"channelName" must be non empty string');if(e.indexOf("/")>=0)throw new Error('"channelName" can not contains slash chars');return new w.default({name:e.trim()})},publishSync:_.default.synchronized(E.publish),publish:_.default.promisified(E.publish),pushWithTemplate:_.default.promisified(E.pushWithTemplate),sendEmailSync:_.default.synchronized(E.sendEmail),sendEmail:_.default.promisified(E.sendEmail),sendEmailFromTemplateSync:_.default.synchronized(E.sendEmailFromTemplate),sendEmailFromTemplate:_.default.promisified(E.sendEmailFromTemplate),cancelSync:_.default.synchronized(E.cancel),cancel:_.default.promisified(E.cancel),registerDeviceSync:_.default.synchronized(E.registerDevice),registerDevice:_.default.promisified(E.registerDevice),getRegistrationsSync:_.default.synchronized(E.getRegistrations),getRegistrations:_.default.promisified(E.getRegistrations),unregisterDeviceSync:_.default.synchronized(E.unregisterDevice),unregisterDevice:_.default.promisified(E.unregisterDevice),getMessageStatusSync:_.default.synchronized(E.getMessageStatus),getMessageStatus:_.default.promisified(E.getMessageStatus),getPushTemplates:_.default.promisified(E.getPushTemplates)},"publishSync",[r],(f=(f=Object.getOwnPropertyDescriptor(d,"publishSync"))?f.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return f}}),d),T(d,"sendEmailSync",[i],(p=(p=Object.getOwnPropertyDescriptor(d,"sendEmailSync"))?p.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return p}}),d),T(d,"sendEmailFromTemplateSync",[o],(h=(h=Object.getOwnPropertyDescriptor(d,"sendEmailFromTemplateSync"))?h.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return h}}),d),T(d,"cancelSync",[a],(m=(m=Object.getOwnPropertyDescriptor(d,"cancelSync"))?m.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return m}}),d),T(d,"registerDeviceSync",[s],(g=(g=Object.getOwnPropertyDescriptor(d,"registerDeviceSync"))?g.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return g}}),d),T(d,"getRegistrationsSync",[c],(v=(v=Object.getOwnPropertyDescriptor(d,"getRegistrationsSync"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),d),T(d,"unregisterDeviceSync",[u],(y=(y=Object.getOwnPropertyDescriptor(d,"unregisterDeviceSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),d),T(d,"getMessageStatusSync",[l],(b=(b=Object.getOwnPropertyDescriptor(d,"getMessageStatusSync"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),d),d);t.default=O},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.publisherId=t.publisherId||void 0,this.headers=t.headers||void 0,this.subtopic=t.subtopic||void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.publishPolicy=t.publishPolicy||void 0,this.pushBroadcast=t.pushBroadcast||void 0,this.pushSinglecast=t.pushSinglecast||void 0,this.publishAt=t.publishAt||void 0,this.repeatEvery=t.repeatEvery||void 0,this.repeatExpiresAt=t.repeatExpiresAt||void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.textmessage=t&&t.textmessage,this.htmlmessage=t&&t.htmlmessage}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.addresses=t.addresses||[],this.ccAddresses=t.ccAddresses||[],this.bccAddresses=t.bccAddresses||[],this.query=t.query||null}return i(e,null,[{key:"create",value:function(t){return new e(t)}}]),i(e,[{key:"setTo",value:function(e){return this.addresses=a.default.castArray(e),this}},{key:"addTo",value:function(e){return this.addresses=this.addresses.concat(a.default.castArray(e)),this}},{key:"getTo",value:function(){return this.addresses}},{key:"setCc",value:function(e){return this.ccAddresses=a.default.castArray(e),this}},{key:"addCc",value:function(e){return this.ccAddresses=this.ccAddresses.concat(a.default.castArray(e)),this}},{key:"getCc",value:function(){return this.ccAddresses}},{key:"setBcc",value:function(e){return this.bccAddresses=a.default.castArray(e),this}},{key:"addBcc",value:function(e){return this.bccAddresses=this.bccAddresses.concat(a.default.castArray(e)),this}},{key:"getBcc",value:function(){return this.bccAddresses}},{key:"setQuery",value:function(e){return this.query=e,this}},{key:"getQuery",value:function(){return this.query}},{key:"toJSON",value:function(){var e={};return this.addresses.length>0&&(e.addresses=this.addresses),this.ccAddresses.length>0&&(e["cc-addresses"]=this.ccAddresses),this.bccAddresses.length>0&&(e["bcc-addresses"]=this.bccAddresses),this.query&&(e.criteria=this.query),e}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendFile=void 0;var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}t.sendFile=function(e){var t,n=i.default.filePath(e.path)+"/"+(t=e.fileName,encodeURIComponent(t).replace(/'/g,"%27").replace(/"/g,"%22")),a={};return r.default.isBoolean(e.overwrite)&&(a.overwrite=e.overwrite),o.default.post({url:n,query:a,form:{file:e.file},asyncHandler:e.asyncHandler})}},function(e,t,n){(function(r){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(n(27)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var c="object"===("undefined"==typeof self?"undefined":i(self))&&self.self===self&&self||"object"===(void 0===r?"undefined":i(r))&&r.global===r&&r,u=c&&c.Backendless,l={get debugMode(){return a.default.debugMode},set debugMode(e){a.default.debugMode=!!e,n(8).setRTDebugMode(a.default.debugMode)},get serverURL(){return a.default.serverURL},set serverURL(e){a.default.serverURL=e},get XMLHttpRequest(){return a.default.XMLHttpRequest},set XMLHttpRequest(e){a.default.XMLHttpRequest=e},get applicationId(){return a.default.applicationId},set applicationId(e){throw new Error("Setting '"+e+"' value to Backendless.applicationId directly is not possible, instead you must use Backendless.initApp('"+e+"', API_KEY)")},get secretKey(){return a.default.secretKey},set secretKey(e){throw new Error("Setting '"+e+"' value to Backendless.secretKey directly is not possible, instead you must use Backendless.initApp(APP_ID, '"+e+"')")},get appPath(){return a.default.appPath},set appPath(e){throw new Error("Setting '"+e+"' value to Backendless.appPath directly is not possible, instead you must use Backendless.initApp(APP_ID, API_KEY) for setup the value")},get ServerCode(){return a.default.ServerCode},set ServerCode(e){a.default.ServerCode=e},initApp:function(){var e;(e=n(64)).initApp.apply(e,arguments)},getCurrentUserToken:function(){return n(5).getCurrentUserToken()},setupDevice:function(){var e=n(14),t=e.default;t.setup.apply(t,arguments)},get browser(){return n(66).getUserAgent()},Request:o.default,noConflict:function(){return c&&(c.Backendless=u),l},get Logging(){return n(67).default},get Counters(){return n(68).default},get Cache(){return n(79).default},get Commerce(){return n(86).default},get Users(){return n(90).default},get User(){return n(11).default},get BL(){return n(105).default},get CustomServices(){return l.BL.CustomServices},get Events(){return l.BL.Events},get Geo(){return n(108).default},get Data(){return n(28).default},get Messaging(){return n(40).default},get Files(){return n(138).default},get RT(){return n(8).default},get SharedObject(){return n(152).default},get UserService(){return l.Users},get GeoQuery(){return l.Geo.Query},get GeoPoint(){return l.Geo.Point},get GeoCluster(){return l.Geo.Cluster},get Persistence(){return l.Data},get DataQueryBuilder(){return l.Data.QueryBuilder},get LoadRelationsQueryBuilder(){return l.Data.LoadRelationsQueryBuilder},get Bodyparts(){return l.Messaging.Bodyparts},get PublishOptions(){return l.Messaging.PublishOptions},get DeliveryOptions(){return l.Messaging.DeliveryOptions},get PublishOptionsHeaders(){return l.Messaging.PublishOptionsHeaders},get EmailEnvelope(){return l.Messaging.EmailEnvelope},get LocalCache(){return n(9).default},get SubscriptionOptions(){return l.Messaging.SubscriptionOptions}};c&&(c.Backendless=l),t.default=l,e.exports=l}).call(t,n(47))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,i,o,a;"undefined"!=typeof self&&self,a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NativeSocketEvents={CONNECTING:"connecting",CONNECT:"connect",CONNECT_ERROR:"connect_error",CONNECT_TIMEOUT:"connect_timeout",DISCONNECT:"disconnect",RECONNECT:"reconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECTING:"reconnecting",RECONNECT_ERROR:"reconnect_error",RECONNECT_FAILED:"reconnect_failed",ERROR:"error",PING:"ping",PONG:"pong"},t.RTSocketEvents={SUB_ON:"SUB_ON",SUB_OFF:"SUB_OFF",SUB_RES:"SUB_RES",MET_REQ:"MET_REQ",MET_RES:"MET_RES"},t.RTSubscriptionTypes={OBJECTS_CHANGES:"OBJECTS_CHANGES",PUB_SUB_CONNECT:"PUB_SUB_CONNECT",PUB_SUB_MESSAGES:"PUB_SUB_MESSAGES",PUB_SUB_COMMANDS:"PUB_SUB_COMMANDS",PUB_SUB_USERS:"PUB_SUB_USERS",RSO_CONNECT:"RSO_CONNECT",RSO_CHANGES:"RSO_CHANGES",RSO_CLEARED:"RSO_CLEARED",RSO_COMMANDS:"RSO_COMMANDS",RSO_INVOKE:"RSO_INVOKE",RSO_USERS:"RSO_USERS",LOGGING_MESSAGES:"LOGGING_MESSAGES"},t.RTMethodTypes={SET_USER_TOKEN:"SET_USER_TOKEN",RSO_GET:"RSO_GET",RSO_SET:"RSO_SET",RSO_CLEAR:"RSO_CLEAR",RSO_COMMAND:"RSO_COMMAND",RSO_INVOKE:"RSO_INVOKE",PUB_SUB_COMMAND:"PUB_SUB_COMMAND"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i={generateUID:function(){for(var e="",t=0;t<8;t++)e+=r.charAt(Math.floor(Math.random()*r.length));return e+Date.now()}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriptions={},this.simpleListeners={}}return i(e,[{key:"addSubscription",value:function(e,t,n){var i=this,o=n.callback,a=n.onError,s=n.parser,c=n.params,u=this.subscriptions[e]=this.subscriptions[e]||[],l=t(r({},c,this.getSubscriptionOptions()),{parser:s,onData:o,onError:a,onStop:function(){i.subscriptions[e]=u.filter((function(e){return e.subscription!==l}))}}),d={callback:o,params:c,subscription:l,stop:function(){return l.stop()}};return u.push(d),d}},{key:"getSubscriptionOptions",value:function(){return{}}},{key:"stopSubscription",value:function(e,t){var n=t.callback,r=t.matcher,i=this.subscriptions[e]=this.subscriptions[e]||[];r?i.forEach((function(e){r(e)&&e.subscription.stop()})):i.forEach((function(e){n&&e.callback!==n||e.subscription.stop()}))}},{key:"addSimpleListener",value:function(e,t){(this.simpleListeners[e]=this.simpleListeners[e]||[]).push(t)}},{key:"removeSimpleListener",value:function(e,t){this.simpleListeners[e]&&(this.simpleListeners[e]=t?this.simpleListeners[e].filter((function(e){return e!==t})):[])}},{key:"runSimpleListeners",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.simpleListeners[e]&&this.simpleListeners[e].forEach((function(e){return e.apply(void 0,n)}))}},{key:"removeAllListeners",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.subscriptions[t].forEach((function(e){return e.subscription.stop()}))})),this.simpleListeners={}}}]),e}();t.default=o},function(e,t,n){(function(r){Object.defineProperty(t,"__esModule",{value:!0}),t.RTScopeConnector=t.RTListeners=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=c(n(5)),a=c(n(2)),s=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var u="object"===("undefined"==typeof self?"undefined":i(self))&&self.self===self&&self||"object"===(void 0===r?"undefined":i(r))&&r.global===r&&r;o.default.Listeners=a.default,o.default.ScopeConnector=s.default,u&&(u.BackendlessRTClient=o.default),e.exports=o.default,t.default=o.default,t.RTListeners=a.default,t.RTScopeConnector=s.default}).call(t,n(4))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(n(6)),a=u(n(7)),s=u(n(8)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}var l=[i.NativeSocketEvents.CONNECTING,i.NativeSocketEvents.CONNECT,i.NativeSocketEvents.CONNECT_ERROR,i.NativeSocketEvents.DISCONNECT,i.NativeSocketEvents.RECONNECT_ATTEMPT],d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.connectOnMethod=function(e){return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];if(n.connectible){var o=n.provideConnection();n.connected&&o.then((function(t){return t[e].apply(t,r)}))}}},this.on=this.connectOnMethod("on"),this.emit=this.connectOnMethod("emit"),this.onSessionDisconnect=function(){n.subscriptions.stop(),n.methods.stop(),delete n.session,n.provideConnection()},this.emitSocketEventListeners=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.socketEvents[e]&&n.socketEvents[e].forEach((function(e){return e.apply(void 0,r)}))},this.addConnectingEventListener=function(e){return n.addSocketEventListener(i.NativeSocketEvents.CONNECTING,e)},this.removeConnectingEventListener=function(e){return n.removeSocketEventListener(i.NativeSocketEvents.CONNECTING,e)},this.addConnectEventListener=function(e){return n.addSocketEventListener(i.NativeSocketEvents.CONNECT,e)},this.removeConnectEventListener=function(e){return n.removeSocketEventListener(i.NativeSocketEvents.CONNECT,e)},this.addConnectErrorEventListener=function(e){return n.addSocketEventListener(i.NativeSocketEvents.CONNECT_ERROR,e)},this.removeConnectErrorEventListener=function(e){return n.removeSocketEventListener(i.NativeSocketEvents.CONNECT_ERROR,e)},this.addDisconnectEventListener=function(e){return n.addSocketEventListener(i.NativeSocketEvents.DISCONNECT,e)},this.removeDisconnectEventListener=function(e){return n.removeSocketEventListener(i.NativeSocketEvents.DISCONNECT,e)},this.addReconnectAttemptEventListener=function(e){return n.addSocketEventListener(i.NativeSocketEvents.RECONNECT_ATTEMPT,e)},this.removeReconnectAttemptEventListener=function(e){return n.removeSocketEventListener(i.NativeSocketEvents.RECONNECT_ATTEMPT,e)},this.removeConnectionListeners=function(){l.forEach((function(e){return n.removeSocketEventListener(e)}))},this.config=new o.default(t),this.socketEvents={};var r={onMessage:this.on.bind(this),emitMessage:this.emit.bind(this)};this.subscriptions=new a.default(r),this.methods=new s.default(r),this.connectible=!0,this.connected=!1}return r(e,[{key:"setConfig",value:function(e){this.config.set(e),this.session&&(this.disconnect("Re-config socket connection"),this.connect())}},{key:"provideConnection",value:function(){var e=this;return this.session||(this.session=new c.default(this.config,this.emitSocketEventListeners,this.onSessionDisconnect),this.session.getSocket().then((function(){e.connected=!0,e.methods.initialize(),e.subscriptions.initialize(),e.subscriptions.restore()}))),this.session.getSocket()}},{key:"connect",value:function(){this.connectible=!0,this.provideConnection()}},{key:"disconnect",value:function(e){this.session&&(this.subscriptions.stop(),this.methods.stop(),this.session.terminate(),delete this.session,this.emitSocketEventListeners(i.NativeSocketEvents.DISCONNECT,e||"disconnected by client")),this.connectible=!1,this.connected=!1}},{key:"terminate",value:function(e){this.socketEvents={},this.subscriptions.reset(),this.methods.reset(),this.disconnect(e||"Terminated by client")}},{key:"addSocketEventListener",value:function(e,t){return this.socketEvents[e]=this.socketEvents[e]||[],this.socketEvents[e].push(t),this}},{key:"removeSocketEventListener",value:function(e,t){return this.socketEvents[e]&&(this.socketEvents[e]=t?this.socketEvents[e].filter((function(e){return e!==t})):[],this.socketEvents[e].length||delete this.socketEvents[e]),this}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return void 0===e},a=function(e){return"string"==typeof e},s=function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appId=null,this.lookupPath=null,this.lookupHeaders={},this.debugMode=!1,this.connectQuery={},this.set(t)}return r(e,[{key:"set",value:function(e){if(e){if(!o(e.appId)){if(!a(e.appId))throw new Error('"appId" must be String.');this.appId=e.appId}if(!o(e.lookupPath)){if(!a(e.lookupPath))throw new Error('"lookupPath" must be String.');this.lookupPath=e.lookupPath}if(!o(e.lookupHeaders)){if(!s(e.lookupHeaders))throw new Error('"lookupHeaders" must be Object.');this.lookupHeaders=e.lookupHeaders}if(o(e.debugMode)||(this.debugMode=!!e.debugMode),!o(e.connectQuery))if("function"==typeof e.connectQuery)this.getConnectQuery=e.connectQuery;else{if(!s(e.connectQuery))throw new Error('"connectQuery" must be Function or Object.');this.connectQuery=e.connectQuery}}}},{key:"getConnectQuery",value:function(){return this.connectQuery}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(1),s=(r=a)&&r.__esModule?r:{default:r},c=function(e){return function(t,n){return this.subscribe(e,t,n)}},u=function(){function e(t){var n=t.onMessage,r=t.emitMessage;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onObjectsChanges=c(o.RTSubscriptionTypes.OBJECTS_CHANGES).bind(this),this.connectToPubSub=c(o.RTSubscriptionTypes.PUB_SUB_CONNECT).bind(this),this.onPubSubMessage=c(o.RTSubscriptionTypes.PUB_SUB_MESSAGES).bind(this),this.onPubSubCommand=c(o.RTSubscriptionTypes.PUB_SUB_COMMANDS).bind(this),this.onPubSubUserStatus=c(o.RTSubscriptionTypes.PUB_SUB_USERS).bind(this),this.connectToRSO=c(o.RTSubscriptionTypes.RSO_CONNECT).bind(this),this.onRSOChanges=c(o.RTSubscriptionTypes.RSO_CHANGES).bind(this),this.onRSOClear=c(o.RTSubscriptionTypes.RSO_CLEARED).bind(this),this.onRSOCommand=c(o.RTSubscriptionTypes.RSO_COMMANDS).bind(this),this.onRSOInvoke=c(o.RTSubscriptionTypes.RSO_INVOKE).bind(this),this.onRSOUserStatus=c(o.RTSubscriptionTypes.RSO_USERS).bind(this),this.onLoggingMessages=c(o.RTSubscriptionTypes.LOGGING_MESSAGES).bind(this),this.onMessage=n,this.emitMessage=r,this.subscriptions={}}return i(e,[{key:"initialize",value:function(){var e=this;this.onMessage(o.RTSocketEvents.SUB_RES,(function(t){return e.onSubscriptionResponse(t)}))}},{key:"stop",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.subscriptions[t].ready=!1}))}},{key:"reset",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){return e.stopSubscription(t)}))}},{key:"restore",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.startSubscription(t)}))}},{key:"hasActivity",value:function(){return!!Object.keys(this.subscriptions).length}},{key:"subscribe",value:function(e,t,n){var r=this,i=n.parser,o=n.onData,a=n.onError,c=n.onStop,u=n.onReady,l=s.default.generateUID();return this.subscriptions[l]={data:{id:l,name:e,options:t},ready:!1,parser:i,onData:o,onError:a,onStop:c,onReady:u},this.startSubscription(l),{isReady:function(){return!!r.subscriptions[l]&&r.subscriptions[l].ready},stop:function(){r.subscriptions[l]&&r.offSubscription(l)}}}},{key:"startSubscription",value:function(e){var t=this.subscriptions[e];this.emitMessage(o.RTSocketEvents.SUB_ON,t.data)}},{key:"stopSubscription",value:function(e){var t=this.subscriptions[e];t&&(t.onStop&&t.onStop(),delete this.subscriptions[e])}},{key:"offSubscription",value:function(e){this.subscriptions[e]&&(this.emitMessage(o.RTSocketEvents.SUB_OFF,{id:e}),this.stopSubscription(e))}},{key:"onSubscriptionResponse",value:function(e){var t=e.id,n=e.data,r=e.error,i=this.subscriptions[t];i&&(r?(i.onError&&i.onError(r),this.stopSubscription(t)):(i.ready||(i.ready=!0,i.onReady&&i.onReady()),i.onData&&("function"==typeof i.parser&&(n=i.parser(n)),i.onData(n))))}}]),e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(1),s=(r=a)&&r.__esModule?r:{default:r},c=function(e){return function(t){return this.send(e,t)}},u=function(){function e(t){var n=this,r=t.onMessage,i=t.emitMessage;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onResponse=function(e){var t=e.id,r=e.error,i=e.result;if(n.invocations[t]){var o=n.invocations[t];r?o.reject(r):o.resolve(i),delete n.invocations[t]}},this.setUserToken=c(o.RTMethodTypes.SET_USER_TOKEN).bind(this),this.sendPubSubCommand=c(o.RTMethodTypes.PUB_SUB_COMMAND).bind(this),this.getRSO=c(o.RTMethodTypes.RSO_GET).bind(this),this.setRSO=c(o.RTMethodTypes.RSO_SET).bind(this),this.clearRSO=c(o.RTMethodTypes.RSO_CLEAR).bind(this),this.sendRSOCommand=c(o.RTMethodTypes.RSO_COMMAND).bind(this),this.invokeRSOMethod=c(o.RTMethodTypes.RSO_INVOKE).bind(this),this.onMessage=r,this.emitMessage=i,this.invocations={}}return i(e,[{key:"initialize",value:function(){this.onMessage(o.RTSocketEvents.MET_RES,this.onResponse)}},{key:"stop",value:function(){}},{key:"reset",value:function(){this.invocations={}}},{key:"hasActivity",value:function(){return!!Object.keys(this.invocations).length}},{key:"send",value:function(e,t){var n=this,r=s.default.generateUID(),i={id:r,name:e,options:t};return this.emitMessage(o.RTSocketEvents.MET_REQ,i),new Promise((function(e,t){n.invocations[r]={resolve:e,reject:t}}))}}]),e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(10),s=(r=a)&&r.__esModule?r:{default:r},c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.dispatch=n,this.onDisconnect=r,this.connectAttempt=0,this.socketPromise=this.connect()}return i(e,[{key:"terminate",value:function(){this.terminated||(this.terminated=!0,this.dispatch=function(){},this.socketPromise.then((function(e){e&&e.close()})))}},{key:"getSocket",value:function(){var e=this;return this.socketPromise.then((function(t){return e.terminated?new Promise((function(){})):t}))}},{key:"connect",value:function(){var e=this;if(!this.terminated){this.connectAttempt=this.connectAttempt+1;var t=this.getNextReconnectionTimeout();return this.onConnecting(),this.connectAttempt>1&&this.onReconnectAttempt(this.connectAttempt-1,t),s.default.connect(this.config,this.onSocketDisconnect.bind(this)).then((function(t){return e.connectAttempt=0,e.onConnect(),t})).catch((function(n){if(e.onConnectError(n),!e.terminated)return(r=t,new Promise((function(e){return setTimeout(e,r)}))).then((function(){return e.connect()}));var r}))}}},{key:"getNextReconnectionTimeout",value:function(){var e=Math.ceil(this.connectAttempt/10),t=200*Math.pow(2,e);return Math.min(t,6e4)}},{key:"onSocketDisconnect",value:function(e){this.dispatch(o.NativeSocketEvents.DISCONNECT,e),this.terminated||(this.terminate(),this.onDisconnect())}},{key:"onConnecting",value:function(){this.dispatch(o.NativeSocketEvents.CONNECTING)}},{key:"onConnect",value:function(){this.dispatch(o.NativeSocketEvents.CONNECT)}},{key:"onConnectError",value:function(e){this.dispatch(o.NativeSocketEvents.CONNECT_ERROR,e&&e.message||e)}},{key:"onReconnectAttempt",value:function(e,t){this.dispatch(o.NativeSocketEvents.RECONNECT_ATTEMPT,e,t)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n(12);if(this.config=t,this.events={},!t.appId)throw new Error("config.appId is not configured");this.ioSocket=i(r+"/"+this.config.appId,{forceNew:!0,autoConnect:!1,reconnection:!1,path:"/"+this.config.appId,query:this.config.getConnectQuery()})}return r(e,null,[{key:"connect",value:function(t,r){var o=n(11);if(!t.lookupPath)throw new Error("config.lookupPath is not configured");return o.get(t.lookupPath).set(t.lookupHeaders).then((function(n){return new Promise((function(r,o){var a=new e(t,n);function s(e){a.close(),o(e)}a.on(i.NativeSocketEvents.CONNECT,(function(){r(a)})),a.on(i.NativeSocketEvents.CONNECT_ERROR,s),a.on(i.NativeSocketEvents.CONNECT_TIMEOUT,s),a.on(i.NativeSocketEvents.ERROR,s),a.connect()}))})).then((function(e){return e.on(i.NativeSocketEvents.DISCONNECT,r),e}))}}]),r(e,[{key:"connect",value:function(){this.ioSocket.connect()}},{key:"close",value:function(){this.events={},this.ioSocket.off(),this.ioSocket.close()}},{key:"on",value:function(e,t){var n=this;this.events[e]||this.ioSocket.on(e,(function(t){return n.onEvent(e,t)})),this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){this.events[e]=t?this.events[e].filter((function(e){return e!==t})):[],this.events[e].length||delete this.events[e],this.events[e]||this.ioSocket.off(e)}},{key:"onEvent",value:function(e,t){this.config.debugMode&&a("FROM SERVER",e,t),this.events[e]&&this.events[e].forEach((function(e){return e(t)}))}},{key:"emit",value:function(e,t){this.config.debugMode&&a("TO SERVER",e,t),this.ioSocket.emit(e,t)}}]),e}();function a(e,t,n){console.log("["+e+"] - [event: "+t+"] - arguments: "+JSON.stringify(n)+" ")}t.default=o},function(e,t){var n;n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.castArray=function(e){return Array.isArray(e)?e:[e]},t.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":r(e))},t.isFormData=function(e){return e&&e.constructor&&0===e.constructor.toString().trim().indexOf("function FormData")},t.isStream=function(e){return e instanceof n(5).Stream}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,n){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(3),s=(r=a)&&r.__esModule?r:{default:r},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),u=n(0);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=new s.default(6e4),f=function(e){function t(e,n,r){l(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.status=n,i.headers=r,i.message=e.message||e,i.code=e.code,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();function p(e){try{return o({},e,{body:JSON.parse(e.body)})}catch(t){return e}}var h=function(e,t,n,r){return new Promise((function(i,o){var a=new v.XMLHttpRequest;a.open(t.toUpperCase(),e,!0),a.onload=function(){var e,t,n=(e=a.getAllResponseHeaders(),t={},e?(e.split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.substr(0,n).trim(),i=e.substr(n+1).trim();r&&(t[r]=t[r]?t[r]+", "+i:i)})),t):t),r=a,o=r.status,s=r.statusText,c=r.response,u=r.responseText;i({status:o,statusText:s,headers:n,body:c||u}),a=null},a.onerror=function(){o(new Error("Network Error")),a=null},a.ontimeout=function(){o(new Error("Connection aborted due to timeout")),a=null},Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(r)}))},m=function(e,t,r,i,a){return new Promise((function(s,c){var l=n(6).parse(e),d=(0,u.isFormData)(i)&&i,f="https:"===l.protocol,p={host:l.hostname,port:l.port||(f?443:80),method:t,path:l.path,headers:r},h=function(){var e=n(1).Buffer,t=n(f?7:8).request(p,(function(t){var n=[],r=[],i=0,o="",u=t.statusCode,l=t.statusMessage,d=t.headers;t.on("data",(function(t){e.isBuffer(t)?t.length&&(i+=t.length,r.push(t)):n.push(t)})),t.on("end",(function(){i?(o=e.concat(r,i),null!=a&&(o=o.toString(a))):n.length&&(o=n.join()),s({status:u,statusText:l,headers:d,body:o})})),t.on("error",c)}));if(t.on("error",c),i){if((0,u.isStream)(i))return void i.pipe(t);t.write(i)}t.end()};if(d)o(p.headers,d.getHeaders()),d.getLength((function(e,t){e||isNaN(t)||(p.headers["content-length"]=t),h()}));else{if(i&&!p.headers["content-length"]){var m=n(1).Buffer;p.headers["content-length"]=m.byteLength(i)}h()}}))};function g(e){if(e.status>=200&&e.status<300)return e;var t,n=new f(502===(t=e).status?"No connection with server":t.body||"Status Code "+t.status+" ("+t.statusText+")",e.status,e.headers);return Promise.reject(n)}var v=function(){function t(e,n,r){l(this,t),this.method=n,this.path=e,this.body=r,this.tags=void 0,this.unwrap=!0,this.cacheTTL=0,this.headers={},this.queryParams={},this.encoding="utf8"}return i(t,[{key:"set",value:function(e,t){if((0,u.isObject)(e))for(var n in e)this.set(n,e[n]);else void 0!==t&&(this.headers[e]=t);return this}},{key:"cacheTags",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.tags=t,this}},{key:"query",value:function(e){return o(this.queryParams,e),this}},{key:"form",value:function(t){var n=this;if(t){var r=e.exports.FormData;t instanceof r?this.body=t:function(){var e=new r,i=function(n){n&&(0,u.castArray)(t[n]).forEach((function(t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?e.append(n,t.value,t.options):e.append(n,t)}))};for(var o in t)i(o);n.body=e}()}return this}},{key:"useCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return this.cacheTTL=e,this}},{key:"resetCache",value:function(e){return e&&this.tags&&d.deleteByTags(this.tags),this}},{key:"type",value:function(e){return this.set("Content-Type",e),this}},{key:"unwrapBody",value:function(e){return this.unwrap=e,this}},{key:"setEncoding",value:function(e){return this.encoding=e,this}},{key:"send",value:function(e){var n=this,r=this.path,i=c.stringify(this.queryParams);if(i&&(r+="?"+i),this.cacheTTL){var o=d.get(r);if(void 0!==o)return Promise.resolve(o)}return this.headers["Content-Type"]||!(0,u.isObject)(e)||(0,u.isFormData)(e)||this.type("application/json"),e&&(e="application/json"===this.headers["Content-Type"]&&"string"!=typeof e?JSON.stringify(e):e),t.verbose&&console.log(this.method.toUpperCase(),decodeURIComponent(r),e,this.headers),t.send(r,this.method.toUpperCase(),this.headers,e,this.encoding).then(p).then(g).then((function(e){return n.unwrap?e.body:e})).then((function(e){return n.cacheTTL&&d.set(r,e,n.tags,n.cacheTTL),e})).then((function(e){return n.tags&&"get"!==n.method&&d.deleteByTags(n.tags),e}))}},{key:"then",value:function(e,t){return this.promise=this.promise||this.send(this.body),this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise=this.promise||this.send(this.body),this.promise.catch(e)}}]),t}();Object.defineProperty(v,"FormData",{get:function(){return"undefined"!=typeof FormData?FormData:n(9)}}),v.XMLHttpRequest="undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0,v.send=function(e,t,n,r,i){return(void 0!==v.XMLHttpRequest?h:m)(e,t,n,r,i)},v.verbose=!1,v.methods=["get","post","put","patch","delete"],v.methods.forEach((function(e){v[e]=function(t,n){return new v(t,e,n)}})),e.exports=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){return{value:e,tags:t,ttl:n}},a=function(){return(new Date).getTime()},s=function(e,t){return!!e.find((function(e){return t.find((function(t){return function(e,t){var n=e==t;return!n&&e instanceof RegExp&&(n=e.test(t)),!n&&t instanceof RegExp&&(n=t.test(e)),n}(e,t)}))}))},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flushInterval=t,this.map=new Map}return i(e,[{key:"get",value:function(e){var t=this.map.get(e);if(t){if(t.ttl>a())return t.value;this.map.delete(e)}}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;this.map.set(e,o(t,n,a()+r)),this.flushInterval&&!this.flushTimer&&(this.flushTimer=setInterval(this.flush.bind(this),this.flushInterval),this.flushTimer.unref&&this.flushTimer.unref())}},{key:"delete",value:function(e){this.map.delete(e)}},{key:"deleteByTags",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=this.map[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=r(o.value,2),u=c[0],l=c[1];l.tags&&s(e,l.tags)&&this.delete(u)}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"flush",value:function(){var e=a(),t=!0,n=!1,i=void 0;try{for(var o,s=this.map[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=r(o.value,2),u=c[0];c[1].ttl<e&&this.delete(u)}}catch(e){n=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw i}}}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var r=n(0);t.stringify=function(e){var t=[];return Object.keys(e).forEach((function(n){var i=e[n];void 0!==i&&(0,r.castArray)(i).forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))})),t.join("&")}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')}])},"object"==typeof t&&"object"==typeof e?e.exports=n():(i=[],void 0===(o="function"==typeof(r=n)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e,t){"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),t=t||{};var n,r=o(e),a=r.source,l=r.id,d=r.path,f=u[l]&&d in u[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(c("ignoring socket cache for %s",a),n=s(a,t)):(u[l]||(c("new io instance for %s",a),u[l]=s(a,t)),n=u[l]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=n(7),s=n(13),c=n(3)("socket.io-client");e.exports=t=r;var u=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=n(13),t.Socket=n(37)},function(e,t,n){(function(t){var r=n(2),i=n(3)("socket.io-client:url");e.exports=function(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(){h&&f&&(h=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!h){var e=i(o);h=!0;for(var t=p.length;t;){for(f=p,p=[];++m<t;)f&&f[m].run();m=-1,t=p.length}f=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,l,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var f,p=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}var i;(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6),t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){return r(e,s,"day")||r(e,a,"hour")||r(e,o,"minute")||r(e,i,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var i=1e3,o=60*i,a=60*o,s=24*a,c=365.25*s;e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===r&&!1===isNaN(e))return t.long?n(e):function(e){return e>=s?Math.round(e/s)+"d":e>=a?Math.round(e/a)+"h":e>=o?Math.round(e/o)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){}function i(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),u("encoded %j as %s",e,n),n}function o(){this.reconstructor=null}function a(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return c();if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(a=e.charAt(n))&&(r.nsp+=a,n!==e.length););else r.nsp="/";var o=e.charAt(n+1);if(""!==o&&Number(o)==o){for(r.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}return e.charAt(++n)&&(r=function(e,t){try{e.data=JSON.parse(t)}catch(e){return c()}return e}(r,e.substr(n))),u("decoded %s as %j",e,r),r}function s(e){this.reconPack=e,this.buffers=[]}function c(){return{type:t.ERROR,data:"parser error"}}var u=n(3)("socket.io-parser"),l=n(8),d=n(9),f=n(11),p=n(12);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=o,r.prototype.encode=function(e,n){e.type!==t.EVENT&&e.type!==t.ACK||!d(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),u("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){f.removeBlobs(e,(function(e){var n=f.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}))}(e,n):n([i(e)])},l(o.prototype),o.prototype.add=function(e){var n;if("string"==typeof e)n=a(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new s(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!p(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},s.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},s.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(t){var r=n(10),i=Object.prototype.toString,o="function"==typeof t.Blob||"[object BlobConstructor]"===i.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===i.call(t.File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,s=n.length;i<s;i++)if(e(n[i]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||"function"==typeof t.ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&e(n[c]))return!0;return!1}}).call(t,function(){return this}())},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(10),i=n(12),o=Object.prototype.toString,a="function"==typeof e.Blob||"[object BlobConstructor]"===o.call(e.Blob),s="function"==typeof e.File||"[object FileConstructor]"===o.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function e(t,n){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s],n);return a}if("object"==typeof t&&!(t instanceof Date)){for(var c in a={},t)a[c]=e(t[c],n);return a}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;(function e(c,u,l){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var d=new FileReader;d.onload=function(){l?l[u]=this.result:o=this.result,--n||t(o)},d.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)e(c[f],f,c);else if("object"==typeof c&&!i(c))for(var p in c)e(c[p],p,c)})(o),n||t(o)}}).call(t,function(){return this}())},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(14),a=n(37),s=n(8),c=n(7),u=n(39),l=n(40),d=n(3)("socket.io-client:manager"),f=n(36),p=n(41),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=u(n,"open",(function(){r.onopen(),e&&e()})),a=u(n,"error",(function(t){if(d("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;d("connect attempt will timeout after %d",s);var c=setTimeout((function(){d("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(a),this},r.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",l(this,"ondata"))),this.subs.push(u(e,"ping",l(this,"onping"))),this.subs.push(u(e,"pong",l(this,"onpong"))),this.subs.push(u(e,"error",l(this,"onerror"))),this.subs.push(u(e,"close",l(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~f(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",(function(){r.id=i.generateId(e)})),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){d("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){d("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(15),e.exports.parser=n(22)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=u(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"==typeof t&&t;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var i=n(16),o=n(8),a=n(3)("engine.io-client:socket"),s=n(36),c=n(22),u=n(2),l=n(30);e.exports=r,r.priorWebsocketSuccess=!1,o(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=n(21),r.transports=n(16),r.parser=n(22),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=c.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},r.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",(function(t){if(!d)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause((function(){d||"closed"!==f.readyState&&(a("changing transport and sending upgrade packet"),u(),f.setTransport(l),l.send([{type:"upgrade"}]),f.emit("upgrade",l),l=null,f.upgrading=!1,f.flush())}))}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,f.emit("upgradeError",n)}})))}function n(){d||(d=!0,u(),l.close(),l=null)}function i(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),a('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",r)}function o(){i("transport closed")}function s(){i("socket closed")}function c(e){l&&e.name!==l.name&&(a('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",i),l.removeListener("close",o),f.removeListener("close",s),f.removeListener("upgrading",c)}a('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),d=!1,f=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",i),l.once("close",o),this.once("close",s),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(a('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){var r=n(17),i=n(19),o=n(33),a=n(34);t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!==location.hostname||u!==t.port,a=t.secure!==c}if(t.xdomain=n,t.xscheme=a,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},t.websocket=a}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(18);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function r(){}function i(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(17),c=n(20),u=n(8),l=n(31),d=n(3)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,l(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},i.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},u(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{d("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var e;try{e=n.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===e&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout((function(){r.onError(n.status)}),0))},d("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout((function(){r.onError(e)}),0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(21),o=n(30),a=n(22),s=n(31),c=n(32),u=n(3)("engine.io-client:polling");e.exports=r;var l=null!=new(n(17))({xdomain:!1}).responseType;s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||t()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||t()})))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e),a.decodePayload(e,this.socket.binaryType,(function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(22),o=n(8);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=g[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);return i[0]=g[e.type],r(new b([i.buffer,e.data]))}function a(e,t,n){for(var r=new Array(e.length),i=d(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},a=0;a<e.length;a++)o(a,e[a],i)}var s,c=n(23),u=n(9),l=n(24),d=n(25),f=n(26);e&&e.ArrayBuffer&&(s=n(28));var p="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=p||h;t.protocol=3;var g=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(g),y={type:"error",data:"parser error"},b=n(29);t.encodePacket=function(t,n,a,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof a&&(s=a,a=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return i(t,n,s);if(b&&c instanceof e.Blob)return o(t,n,s);if(c&&c.base64)return r(t,s);var u=g[t.type];return void 0!==t.data&&(u+=a?f.encode(String(t.data),{strict:!1}):String(t.data)),s(""+u)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(b&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(o+e)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];i=String.fromCharCode.apply(null,c)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if(void 0===e)return y;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=f.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return y;var i=e.charAt(0);return Number(i)==i&&v[i]?e.length>1?{type:v[i],data:e.substring(1)}:{type:v[i]}:y}i=new Uint8Array(e)[0];var o=l(e,1);return b&&"blob"===n&&(o=new b([o])),{type:v[i],data:o}},t.decodeBase64Packet=function(e,t){var n=v[e.charAt(0)];if(!s)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=s.decode(e.substr(1));return"blob"===t&&b&&(r=new b([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=u(e);return n&&i?b&&!m?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void a(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))})):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(y,0,1);for(var o,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(o=Number(s)))return r(y,0,1);if(s!=(a=e.substr(c+1,o)).length)return r(y,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),y.type===i.type&&y.data===i.data)return r(y,0,1);if(!1===r(i,c+o,u))return}c+=o,s=""}else s+=l}return""!==s?r(y,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){return e.length?void a(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);for(i[o++]=255,r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)})):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){a(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,b){var s=new b([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new b(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),s=0===a[0],c="",u=1;255!==a[u];u++){if(c.length>310)return r(y,0,1);c+=a[u]}i=l(i,2+c.length),c=parseInt(c);var d=l(i,0,c);if(s)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var f=new Uint8Array(d);for(d="",u=0;u<f.length;u++)d+=String.fromCharCode(f[u])}o.push(d),i=l(i,c)}var p=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,p)}))}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1;return r=r||n,i.count=e,0===e?t():i}},function(e,t,n){var r;(function(e,i){!function(o){function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return g(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return g(e);var n="";return 0==(4294965248&e)?n=g(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=g(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=g(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+g(63&e|128)}function l(){if(m>=h)throw Error("Invalid byte index");var e=255&p[m];if(m++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,n;if(m>h)throw Error("Invalid byte index");if(m==h)return!1;if(t=255&p[m],m++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|l())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|l()<<6|l())>=2048)return s(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var f=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);f.global!==f&&f.window;var p,h,m,g=String.fromCharCode,v={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),i=r.length,o=-1,s="";++o<i;)s+=u(r[o],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;p=a(e),h=p.length,m=0;for(var r,i=[];!1!==(r=d(n));)i.push(r);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=g((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=g(t);return i}(i)}};void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(27)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[u++]=r<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&a;return l}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;e.exports=a?s?t.Blob:i:c?r:void 0}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){function n(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function r(){var e=n(+new Date);return e!==i?(c=0,i=e):e+"."+n(c++)}for(var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},c=0,u=0;u<a;u++)s[o[u]]=u;r.encode=n,r.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=t*a+s[e.charAt(u)];return t},e.exports=r},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push((function(e){n.onData(e)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=r)}),!1)}var o=n(20),a=n(31);e.exports=i;var s,c=/\n/g,u=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(e){(o=document.createElement("iframe")).name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=d&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(f=i),o.call(this,e)}var i,o=n(21),a=n(22),s=n(30),c=n(31),u=n(32),l=n(3)("engine.io-client:websocket"),d=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{i=n(35)}catch(e){}var f=d;f||"undefined"!=typeof window||(f=i),e.exports=r,c(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new f(e,t):new f(e):new f(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,o=r;i<o;i++)!function(e){a.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};e.options&&(o.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof i?t.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(e){l("websocket closed before onclose event")}--r||(n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0))}))}(e[i])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(7),a=n(8),s=n(38),c=n(39),u=n(40),l=n(3)("socket.io-client:socket"),d=n(30);e.exports=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=a.prototype.emit;a(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[c(e,"open",u(this,"onopen")),c(e,"packet",u(this,"onpacket")),c(e,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=s(arguments),n={type:o.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===i(this.query)?d.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);l("sending ack %j",r),t.packet({type:o.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,a,s,c,u,l,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),m=(d=h)&&d.__esModule?d:{default:d};function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v="CONNECT",y="ERROR",b="COMMAND",_="USER_STATUS",k=(r=w(),i=w(),o=w(),a=w(),s=w(!0),l=u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.options=e,n.waitConnection=[],n.connect(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"connectSubscriber",get:function(){return null}},{key:"commandSubscriber",get:function(){return null}},{key:"usersSubscriber",get:function(){return null}},{key:"commandSender",get:function(){return null}}]),p(t,[{key:"connect",value:function(){var e=this;this.isConnected()||(this.connection=this.connectSubscriber(this.getScopeOptions(),{onError:function(t){return e.onError(t)},onReady:function(){return e.onConnect()},onStop:function(){return e.onDisconnect()}}))}},{key:"disconnect",value:function(){this.isConnected()&&this.connection.stop()}},{key:"isConnected",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"getSubscriptionOptions",value:function(){return this.getScopeOptions()}},{key:"getScopeOptions",value:function(){return this.options}},{key:"onConnect",value:function(){this.waitConnection.forEach((function(e){return e()})),this.waitConnection=[],this.runSimpleListeners(v)}},{key:"onError",value:function(e){this.runSimpleListeners(y,e)}},{key:"onDisconnect",value:function(){this.connection=null}},{key:"removeAllListeners",value:function(){return this.waitConnection=[],function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeAllListeners",this).call(this),this}},{key:"addConnectListener",value:function(e,t){return this.addSimpleListener(v,e),t&&this.addSimpleListener(y,t),this}},{key:"removeConnectListeners",value:function(e,t){return this.removeSimpleListener(v,e),t&&this.removeSimpleListener(y,t),this}},{key:"addCommandListener",value:function(e,t){return this.addSubscription(b,this.commandSubscriber,{callback:e,onError:t}),this}},{key:"removeCommandListeners",value:function(e){return this.stopSubscription(b,{callback:e}),this}},{key:"addUserStatusListener",value:function(e,t){return this.addSubscription(_,this.usersSubscriber,{callback:e,onError:t}),this}},{key:"removeUserStatusListeners",value:function(e){return this.stopSubscription(_,{callback:e}),this}},{key:"send",value:function(e,t){return this.commandSender(f({},this.getScopeOptions(),{type:e,data:t}))}}]),t}(m.default),u.connectionRequired=w,g((c=l).prototype,"addCommandListener",[r],Object.getOwnPropertyDescriptor(c.prototype,"addCommandListener"),c.prototype),g(c.prototype,"removeCommandListeners",[i],Object.getOwnPropertyDescriptor(c.prototype,"removeCommandListeners"),c.prototype),g(c.prototype,"addUserStatusListener",[o],Object.getOwnPropertyDescriptor(c.prototype,"addUserStatusListener"),c.prototype),g(c.prototype,"removeUserStatusListeners",[a],Object.getOwnPropertyDescriptor(c.prototype,"removeUserStatusListeners"),c.prototype),g(c.prototype,"send",[s],Object.getOwnPropertyDescriptor(c.prototype,"send"),c.prototype),c);function w(e){return function(t,n,r){var i=r.value;return r.value=function(){var t=this,n=arguments,r=function(){return i.apply(t,n)};return this.isConnected()?r():e?new Promise((function(e,n){return t.waitConnection.push((function(){return r().then(e,n)}))})):(this.waitConnection.push(r),this)},r}}t.default=k}])},e.exports=a()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=void 0;var r=s(n(27)),i=s(n(7)),o=n(5),a=n(50);function s(e){return e&&e.__esModule?e:{default:e}}t.sendRequest=function(e){if(!1===e.isAsync||!e.asyncHandler){if(i.default.XMLHttpRequest)return console.warn("The sync methods of the Backendless API are deprecated and will be removed in the nearest future.\nPlease, use async methods instead."),(0,a.ajaxForBrowser)(e);throw new Error("Using the sync methods of the Backendless API in Node.js are disallowed.\nUse the async methods instead.")}r.default.XMLHttpRequest=i.default.XMLHttpRequest;var t=e.url,n=(e.method||"GET").toLowerCase(),s=e.headers||{},c=e.asyncHandler.fault||function(e){throw e},u=e.asyncHandler.success||function(e){return e},l=(0,o.getCurrentUserToken)();return l&&(s["user-token"]=l),r.default[n](t,e.data).set(s).query(e.query).form(e.form).then(u,c)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxForBrowser=function(e){e.method=e.method||"GET",e.isAsync="boolean"==typeof e.isAsync&&e.isAsync;try{return s(e)}catch(e){throw e}};var r=a(n(0)),i=a(n(7)),o=n(5);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=new i.default.XMLHttpRequest,n=r.default.toQueryParams(e.query),a=e.url+(n?"?"+n:"");t.open(e.method,a,!1);var s=(0,o.getCurrentUserToken)();if(s&&t.setRequestHeader("user-token",s),e.form){var c=new FormData;for(var u in e.form){var l=e.form[u];l&&c.append(u,l)}e.data=c}else{var d=e.data?"application/json":"application/x-www-form-urlencoded";"application/json"===d&&e.data&&"string"!=typeof e.data&&(e.data=JSON.stringify(e.data)),t.setRequestHeader("Content-Type",d)}if(t.send(e.data),t.status>=200&&t.status<300)return function(e){var t=!0;return e.responseText&&(t=r.default.tryParseJSON(e.responseText)),t}(t);throw function(e){var t={};try{t=JSON.parse(e.responseText)}catch(n){t.message=e.responseText}return t.statusCode=e.status,t.message=t.message||"unknown error occurred",t}(t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deprecated=function(e,t){return function(n,r,i){var o=n[r];return i.initializer=function(){return function(){var n='"'+e+"."+r+'" is deprecated and will be removed in the nearest release.',i='Please use "'+t+'" instead of.';return console.warn(n+" "+(t?i:"")),o.apply(this,arguments)}},i}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r},a={FIND:new o.default("FIND"),REMOVE:new o.default("REMOVE"),UPDATE:new o.default("UPDATE")};t.default=a},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O;Object.defineProperty(t,"__esModule",{value:!0});var C,A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=n(0),R=(C=M)&&C.__esModule?C:{default:C},B=n(4),P=n(54);function I(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var L={GRANT:"GRANT",DENY:"DENY"};function N(e,t,n){return(0,P.sendRequest)(this.permission,L.GRANT,t,{userId:e},n)}function D(e,t,n){return(0,P.sendRequest)(this.permission,L.DENY,t,{userId:e},n)}function j(e,t,n){return(0,P.sendRequest)(this.permission,L.GRANT,t,{roleName:e},n)}function F(e,t,n){return(0,P.sendRequest)(this.permission,L.DENY,t,{roleName:e},n)}function U(e,t){return(0,P.sendRequest)(this.permission,L.GRANT,e,{userId:"*"},t)}function z(e,t){return(0,P.sendRequest)(this.permission,L.DENY,e,{userId:"*"},t)}var $=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.permission=t},H="Backendless.Data.Permissions.{FIND|REMOVE|UPDATE}";A($.prototype,(r=(0,B.deprecated)(H,H+".grantForUser"),i=(0,B.deprecated)(H,H+".grantForUser"),o=(0,B.deprecated)(H,H+".denyForUser"),a=(0,B.deprecated)(H,H+".denyForUser"),s=(0,B.deprecated)(H,H+".grantForRole"),c=(0,B.deprecated)(H,H+".grantForRole"),u=(0,B.deprecated)(H,H+".denyForRole"),l=(0,B.deprecated)(H,H+".denyForRole"),d=(0,B.deprecated)(H,H+".grantForAllUsers"),f=(0,B.deprecated)(H,H+".grantForAllUsers"),p=(0,B.deprecated)(H,H+".denyForAllUsers"),h=(0,B.deprecated)(H,H+".denyForAllUsers"),I(m={grantUserSync:R.default.synchronized(N),grantUser:R.default.promisified(N),denyUserSync:R.default.synchronized(D),denyUser:R.default.promisified(D),grantRoleSync:R.default.synchronized(j),grantRole:R.default.promisified(j),denyRoleSync:R.default.synchronized(F),denyRole:R.default.promisified(F),grantSync:R.default.synchronized(U),grant:R.default.promisified(U),denySync:R.default.synchronized(z),deny:R.default.promisified(z),grantForUser:R.default.promisified(N),denyForUser:R.default.promisified(D),grantForRole:R.default.promisified(j),denyForRole:R.default.promisified(F),grantForAllUsers:R.default.promisified(U),denyForAllUsers:R.default.promisified(z),grantForAllRoles:R.default.promisified((function(e,t){return(0,P.sendRequest)(this.permission,L.GRANT,e,{roleName:"*"},t)})),denyForAllRoles:R.default.promisified((function(e,t){return(0,P.sendRequest)(this.permission,L.DENY,e,{roleName:"*"},t)}))},"grantUserSync",[r],(g=(g=Object.getOwnPropertyDescriptor(m,"grantUserSync"))?g.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return g}}),m),I(m,"grantUser",[i],(v=(v=Object.getOwnPropertyDescriptor(m,"grantUser"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),m),I(m,"denyUserSync",[o],(y=(y=Object.getOwnPropertyDescriptor(m,"denyUserSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),m),I(m,"denyUser",[a],(b=(b=Object.getOwnPropertyDescriptor(m,"denyUser"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),m),I(m,"grantRoleSync",[s],(_=(_=Object.getOwnPropertyDescriptor(m,"grantRoleSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),m),I(m,"grantRole",[c],(k=(k=Object.getOwnPropertyDescriptor(m,"grantRole"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),m),I(m,"denyRoleSync",[u],(w=(w=Object.getOwnPropertyDescriptor(m,"denyRoleSync"))?w.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return w}}),m),I(m,"denyRole",[l],(S=(S=Object.getOwnPropertyDescriptor(m,"denyRole"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),m),I(m,"grantSync",[d],(E=(E=Object.getOwnPropertyDescriptor(m,"grantSync"))?E.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return E}}),m),I(m,"grant",[f],(x=(x=Object.getOwnPropertyDescriptor(m,"grant"))?x.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return x}}),m),I(m,"denySync",[p],(T=(T=Object.getOwnPropertyDescriptor(m,"denySync"))?T.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return T}}),m),I(m,"deny",[h],(O=(O=Object.getOwnPropertyDescriptor(m,"deny"))?O.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return O}}),m),m)),t.default=$},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=function(e,t,n,o,a){var s=o.userId,c=o.roleName;if(!n.___class||!n.objectId)throw new Error('"dataObject.___class" and "dataObject.objectId" need to be specified');var u={permission:e};return s?u.user=s:c&&(u.role=c),i.default.put({url:r.default.dataObjectPermission(n.___class,t,n.objectId),data:u,isAsync:!!a,asyncHandler:a})};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R;Object.defineProperty(t,"__esModule",{value:!0});var B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=W(n(0)),L=n(4),N=n(29),D=W(n(56)),j=n(57),F=n(58),U=n(59),z=n(60),$=n(61),H=n(62);function W(e){return e&&e.__esModule?e:{default:e}}function G(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Y="Backendless.Data.of(<ClassName>)",q=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classToTableMap=n,I.default.isString(t)?(this.className=t,this.model=n[this.className]||(0,N.resolveModelClassFromString)(this.className)):(this.className=I.default.getClassName(t),this.model=n[this.className]||t),!this.className)throw new Error("Class name should be specified")}return P(e,[{key:"rt",value:function(){return this.eventHandler=this.eventHandler||new D.default(this)}}]),e}();B(q.prototype,(r=(0,L.deprecated)(Y,Y+".save"),i=(0,L.deprecated)(Y,Y+".remove"),o=(0,L.deprecated)(Y,Y+".find"),a=(0,L.deprecated)(Y,Y+".findById"),s=(0,L.deprecated)(Y,Y+".loadRelations"),c=(0,L.deprecated)(Y,Y+".findFirst"),u=(0,L.deprecated)(Y,Y+".findLast"),l=(0,L.deprecated)(Y,Y+".getObjectCount"),d=(0,L.deprecated)(Y,Y+".setRelation"),f=(0,L.deprecated)(Y,Y+".addRelation"),p=(0,L.deprecated)(Y,Y+".deleteRelation"),h=(0,L.deprecated)(Y,Y+".bulkCreate"),m=(0,L.deprecated)(Y,Y+".bulkUpdate"),g=(0,L.deprecated)(Y,Y+".bulkDelete"),G(v={saveSync:I.default.synchronized(z.save),save:I.default.promisified(z.save),removeSync:I.default.synchronized($.remove),remove:I.default.promisified($.remove),findSync:I.default.synchronized(U.find),find:I.default.promisified(U.find),findByIdSync:I.default.synchronized(U.findById),findById:I.default.promisified(U.findById),loadRelationsSync:I.default.synchronized(j.loadRelations),loadRelations:I.default.promisified(j.loadRelations),findFirstSync:I.default.synchronized(U.findFirst),findFirst:I.default.promisified(U.findFirst),findLastSync:I.default.synchronized(U.findLast),findLast:I.default.promisified(U.findLast),getObjectCountSync:I.default.synchronized(H.getObjectCount),getObjectCount:I.default.promisified(H.getObjectCount),setRelationSync:I.default.synchronized(j.setRelation),setRelation:I.default.promisified(j.setRelation),addRelationSync:I.default.synchronized(j.addRelation),addRelation:I.default.promisified(j.addRelation),deleteRelationSync:I.default.synchronized(j.deleteRelation),deleteRelation:I.default.promisified(j.deleteRelation),bulkCreateSync:I.default.synchronized(F.bulkCreate),bulkCreate:I.default.promisified(F.bulkCreate),bulkUpdateSync:I.default.synchronized(F.bulkUpdate),bulkUpdate:I.default.promisified(F.bulkUpdate),bulkDeleteSync:I.default.synchronized(F.bulkDelete),bulkDelete:I.default.promisified(F.bulkDelete)},"saveSync",[r],(y=(y=Object.getOwnPropertyDescriptor(v,"saveSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),v),G(v,"removeSync",[i],(b=(b=Object.getOwnPropertyDescriptor(v,"removeSync"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),v),G(v,"findSync",[o],(_=(_=Object.getOwnPropertyDescriptor(v,"findSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),v),G(v,"findByIdSync",[a],(k=(k=Object.getOwnPropertyDescriptor(v,"findByIdSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),v),G(v,"loadRelationsSync",[s],(w=(w=Object.getOwnPropertyDescriptor(v,"loadRelationsSync"))?w.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return w}}),v),G(v,"findFirstSync",[c],(S=(S=Object.getOwnPropertyDescriptor(v,"findFirstSync"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),v),G(v,"findLastSync",[u],(E=(E=Object.getOwnPropertyDescriptor(v,"findLastSync"))?E.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return E}}),v),G(v,"getObjectCountSync",[l],(x=(x=Object.getOwnPropertyDescriptor(v,"getObjectCountSync"))?x.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return x}}),v),G(v,"setRelationSync",[d],(T=(T=Object.getOwnPropertyDescriptor(v,"setRelationSync"))?T.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return T}}),v),G(v,"addRelationSync",[f],(O=(O=Object.getOwnPropertyDescriptor(v,"addRelationSync"))?O.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return O}}),v),G(v,"deleteRelationSync",[p],(C=(C=Object.getOwnPropertyDescriptor(v,"deleteRelationSync"))?C.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return C}}),v),G(v,"bulkCreateSync",[h],(A=(A=Object.getOwnPropertyDescriptor(v,"bulkCreateSync"))?A.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return A}}),v),G(v,"bulkUpdateSync",[m],(M=(M=Object.getOwnPropertyDescriptor(v,"bulkUpdateSync"))?M.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return M}}),v),G(v,"bulkDeleteSync",[g],(R=(R=Object.getOwnPropertyDescriptor(v,"bulkDeleteSync"))?R.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return R}}),v),v)),t.default=q},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(8),o=n(12),a="created",s="updated",c="deleted",u="bulk-created",l="bulk-updated",d="bulk-deleted",f=[a,s,c],p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.parseObjectToInstance=function(e){return(0,o.parseFindResponse)(e,n.dataStore.model)},n.dataStore=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getSubscriptionOptions",value:function(){return{tableName:this.dataStore.className}}},{key:"addCreateListener",value:function(e,t,n){this.addChangesListener(a,e,t,n)}},{key:"removeCreateListeners",value:function(e,t){this.removeChangesListeners(a,e,t)}},{key:"removeCreateListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeCreateListeners(void 0,e)}},{key:"addUpdateListener",value:function(e,t,n){this.addChangesListener(s,e,t,n)}},{key:"removeUpdateListeners",value:function(e,t){this.removeChangesListeners(s,e,t)}},{key:"removeUpdateListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeUpdateListeners(void 0,e)}},{key:"addDeleteListener",value:function(e,t,n){this.addChangesListener(c,e,t,n)}},{key:"removeDeleteListeners",value:function(e,t){this.removeChangesListeners(c,e,t)}},{key:"removeDeleteListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeDeleteListeners(void 0,e)}},{key:"addBulkCreateListener",value:function(e,t,n){this.addChangesListener(u,e,t,n)}},{key:"removeBulkCreateListeners",value:function(){this.removeChangesListeners(u)}},{key:"removeBulkCreateListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeChangesListeners(u,void 0,e)}},{key:"addBulkUpdateListener",value:function(e,t,n){this.addChangesListener(l,e,t,n)}},{key:"removeBulkUpdateListeners",value:function(e,t){this.removeChangesListeners(l,e,t)}},{key:"removeBulkUpdateListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeBulkUpdateListeners(void 0,e)}},{key:"addBulkDeleteListener",value:function(e,t,n){this.addChangesListener(d,e,t,n)}},{key:"removeBulkDeleteListeners",value:function(e,t){this.removeChangesListeners(d,e,t)}},{key:"removeBulkDeleteListener",value:function(e){if(!e)throw new Error("Listener Function must be passed.");this.removeBulkDeleteListeners(void 0,e)}},{key:"addChangesListener",value:function(e,t,n,r){if((0,i.checkUsesInBusinessLogic)("Subscribe on Data changes"),"function"==typeof t&&(r=n,n=t,t=void 0),"function"!=typeof n)throw new Error('"callback" must be function.');this.addSubscription(e,i.RTClient.subscriptions.onObjectsChanges,{callback:n,onError:r,parser:f.includes(e)?this.parseObjectToInstance:void 0,params:{event:e,whereClause:t}})}},{key:"removeChangesListeners",value:function(e,t,n){"function"==typeof t&&(n=t,t=void 0),this.stopSubscription(e,{matcher:function(r){var i=r.params;return i.event===e&&(t?i.whereClause===t:!n||r.callback===n)}})}}]),t}(i.RTListeners);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadRelations=function(e,t,n){if(!e||!r.default.isString(e))throw new Error("The parentObjectId is required argument and must be a nonempty string");if(!(t instanceof a.default))throw new Error("Invalid queryBuilder object.The queryBuilder is required and must be instance of the Backendless.LoadRelationsQueryBuilder");var u=t.build(),l=u.options&&u.options.relationName;if(!l||!r.default.isString(l))throw new Error("The options relationName is required and must contain string value");var d=void 0,f=[];u.options&&(d=(0,s.extractQueryOptions)(u.options)),d&&f.push(d),u.condition&&f.push("where="+encodeURIComponent(u.condition)),u.havingClause&&f.push("having="+encodeURIComponent(u.havingClause)),u.properties&&u.properties.length&&f.push("props="+r.default.encodeArrayToUriComponent(u.properties));var p=o.default.dataTableObjectRelation(this.className,e,l);n&&(n=r.default.wrapAsync(n,(function(e){return(0,c.parseFindResponse)(e,u.relationModel)}))),f.length&&(p+="?"+f.join("&"));var h=i.default.get({url:p,isAsync:!!n,asyncHandler:n});return n?h:(0,c.parseFindResponse)(h,u.relationModel)},t.setRelation=function(e,t,n,r){return l("POST",this.className,e,t,n,r)},t.addRelation=function(e,t,n,r){return l("PUT",this.className,e,t,n,r)},t.deleteRelation=function(e,t,n,r){return l("DELETE",this.className,e,t,n,r)};var r=u(n(0)),i=u(n(2)),o=u(n(1)),a=u(n(30)),s=n(33),c=n(12);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,o,a,s){var c=function(e,t,n){var i={columnName:t};return r.default.isString(e)?i.parentId=e:r.default.isObject(e)&&(i.parentId=e.objectId),r.default.isString(n)?i.whereClause=n:r.default.isArray(n)&&(i.childrenIds=n.map((function(e){return r.default.isObject(e)?e.objectId:e}))),i}(n,o,a),u=s;if(!c.parentId)throw new Error('Invalid value for the "parent" argument. The argument is required and must contain only string or object values.');if(!c.columnName)throw new Error('Invalid value for the "columnName" argument. The argument is required and must contain only string values.');if(!c.whereClause&&!c.childrenIds)throw new Error("Invalid value for the third argument. The argument is required and must contain string values if it sets whereClause or array if it sets childObjects.");return i.default.send({method:e,url:d(t,c),isAsync:!!u,asyncHandler:u,data:c.childrenIds})}function d(e,t){var n=o.default.dataTableObjectRelation(e,t.parentId,t.columnName);return t.whereClause&&(n+="?"+r.default.toQueryParams({whereClause:t.whereClause})),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreate=function(e,t){var n="Invalid bulkCreate argument. The first argument must contain only array of objects.";if(!r.default.isArray(e))throw new Error(n);return e.forEach((function(e){if(!r.default.isObject(e)||Array.isArray(e))throw new Error(n)})),o.default.post({url:i.default.dataBulkTable(this.className),data:e,isAsync:!!t,asyncHandler:t})},t.bulkUpdate=function(e,t,n){if(!e||!r.default.isString(e))throw new Error('Invalid bulkUpdate argument. The first argument must be "whereClause" string.');if(!r.default.isObject(t)||Array.isArray(t)||t instanceof a.default)throw new Error("Invalid bulkUpdate argument. The second argument must be object.");return o.default.put({url:i.default.dataBulkTable(this.className),query:{where:e},data:t,isAsync:!!n,asyncHandler:n})},t.bulkDelete=function(e,t){if(!r.default.isArray(e)&&!r.default.isString(e))throw new Error('Invalid bulkDelete argument. The first argument must contain array of objects or array of id or "whereClause" string.');var n,a,s={where:r.default.isString(e)?e:(n=e,a=n.map((function(e){if(!e||!r.default.isString(e)&&!e.objectId)throw new Error('Can not transform "objects" to "whereClause". Item must be a string or an object with property "objectId" as string.');return"'"+(r.default.isString(e)?e:e.objectId)+"'"})),"objectId in ("+a.join(",")+")")};return o.default.post({url:i.default.dataBulkTableDelete(this.className),isAsync:!!t,asyncHandler:t,data:s})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.findUtil=d,t.find=function(e,t){if(e instanceof o.default&&(t=e,e=void 0),e&&!(e instanceof s.default))throw new Error("The first argument should be instance of Backendless.DataQueryBuilder");return d(this.className,this.model,e,t,this.classToTableMap)},t.findById=function(){var e=this,t=void 0,n=r.default.extractResponder(arguments);if(r.default.isString(arguments[0])){if((t=arguments[1]instanceof o.default?{}:arguments[1]||{}).url=arguments[0],!t.url)throw new Error('missing argument "object ID" for method findById()');return d(this.className,this.model,t,n,this.classToTableMap)}if(r.default.isObject(arguments[0])){t=arguments[0];var s=i.default.dataTable(this.className),u=!!n,l="/pk?";for(var f in t)l+=f+"="+t[f]+"&";n&&(n=r.default.wrapAsync(n,(function(t){return(0,c.parseFindResponse)(t,e.model)})));var p=void 0;return p="Object"===r.default.getClassName(arguments[0])?a.default.get({url:s+l.replace(/&$/,""),isAsync:u,asyncHandler:n}):a.default.put({url:s,data:t,isAsync:u,asyncHandler:n}),u?p:(0,c.parseFindResponse)(p,this.model)}},t.findFirst=function(e,t){return e instanceof o.default&&(t=e,e={}),e.url="first",d(this.className,this.model,e,t,this.classToTableMap)},t.findLast=function(e,t){return e instanceof o.default&&(t=e,e={}),e.url="last",d(this.className,this.model,e,t,this.classToTableMap)};var r=l(n(0)),i=l(n(1)),o=l(n(3)),a=l(n(2)),s=l(n(17)),c=n(12),u=n(33);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,o,l){var d=(n=n||{}).url;n instanceof s.default&&(n=n.build());var f=[];o&&(o=r.default.wrapAsync(o,(function(e){return(0,c.parseFindResponse)(e,t,l)}))),n.options&&f.push((0,u.extractQueryOptions)(n.options)),n.condition&&f.push("where="+encodeURIComponent(n.condition)),n.havingClause&&f.push("having="+encodeURIComponent(n.havingClause)),n.properties&&n.properties.length&&f.push("props="+r.default.encodeArrayToUriComponent(n.properties));var p=i.default.dataTable(e);d&&(p+="/"+d),f.length&&(p+="?"+f.join("&"));var h=a.default.get({url:p,isAsync:!!o,asyncHandler:o,cachePolicy:n.cachePolicy});return o?h:(0,c.parseFindResponse)(h,t,l)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.replCircDeps=l,t.save=function(e,t){var n=this;l(e);var r=e;t&&(t=i.default.wrapAsync(t,(function(e){return(0,s.parseFindResponse)(e,n.model)})));var c=a.default.put({url:o.default.dataTable(this.className),data:e,isAsync:!!t,asyncHandler:t});return t?c:i.default.deepExtend(r,(0,s.parseFindResponse)(c,this.model),this.classToTableMap)};var i=c(n(0)),o=c(n(1)),a=c(n(2)),s=n(12);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){for(var e="",t=e;t++<36;e+=51*t?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e};function l(e){var t=[e],n=void 0;!function e(o){for(var a in o)o.hasOwnProperty(a)&&"object"===r(o[a])&&null!=o[a]&&(-1!==(n=t.indexOf(o[a]))?(t[n].__subID=t[n].__subID||u(),o[a]={__originSubID:t[n].__subID}):i.default.isDate(o[a])?o[a]=o[a].getTime():(t.push(o[a]),e(o[a])))}(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=function(e,t){if(!r.default.isObject(e)&&!r.default.isString(e))throw new Error('Invalid value for the "value" argument. The argument must contain only string or object values');var n=o.default.delete({url:i.default.dataTableObject(this.className,e.objectId||e),isAsync:!!t,asyncHandler:t});return t?n:(0,a.parseFindResponse)(n,this.model)};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(12);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectCount=function(e,t){return e instanceof i.default&&(t=e,e=void 0),e instanceof a.default&&(e=e.build().condition||void 0),o.default.get({url:r.default.dataTableCount(this.className),query:{where:e},isAsync:!!t,asyncHandler:t})};var r=s(n(1)),i=s(n(3)),o=s(n(2)),a=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.describe=function(e,t){return e=r.default.isString(e)?e:r.default.getClassName(e),o.default.get({url:i.default.dataTableProps(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initApp=function(e,t){var r=n(7).default,i=n(18).default,o=n(13).default,a=n(8).initRTClient,s=n(5).setLocalCurrentUser;r.applicationId=e,r.secretKey=t,r.appPath=[r.serverURL,e,t].join("/"),a(),i.reset(),o.reset(),s()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(18),a=(r=o)&&r.__esModule?r:{default:r},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}return i(e,[{key:"debug",value:function(e){return a.default.push(this.name,"DEBUG",e)}},{key:"info",value:function(e){return a.default.push(this.name,"INFO",e)}},{key:"warn",value:function(e,t){return a.default.push(this.name,"WARN",e,t)}},{key:"error",value:function(e,t){return a.default.push(this.name,"ERROR",e,t)}},{key:"fatal",value:function(e,t){return a.default.push(this.name,"FATAL",e,t)}},{key:"trace",value:function(e){return a.default.push(this.name,"TRACE",e)}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgent=function(){var e=n(0).default,t="NodeJS";e.isBrowser&&(t=navigator.userAgent?navigator.userAgent.toLowerCase():"hybrid-app");var r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i={browser:r[1]||"",version:r[2]||"0"},o={};return i.browser&&(o[i.browser]=!0,o.version=i.version),o}},function(e,t,n){var r,i,o;Object.defineProperty(t,"__esModule",{value:!0});var a,s,c,u,l,d,f,p=n(4),h=n(18),m=(a=h)&&a.__esModule?a:{default:a},g=(r=(0,p.deprecated)("Backendless.Logging","Backendless.Logging.flush"),i={getLogger:m.default.getLogger,flushSync:m.default.flushSync,flush:m.default.flush,setLogReportingPolicy:m.default.setLogReportingPolicy},s=i,c="flushSync",u=[r],o=(o=Object.getOwnPropertyDescriptor(i,"flushSync"))?o.value:void 0,l={enumerable:!0,configurable:!0,writable:!0,initializer:function(){return o}},d=i,f={},Object.keys(l).forEach((function(e){f[e]=l[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=u.slice().reverse().reduce((function(e,t){return t(s,c,e)||e}),f),d&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(d):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(s,c,f),f=null),i);t.default=g},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k;Object.defineProperty(t,"__esModule",{value:!0});var w=T(n(0)),S=n(4),E=T(n(69)),x=n(34);function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var C=(r=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.incrementAndGet"),i=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.getAndIncrement"),o=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.decrementAndGet"),a=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.getAndDecrement"),s=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.reset"),c=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.get"),u=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.addAndGet"),l=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.getAndAdd"),d=(0,S.deprecated)("Backendless.Counters","Backendless.Counters.compareAndSet"),O(f={of:function(e){return new E.default(e)},incrementAndGetSync:w.default.synchronized(x.incrementAndGet),incrementAndGet:w.default.promisified(x.incrementAndGet),getAndIncrementSync:w.default.synchronized(x.getAndIncrement),getAndIncrement:w.default.promisified(x.getAndIncrement),decrementAndGetSync:w.default.synchronized(x.decrementAndGet),decrementAndGet:w.default.promisified(x.decrementAndGet),getAndDecrementSync:w.default.synchronized(x.getAndDecrement),getAndDecrement:w.default.promisified(x.getAndDecrement),resetSync:w.default.synchronized(x.reset),reset:w.default.promisified(x.reset),getSync:w.default.synchronized(x.get),get:w.default.promisified(x.get),addAndGetSync:w.default.synchronized(x.addAndGet),addAndGet:w.default.promisified(x.addAndGet),getAndAddSync:w.default.synchronized(x.getAndAdd),getAndAdd:w.default.promisified(x.getAndAdd),compareAndSetSync:w.default.synchronized(x.compareAndSet),compareAndSet:w.default.promisified(x.compareAndSet)},"incrementAndGetSync",[r],(p=(p=Object.getOwnPropertyDescriptor(f,"incrementAndGetSync"))?p.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return p}}),f),O(f,"getAndIncrementSync",[i],(h=(h=Object.getOwnPropertyDescriptor(f,"getAndIncrementSync"))?h.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return h}}),f),O(f,"decrementAndGetSync",[o],(m=(m=Object.getOwnPropertyDescriptor(f,"decrementAndGetSync"))?m.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return m}}),f),O(f,"getAndDecrementSync",[a],(g=(g=Object.getOwnPropertyDescriptor(f,"getAndDecrementSync"))?g.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return g}}),f),O(f,"resetSync",[s],(v=(v=Object.getOwnPropertyDescriptor(f,"resetSync"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),f),O(f,"getSync",[c],(y=(y=Object.getOwnPropertyDescriptor(f,"getSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),f),O(f,"addAndGetSync",[u],(b=(b=Object.getOwnPropertyDescriptor(f,"addAndGetSync"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),f),O(f,"getAndAddSync",[l],(_=(_=Object.getOwnPropertyDescriptor(f,"getAndAddSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),f),O(f,"compareAndSetSync",[d],(k=(k=Object.getOwnPropertyDescriptor(f,"compareAndSetSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),f),f);t.default=C},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var w,S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=n(0),x=(w=E)&&w.__esModule?w:{default:w},T=n(4),O=n(34);function C(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!x.default.isString(t))throw new Error("Counter Name must be non empty String");this.name=t};t.default=A;var M=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,[this.name].concat(n))}},R="Backendless.Counter.of(<CounterName>)";S(A.prototype,(r=(0,T.deprecated)(R,R+".incrementAndGet"),i=(0,T.deprecated)(R,R+".getAndIncrement"),o=(0,T.deprecated)(R,R+".decrementAndGet"),a=(0,T.deprecated)(R,R+".getAndDecrement"),s=(0,T.deprecated)(R,R+".reset"),c=(0,T.deprecated)(R,R+".get"),u=(0,T.deprecated)(R,R+".addAndGet"),l=(0,T.deprecated)(R,R+".getAndAdd"),d=(0,T.deprecated)(R,R+".compareAndSet"),C(f={incrementAndGetSync:x.default.synchronized(M(O.incrementAndGet)),incrementAndGet:x.default.promisified(M(O.incrementAndGet)),getAndIncrementSync:x.default.synchronized(M(O.getAndIncrement)),getAndIncrement:x.default.promisified(M(O.getAndIncrement)),decrementAndGetSync:x.default.synchronized(M(O.decrementAndGet)),decrementAndGet:x.default.promisified(M(O.decrementAndGet)),getAndDecrementSync:x.default.synchronized(M(O.getAndDecrement)),getAndDecrement:x.default.promisified(M(O.getAndDecrement)),resetSync:x.default.synchronized(M(O.reset)),reset:x.default.promisified(M(O.reset)),getSync:x.default.synchronized(M(O.get)),get:x.default.promisified(M(O.get)),addAndGetSync:x.default.synchronized(M(O.addAndGet)),addAndGet:x.default.promisified(M(O.addAndGet)),getAndAddSync:x.default.synchronized(M(O.getAndAdd)),getAndAdd:x.default.promisified(M(O.getAndAdd)),compareAndSetSync:x.default.synchronized(M(O.compareAndSet)),compareAndSet:x.default.promisified(M(O.compareAndSet))},"incrementAndGetSync",[r],(p=(p=Object.getOwnPropertyDescriptor(f,"incrementAndGetSync"))?p.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return p}}),f),C(f,"getAndIncrementSync",[i],(h=(h=Object.getOwnPropertyDescriptor(f,"getAndIncrementSync"))?h.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return h}}),f),C(f,"decrementAndGetSync",[o],(m=(m=Object.getOwnPropertyDescriptor(f,"decrementAndGetSync"))?m.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return m}}),f),C(f,"getAndDecrementSync",[a],(g=(g=Object.getOwnPropertyDescriptor(f,"getAndDecrementSync"))?g.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return g}}),f),C(f,"resetSync",[s],(v=(v=Object.getOwnPropertyDescriptor(f,"resetSync"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),f),C(f,"getSync",[c],(y=(y=Object.getOwnPropertyDescriptor(f,"getSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),f),C(f,"addAndGetSync",[u],(b=(b=Object.getOwnPropertyDescriptor(f,"addAndGetSync"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),f),C(f,"getAndAddSync",[l],(_=(_=Object.getOwnPropertyDescriptor(f,"getAndAddSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),f),C(f,"compareAndSetSync",[d],(k=(k=Object.getOwnPropertyDescriptor(f,"compareAndSetSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),f),f))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.incrementAndGet=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.put({url:i.default.counterIncrementAndGet(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.decrementAndGet=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.put({url:i.default.counterDecrementAndGet(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.get({url:i.default.counter(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAndIncrement=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.put({url:i.default.counterGetAndIncrement(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAndDecrement=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.put({url:i.default.counterGetAndDecrement(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAndAdd=function(e,t,n){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");if(!r.default.isNumber(t))throw new Error('Counter "value" must be Number');return n&&(n=r.default.wrapAsync(n)),o.default.put({url:i.default.counterGetAndAdd(e),query:{value:t},isAsync:!!n,asyncHandler:n})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addAndGet=function(e,t,n){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");if(!r.default.isNumber(t))throw new Error("Counter Value must number");return n&&(n=r.default.wrapAsync(n)),o.default.put({url:i.default.counterAddAndGet(e),query:{value:t},isAsync:!!n,asyncHandler:n})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.compareAndSet=function(e,t,n,a){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");if(!r.default.isNumber(t))throw new Error('Counter "expected" value must be Number');if(!r.default.isNumber(n))throw new Error('Counter "updated" value must be Number');return a&&(a=r.default.wrapAsync(a)),o.default.put({url:i.default.counterCompareAndSet(e),query:{expected:t,updatedvalue:n},isAsync:!!a,asyncHandler:a})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.reset=function(e,t){if(!e||!r.default.isString(e))throw new Error("Counter Name must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.put({url:i.default.counterReset(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m;Object.defineProperty(t,"__esModule",{value:!0});var g,v=n(0),y=(g=v)&&g.__esModule?g:{default:g},b=n(4),_=n(80),k=n(81),w=n(82),S=n(83),E=n(84),x=n(85),T=n(35);function O(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var C=(r=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.put"),i=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.get"),o=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.remove"),a=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.contains"),s=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.expireIn"),c=(0,b.deprecated)("Backendless.Cache","Backendless.Cache.expireAt"),O(u={putSync:y.default.synchronized(_.put),put:y.default.promisified(_.put),getSync:y.default.synchronized(k.get),get:y.default.promisified(k.get),removeSync:y.default.synchronized(w.remove),remove:y.default.promisified(w.remove),containsSync:y.default.synchronized(S.contains),contains:y.default.promisified(S.contains),expireInSync:y.default.synchronized(E.expireIn),expireIn:y.default.promisified(E.expireIn),expireAtSync:y.default.synchronized(x.expireAt),expireAt:y.default.promisified(x.expireAt),setObjectFactory:function(e,t){T.Parsers.set(e,t)}},"putSync",[r],(l=(l=Object.getOwnPropertyDescriptor(u,"putSync"))?l.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return l}}),u),O(u,"getSync",[i],(d=(d=Object.getOwnPropertyDescriptor(u,"getSync"))?d.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return d}}),u),O(u,"removeSync",[o],(f=(f=Object.getOwnPropertyDescriptor(u,"removeSync"))?f.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return f}}),u),O(u,"containsSync",[a],(p=(p=Object.getOwnPropertyDescriptor(u,"containsSync"))?p.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return p}}),u),O(u,"expireInSync",[s],(h=(h=Object.getOwnPropertyDescriptor(u,"expireInSync"))?h.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return h}}),u),O(u,"expireAtSync",[c],(m=(m=Object.getOwnPropertyDescriptor(u,"expireAtSync"))?m.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return m}}),u),u);t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.put=function(e,t,n,s){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");if(n instanceof o.default&&(s=n,n=void 0),n&&!r.default.isNumber(n))throw new Error("Cache timeToLive must be Number");return r.default.isObject(t)&&t.constructor!==Object&&(t.___class=t.___class||r.default.getClassName(t)),s&&(s=r.default.wrapAsync(s)),a.default.put({url:i.default.cacheItem(e)+(n?"?timeout="+n:""),headers:{"Content-Type":"application/json"},data:JSON.stringify(t),isAsync:!!s,asyncHandler:s})};var r=s(n(0)),i=s(n(1)),o=s(n(3)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");t&&(t=r.default.wrapAsync(t,c));var n=o.default.get({url:i.default.cacheItem(e),isAsync:!!t,asyncHandler:t});return t?n:c(n)};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(35);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e&&e.___class;if(t){var n=a.Parsers.get(t);n&&(e=new n(e))}return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=function(e,t){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.delete({url:i.default.cacheItem(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");return t&&(t=r.default.wrapAsync(t)),o.default.get({url:i.default.cacheItemCheck(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.expireIn=function(e,t,n){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");if(!t)throw new Error("Cache Expiration must be number of seconds");return n&&(n=r.default.wrapAsync(n)),o.default.put({url:i.default.cacheItemExpireIn(e)+"?timeout="+t,data:{},isAsync:!!n,asyncHandler:n})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.expireAt=function(e,t,n){if(!e||!r.default.isString(e))throw new Error("Cache Key must be non empty String");if(!t)throw new Error("Cache Expiration must be timestamp or instance of Date");return t=r.default.isDate(t)?t.getTime():t,n&&(n=r.default.wrapAsync(n)),o.default.put({url:i.default.cacheItemExpireAt(e)+"?timestamp="+t,data:{},isAsync:!!n,asyncHandler:n})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u;Object.defineProperty(t,"__esModule",{value:!0});var l,d=n(0),f=(l=d)&&l.__esModule?l:{default:l},p=n(4),h=n(87),m=n(88),g=n(89);function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(r=(0,p.deprecated)("Backendless.Commerce","Backendless.Commerce.validatePlayPurchase"),i=(0,p.deprecated)("Backendless.Commerce","Backendless.Commerce.cancelPlaySubscription"),o=(0,p.deprecated)("Backendless.Commerce","Backendless.Commerce.getPlaySubscriptionStatus"),v(a={validatePlayPurchaseSync:f.default.synchronized(h.validatePlayPurchase),validatePlayPurchase:f.default.promisified(h.validatePlayPurchase),cancelPlaySubscriptionSync:f.default.synchronized(m.cancelPlaySubscription),cancelPlaySubscription:f.default.promisified(m.cancelPlaySubscription),getPlaySubscriptionStatusSync:f.default.synchronized(g.getPlaySubscriptionStatus),getPlaySubscriptionStatus:f.default.promisified(g.getPlaySubscriptionStatus)},"validatePlayPurchaseSync",[r],(s=(s=Object.getOwnPropertyDescriptor(a,"validatePlayPurchaseSync"))?s.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return s}}),a),v(a,"cancelPlaySubscriptionSync",[i],(c=(c=Object.getOwnPropertyDescriptor(a,"cancelPlaySubscriptionSync"))?c.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return c}}),a),v(a,"getPlaySubscriptionStatusSync",[o],(u=(u=Object.getOwnPropertyDescriptor(a,"getPlaySubscriptionStatusSync"))?u.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return u}}),a),a);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validatePlayPurchase=function(e,t,n,s){return(0,a.validateStringArgument)("Package Name",e),(0,a.validateStringArgument)("Product Id",t),(0,a.validateStringArgument)("Token",n),s&&(s=r.default.wrapAsync(s)),o.default.get({url:i.default.commerceValidate(e,t,n),isAsync:!!s,asyncHandler:s})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(19);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelPlaySubscription=function(e,t,n,s){return(0,a.validateStringArgument)("Package Name",e),(0,a.validateStringArgument)("Subscription Id",t),(0,a.validateStringArgument)("Token",n),s&&(s=r.default.wrapAsync(s)),o.default.post({url:i.default.commerceSubCancel(e,t,n),isAsync:!!s,asyncHandler:s})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(19);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPlaySubscriptionStatus=function(e,t,n,s){return(0,a.validateStringArgument)("Package Name",e),(0,a.validateStringArgument)("Subscription Id",t),(0,a.validateStringArgument)("Token",n),s&&(s=r.default.wrapAsync(s)),o.default.get({url:i.default.commerceSubStatus(e,t,n),isAsync:!!s,asyncHandler:s})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(19);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L;Object.defineProperty(t,"__esModule",{value:!0});var N,D=n(0),j=(N=D)&&N.__esModule?N:{default:N},F=n(4),U=n(91),z=n(92),$=n(93),H=n(94),W=n(95),G=n(96),Y=n(97),q=n(98),Z=n(5),K=n(99),X=n(100);function V(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var J=(r=(0,F.deprecated)("Backendless.Users","Backendless.Users.register"),i=(0,F.deprecated)("Backendless.Users","Backendless.Users.getUserRoles"),o=(0,F.deprecated)("Backendless.Users","Backendless.Users.assignRole"),a=(0,F.deprecated)("Backendless.Users","Backendless.Users.unassignRole"),s=(0,F.deprecated)("Backendless.Users","Backendless.Users.login"),c=(0,F.deprecated)("Backendless.Users","Backendless.Users.loginAsGuest"),u=(0,F.deprecated)("Backendless.Users","Backendless.Users.describeUserClass"),l=(0,F.deprecated)("Backendless.Users","Backendless.Users.restorePassword"),d=(0,F.deprecated)("Backendless.Users","Backendless.Users.logout"),f=(0,F.deprecated)("Backendless.Users","Backendless.Users.getCurrentUser"),p=(0,F.deprecated)("Backendless.Users","Backendless.Users.update"),h=(0,F.deprecated)("Backendless.Users","Backendless.Users.loginWithFacebook"),m=(0,F.deprecated)("Backendless.Users","Backendless.Users.loginWithGooglePlus"),g=(0,F.deprecated)("Backendless.Users","Backendless.Users.loginWithTwitter"),v=(0,F.deprecated)("Backendless.Users","Backendless.Users.isValidLogin"),y=(0,F.deprecated)("Backendless.Users","Backendless.Users.resendEmailConfirmation"),V(b={registerSync:j.default.synchronized(U.register),register:j.default.promisified(U.register),getUserRolesSync:j.default.synchronized(z.getUserRoles),getUserRoles:j.default.promisified(z.getUserRoles),assignRoleSync:j.default.synchronized(z.assignRole),assignRole:j.default.promisified(z.assignRole),unassignRoleSync:j.default.synchronized(z.unassignRole),unassignRole:j.default.promisified(z.unassignRole),loginSync:j.default.synchronized($.login),login:j.default.promisified($.login),loginAsGuestSync:j.default.synchronized(H.loginAsGuest),loginAsGuest:j.default.promisified(H.loginAsGuest),describeUserClassSync:j.default.synchronized(Y.describeUserClass),describeUserClass:j.default.promisified(Y.describeUserClass),restorePasswordSync:j.default.synchronized(q.restorePassword),restorePassword:j.default.promisified(q.restorePassword),logoutSync:j.default.synchronized(W.logout),logout:j.default.promisified(W.logout),getCurrentUserSync:j.default.synchronized(Z.getCurrentUser),getCurrentUser:j.default.promisified(Z.getCurrentUser),updateSync:j.default.synchronized(G.update),update:j.default.promisified(G.update),loginWithFacebookSync:j.default.synchronized(X.loginWithFacebook),loginWithFacebook:j.default.promisified(X.loginWithFacebook),loginWithFacebookSdk:X.loginWithFacebookSdk,loginWithGooglePlusSync:j.default.synchronized(X.loginWithGooglePlus),loginWithGooglePlus:j.default.promisified(X.loginWithGooglePlus),loginWithGooglePlusSdk:X.loginWithGooglePlusSdk,loginWithTwitterSync:j.default.synchronized(X.loginWithTwitter),loginWithTwitter:j.default.promisified(X.loginWithTwitter),isValidLoginSync:j.default.synchronized(Z.isValidLogin),isValidLogin:j.default.promisified(Z.isValidLogin),resendEmailConfirmationSync:j.default.synchronized(K.resendEmailConfirmation),resendEmailConfirmation:j.default.promisified(K.resendEmailConfirmation),loggedInUser:Z.loggedInUser},"registerSync",[r],(_=(_=Object.getOwnPropertyDescriptor(b,"registerSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),b),V(b,"getUserRolesSync",[i],(k=(k=Object.getOwnPropertyDescriptor(b,"getUserRolesSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),b),V(b,"assignRoleSync",[o],(w=(w=Object.getOwnPropertyDescriptor(b,"assignRoleSync"))?w.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return w}}),b),V(b,"unassignRoleSync",[a],(S=(S=Object.getOwnPropertyDescriptor(b,"unassignRoleSync"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),b),V(b,"loginSync",[s],(E=(E=Object.getOwnPropertyDescriptor(b,"loginSync"))?E.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return E}}),b),V(b,"loginAsGuestSync",[c],(x=(x=Object.getOwnPropertyDescriptor(b,"loginAsGuestSync"))?x.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return x}}),b),V(b,"describeUserClassSync",[u],(T=(T=Object.getOwnPropertyDescriptor(b,"describeUserClassSync"))?T.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return T}}),b),V(b,"restorePasswordSync",[l],(O=(O=Object.getOwnPropertyDescriptor(b,"restorePasswordSync"))?O.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return O}}),b),V(b,"logoutSync",[d],(C=(C=Object.getOwnPropertyDescriptor(b,"logoutSync"))?C.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return C}}),b),V(b,"getCurrentUserSync",[f],(A=(A=Object.getOwnPropertyDescriptor(b,"getCurrentUserSync"))?A.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return A}}),b),V(b,"updateSync",[p],(M=(M=Object.getOwnPropertyDescriptor(b,"updateSync"))?M.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return M}}),b),V(b,"loginWithFacebookSync",[h],(R=(R=Object.getOwnPropertyDescriptor(b,"loginWithFacebookSync"))?R.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return R}}),b),V(b,"loginWithGooglePlusSync",[m],(B=(B=Object.getOwnPropertyDescriptor(b,"loginWithGooglePlusSync"))?B.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return B}}),b),V(b,"loginWithTwitterSync",[g],(P=(P=Object.getOwnPropertyDescriptor(b,"loginWithTwitterSync"))?P.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return P}}),b),V(b,"isValidLoginSync",[v],(I=(I=Object.getOwnPropertyDescriptor(b,"isValidLoginSync"))?I.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return I}}),b),V(b,"resendEmailConfirmationSync",[y],(L=(L=Object.getOwnPropertyDescriptor(b,"resendEmailConfirmationSync"))?L.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return L}}),b),b);t.default=J},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){var t,n=r.default.extractResponder(arguments),s=!!n,c=o.default.post({url:i.default.userRegister(),isAsync:s,asyncHandler:n&&(t=n,new a.default((function(e){return t.success(u(e))}),(function(e){return t.fault(e)}))),data:e});return s?c:u(c)};var r=c(n(0)),i=c(n(1)),o=c(n(2)),a=c(n(3)),s=c(n(11));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.default.deepExtend(new s.default,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.unassignRole=t.assignRole=void 0,t.getUserRoles=function(){var e=r.default.extractResponder(arguments),t=!!e,n=o.default.get({url:i.default.userRoles(),isAsync:t,asyncHandler:e});return t?n:(0,a.parseResponse)(n)};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=n(10);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){if(!e)throw new Error("User identity can not be empty");if(!t)throw new Error("Rolename can not be empty");var s=r.default.extractResponder(arguments);return o.default.post({url:i.default.userRoleOperation(a),isAsync:!!s,asyncHandler:s,data:{user:e,roleName:t}})}t.assignRole=function(e,t,n){return c(e,t,n,"assignRole")},t.unassignRole=function(e,t,n){return c(e,t,n,"unassignRole")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.login=function(e,t,n){if(!e)throw new Error("Login can not be empty");if(!t)throw new Error("Password can not be empty");n=!0===n,a.default.remove("user-token"),a.default.remove("current-user-id"),a.default.set("stayLoggedIn",!1);var u=r.default.extractResponder(arguments),l=!!u;u&&(u=(0,c.wrapAsync)(u,n));var d={login:e,password:t},f=o.default.post({url:i.default.userLogin(),isAsync:l,asyncHandler:u,data:d});return!l&&f&&((0,s.setLocalCurrentUser)((0,c.parseResponse)(f,n)),f=(0,c.getUserFromResponse)((0,s.getLocalCurrentUser)())),f};var r=u(n(0)),i=u(n(1)),o=u(n(2)),a=u(n(9)),s=n(5),c=n(10);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loginAsGuest=function(e){e=!0===e,a.default.remove("user-token"),a.default.remove("current-user-id"),a.default.set("stayLoggedIn",!1);var t=r.default.extractResponder(arguments),n=!!t;t&&(t=(0,c.wrapAsync)(t,e));var u=o.default.post({url:i.default.guestLogin(),isAsync:n,asyncHandler:t});return!n&&u&&((0,s.setLocalCurrentUser)((0,c.parseResponse)(u,e)),u=(0,c.getUserFromResponse)((0,s.getLocalCurrentUser)())),u};var r=u(n(0)),i=u(n(1)),o=u(n(2)),a=u(n(9)),s=n(5),c=n(10);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.logout=function(){var e=r.default.extractResponder(arguments),t=!!e,n=t?e.fault:null,c=t?e.success:null,u={},l=function(){a.default.remove("user-token"),a.default.remove("current-user-id"),a.default.remove("stayLoggedIn"),(0,s.setLocalCurrentUser)(null)},d=function(e){r.default.isObject(e)&&-1!==[3064,3091,3090,3023].indexOf(e.code)&&l(),r.default.isFunction(n)&&n(e)};e&&(e.fault=d,e.success=function(){l(),r.default.isFunction(c)&&c()});try{u=o.default.get({url:i.default.userLogout(),isAsync:t,asyncHandler:e})}catch(e){d(e)}if(t)return u;l()};var r=c(n(0)),i=c(n(1)),o=c(n(2)),a=c(n(9)),s=n(5);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.update=function(e){var t,n=r.default.extractResponder(arguments),s=!!n,c=o.default.put({url:i.default.userObject(e.objectId),isAsync:s,asyncHandler:n&&(t=n,new a.default((function(e){return t.success(u(e))}),(function(e){return t.fault(e)}))),data:e});return s?c:u(c)};var r=c(n(0)),i=c(n(1)),o=c(n(2)),a=c(n(3)),s=c(n(11));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.default.deepExtend(new s.default,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.describeUserClass=function(){var e=r.default.extractResponder(arguments),t=!!e;return o.default.get({url:i.default.userClassProps(),isAsync:t,asyncHandler:e})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.restorePassword=function(e){if(!e)throw new Error("emailAddress can not be empty");var t=r.default.extractResponder(arguments),n=!!t;return o.default.get({url:i.default.userRestorePassword(e),isAsync:n,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resendEmailConfirmation=function(e){if(!e||e instanceof i.default)throw new Error("Email cannot be empty");var t=r.default.extractResponder(arguments),n=!!t;return a.default.post({url:o.default.userResendConfirmation(e),isAsync:n,asyncHandler:t})};var r=s(n(0)),i=s(n(3)),o=s(n(1)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(101);Object.defineProperty(t,"loginWithTwitter",{enumerable:!0,get:function(){return r.loginWithTwitter}});var i=n(103);Object.defineProperty(t,"loginWithFacebook",{enumerable:!0,get:function(){return i.loginWithFacebook}}),Object.defineProperty(t,"loginWithFacebookSdk",{enumerable:!0,get:function(){return i.loginWithFacebookSdk}});var o=n(104);Object.defineProperty(t,"loginWithGooglePlus",{enumerable:!0,get:function(){return o.loginWithGooglePlus}}),Object.defineProperty(t,"loginWithGooglePlusSdk",{enumerable:!0,get:function(){return o.loginWithGooglePlusSdk}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loginWithTwitter=void 0;var r=n(20);t.loginWithTwitter=function(e,t,n){return(0,r.loginSocial)("Twitter",e,null,null,t,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.SocialContainer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.socialType=t,this.container=n,n?this.processContainer():this.createContainer()}return r(e,[{key:"processContainer",value:function(){var e=this,t=void 0,n=this.container[0],r=document.createElement("div");r.innerHTML="Loading...",n.appendChild(r),n.style.cursor="wait",this.closeContainer=function(){n.style.cursor="default",n.removeChild(t)},this.removeLoading=function(){n.removeChild(r)},this.doAuthorizationActivity=function(r){e.removeLoading(),(t=document.createElement("iframe")).frameBorder=0,t.width=n.style.width,t.height=n.style.height,t.id="SocialAuthFrame",t.setAttribute("src",r+"&amp;output=embed"),n.appendChild(t),t.onload=function(){n.style.cursor="default"}}}},{key:"createContainer",value:function(){var e=window.open("",this.socialType+" authorization","resizable=yes, scrollbars=yes, titlebar=yes, top=10, left=10"),t=e.document.getElementsByTagName("body")[0];t.innerHTML="Loading...",e.document.getElementsByTagName("html")[0].style.cursor="wait",this.closeContainer=function(){e.close()},this.removeLoading=function(){t.innerHTML=null},this.doAuthorizationActivity=function(t){e.location.href=t,e.onload=function(){e.document.getElementsByTagName("html")[0].style.cursor="default"}}}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loginWithFacebookSdk=t.loginWithFacebook=void 0;var r=s(n(3)),i=s(n(0)),o=n(20),a=n(36);function s(e){return e&&e.__esModule?e:{default:e}}t.loginWithFacebook=function(e,t,n,r){return console.warn('Method "loginWithFacebook" is deprecated. and will be removed in the nearest release.\nUse method "loginWithFacebookSdk" instead.'),(0,o.loginSocial)("Facebook",e,t,null,n,r)},t.loginWithFacebookSdk=function(e,t,n,o){return i.default.checkPromiseSupport(),"string"!=typeof e&&(o=n,n=t,t=e,e=null),new Promise((function(i,s){function c(){(0,a.sendSocialLoginRequest)(e,"facebook",t,n,new r.default(i,s))}return e||!t?c():(console.warn('You must pass "accessToken" as the first argument into "loginWithFacebook(accessToken:String, fieldsMapping:Object, stayLoggedIn?:Boolean)" method'),FB?void FB.getLoginStatus((function(t){"connected"===t.status?c(e=t.authResponse.accessToken):FB.login((function(t){return c(e=t.authResponse.accessToken)}),o)})):s(new Error("Facebook SDK not found")))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loginWithGooglePlusSdk=t.loginWithGooglePlus=void 0;var r=s(n(3)),i=s(n(0)),o=n(20),a=n(36);function s(e){return e&&e.__esModule?e:{default:e}}t.loginWithGooglePlus=function(e,t,n,r,i){return console.warn('Method "loginWithGooglePlus" is deprecated. and will be removed in the nearest release.\nUse method "loginWithGooglePlusSdk" instead.'),(0,o.loginSocial)("GooglePlus",e,t,n,r,i)},t.loginWithGooglePlusSdk=function(e,t,n){return i.default.checkPromiseSupport(),"string"!=typeof e&&(n=t,t=e,e=null),new Promise((function(i,o){function s(){(0,a.sendSocialLoginRequest)(e,"googleplus",t,n,new r.default(i,o))}return e||!t?s():(console.warn('You must pass "accessToken" as the first argument into "loginWithGooglePlusSdk(accessToken:String, fieldsMapping:Object, stayLoggedIn?:Boolean)" method'),gapi?void gapi.auth.authorize({client_id:t.client_id,scope:"https://www.googleapis.com/auth/plus.login"},(function(t){var n=t.access_token,r=t.error;r?o(r):s(e=n)})):o(new Error("Google Plus SDK not found")))}))}},function(e,t,n){var r,i,o,a,s,c;Object.defineProperty(t,"__esModule",{value:!0});var u,l=n(0),d=(u=l)&&u.__esModule?u:{default:u},f=n(4),p=n(21),h=n(106),m=n(107);function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v={ExecutionTypes:p.ExecutionTypes,CustomServices:(r=(0,f.deprecated)("Backendless.CustomServices","Backendless.CustomServices.invoke"),i={invokeSync:d.default.synchronized(m.invokeServiceMethod),invoke:d.default.promisified(m.invokeServiceMethod)},g(i,"invokeSync",[r],(o=Object.getOwnPropertyDescriptor(i,"invokeSync"),o=o?o.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return o}}),i),i),Events:(a=(0,f.deprecated)("Backendless.Events","Backendless.Events.dispatch"),s={dispatchSync:d.default.synchronized(h.dispatchEvent),dispatch:d.default.promisified(h.dispatchEvent)},g(s,"dispatchSync",[a],(c=Object.getOwnPropertyDescriptor(s,"dispatchSync"),c=c?c.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return c}}),s),s)};t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchEvent=function(e,t,n,c){if(!e||!r.default.isString(e))throw new Error("Event Name must be provided and must be not an empty STRING!");"string"==typeof t&&(0,s.isExecutionType)(t)&&(c=n,n=t,t=void 0),n instanceof o.default&&(c=n,n=void 0),t instanceof o.default&&(c=t,t=void 0),r.default.isObject(t)||(t={}),c&&(c=r.default.wrapAsync(c));var u={};return n&&(u[s.EXECUTION_TYPE_HEADER]=n),i.default.post({url:a.default.blEvent(e),data:t,isAsync:!!c,headers:u,asyncHandler:c})};var r=c(n(0)),i=c(n(2)),o=c(n(3)),a=c(n(1)),s=n(21);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.invokeServiceMethod=function(e,t,n,s,c){"string"==typeof n&&(0,a.isExecutionType)(n)&&(c=s,s=n,n=void 0),s instanceof o.default&&(c=s,s=void 0),n instanceof o.default&&(c=n,n=void 0);var u={};return s&&(u[a.EXECUTION_TYPE_HEADER]=s),i.default.post({url:r.default.blServiceMethod(e,t),data:n,isAsync:!!c,headers:u,asyncHandler:c})};var r=s(n(1)),i=s(n(2)),o=s(n(3)),a=n(21);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L;Object.defineProperty(t,"__esModule",{value:!0});var N=te(n(0)),D=n(4),j=n(37),F=te(n(22)),U=te(n(109)),z=te(n(15)),$=te(n(6)),H=te(n(16)),W=n(112),G=n(113),Y=n(114),q=n(115),Z=n(116),K=n(117),X=n(118),V=n(119),J=n(120),Q=n(121),ee=n(122);function te(e){return e&&e.__esModule?e:{default:e}}function ne(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var re=(r=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.savePoint"),i=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.find"),o=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.loadMetadata"),a=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.getClusterPoints"),s=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.relativeFind"),c=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.addCategory"),u=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.getCategories"),l=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.deleteCategory"),d=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.deletePoint"),f=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.getFencePoints"),p=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.getGeopointCount"),h=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.runOnEnterAction"),m=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.runOnStayAction"),g=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.runOnExitAction"),v=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.startGeofenceMonitoringWithInAppCallback"),y=(0,D.deprecated)("Backendless.Geo","Backendless.Geo.startGeofenceMonitoringWithRemoteCallback"),ne(b={EARTH_RADIUS:j.EARTH_RADIUS,UNITS:j.UNITS,Utils:F.default,Cluster:z.default,Point:$.default,Query:H.default,addPoint:function(){return this.savePoint.apply(this,arguments)},savePointSync:N.default.synchronized(W.savePoint),savePoint:N.default.promisified(W.savePoint),findSync:N.default.synchronized(V.loadPoints),find:N.default.promisified(V.loadPoints),loadMetadataSync:N.default.synchronized(J.loadMetadata),loadMetadata:N.default.promisified(J.loadMetadata),getClusterPointsSync:N.default.synchronized(X.getClusterPoints),getClusterPoints:N.default.promisified(X.getClusterPoints),relativeFindSync:N.default.synchronized(Q.relativeFind),relativeFind:N.default.promisified(Q.relativeFind),addCategorySync:N.default.synchronized(G.addCategory),addCategory:N.default.promisified(G.addCategory),getCategoriesSync:N.default.synchronized(q.getCategories),getCategories:N.default.promisified(q.getCategories),deleteCategorySync:N.default.synchronized(Y.deleteCategory),deleteCategory:N.default.promisified(Y.deleteCategory),deletePointSync:N.default.synchronized(Z.deletePoint),deletePoint:N.default.promisified(Z.deletePoint),getFencePointsSync:N.default.synchronized(ee.loadFencePoints),getFencePoints:N.default.promisified(ee.loadFencePoints),getGeopointCountSync:N.default.synchronized(K.getGeopointCount),getGeopointCount:N.default.promisified(K.getGeopointCount),runOnEnterActionSync:U.default.runOnEnterActionSync,runOnEnterAction:U.default.runOnEnterAction,runOnStayActionSync:U.default.runOnStayActionSync,runOnStayAction:U.default.runOnStayAction,runOnExitActionSync:U.default.runOnExitActionSync,runOnExitAction:U.default.runOnExitAction,startGeofenceMonitoringWithInAppCallbackSync:U.default.startGeofenceMonitoringWithInAppCallbackSync,startGeofenceMonitoringWithInAppCallback:U.default.startGeofenceMonitoringWithInAppCallback,startGeofenceMonitoringWithRemoteCallbackSync:U.default.startGeofenceMonitoringWithRemoteCallbackSync,startGeofenceMonitoringWithRemoteCallback:U.default.startGeofenceMonitoringWithRemoteCallback,stopGeofenceMonitoring:U.default.stopGeofenceMonitoring},"savePointSync",[r],(_=(_=Object.getOwnPropertyDescriptor(b,"savePointSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),b),ne(b,"findSync",[i],(k=(k=Object.getOwnPropertyDescriptor(b,"findSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),b),ne(b,"loadMetadataSync",[o],(w=(w=Object.getOwnPropertyDescriptor(b,"loadMetadataSync"))?w.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return w}}),b),ne(b,"getClusterPointsSync",[a],(S=(S=Object.getOwnPropertyDescriptor(b,"getClusterPointsSync"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),b),ne(b,"relativeFindSync",[s],(E=(E=Object.getOwnPropertyDescriptor(b,"relativeFindSync"))?E.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return E}}),b),ne(b,"addCategorySync",[c],(x=(x=Object.getOwnPropertyDescriptor(b,"addCategorySync"))?x.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return x}}),b),ne(b,"getCategoriesSync",[u],(T=(T=Object.getOwnPropertyDescriptor(b,"getCategoriesSync"))?T.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return T}}),b),ne(b,"deleteCategorySync",[l],(O=(O=Object.getOwnPropertyDescriptor(b,"deleteCategorySync"))?O.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return O}}),b),ne(b,"deletePointSync",[d],(C=(C=Object.getOwnPropertyDescriptor(b,"deletePointSync"))?C.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return C}}),b),ne(b,"getFencePointsSync",[f],(A=(A=Object.getOwnPropertyDescriptor(b,"getFencePointsSync"))?A.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return A}}),b),ne(b,"getGeopointCountSync",[p],(M=(M=Object.getOwnPropertyDescriptor(b,"getGeopointCountSync"))?M.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return M}}),b),ne(b,"runOnEnterActionSync",[h],(R=(R=Object.getOwnPropertyDescriptor(b,"runOnEnterActionSync"))?R.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return R}}),b),ne(b,"runOnStayActionSync",[m],(B=(B=Object.getOwnPropertyDescriptor(b,"runOnStayActionSync"))?B.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return B}}),b),ne(b,"runOnExitActionSync",[g],(P=(P=Object.getOwnPropertyDescriptor(b,"runOnExitActionSync"))?P.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return P}}),b),ne(b,"startGeofenceMonitoringWithInAppCallbackSync",[v],(I=(I=Object.getOwnPropertyDescriptor(b,"startGeofenceMonitoringWithInAppCallbackSync"))?I.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return I}}),b),ne(b,"startGeofenceMonitoringWithRemoteCallbackSync",[y],(L=(L=Object.getOwnPropertyDescriptor(b,"startGeofenceMonitoringWithRemoteCallbackSync"))?L.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return L}}),b),b);t.default=re},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),i=c(n(13)),o=c(n(38)),a=n(110),s=n(111);function c(e){return e&&e.__esModule?e:{default:e}}var u={reset:function(){i.default.reset()},runOnEnterAction:r.default.promisified(o.default.enter),runOnEnterActionSync:r.default.synchronized(o.default.enter),runOnStayAction:r.default.promisified(o.default.stay),runOnStayActionSync:r.default.synchronized(o.default.stay),runOnExitAction:r.default.promisified(o.default.exist),runOnExitActionSync:r.default.synchronized(o.default.exist),startGeofenceMonitoringWithInAppCallback:r.default.promisified(a.startMonitoring),startGeofenceMonitoringWithInAppCallbackSync:r.default.synchronized(a.startMonitoring),startGeofenceMonitoringWithRemoteCallback:r.default.promisified(a.startMonitoring),startGeofenceMonitoringWithRemoteCallbackSync:r.default.synchronized(a.startMonitoring),stopGeofenceMonitoring:s.stopMonitoring};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.startMonitoring=function(e,t,n){var u,f=s.default.get(),p=!1;t instanceof o.default&&(p=!0);for(var h=(u=e,i.default.get({url:r.default.geoFences(u)})),m=0;m<h.length;m++)g(f._trackedFences,h[m],"geofenceName")||(d[h[m].type](h[m]),f._lastResults[h[m].geofenceName]=!1,f._trackedFences.push(h[m]));function g(e,t,n){for(var r=e.length,i=!1,o=0;o<r&&!(i=e[o][n]===t[n]);o++);return i}var v=function(e){var r=p?t:null,i=p?null:t;!function(e,t,n,r,i,o,u){for(var l=s.default.get(),d=0;d<l._trackedFences.length;d++){var f=l._trackedFences[d],p=(g=f.nwPoint,v=f.sePoint,null!=g&&null!=v&&a.default.isPointInFence(t,f)),h=null;p!==o[l._trackedFences[d].geofenceName]&&(h=o[l._trackedFences[d].geofenceName]?"onexit":"onenter",o[l._trackedFences[d].geofenceName]=p),h&&(m=void 0,m=1e3*l._trackedFences[d].onStayDuration,i?"onenter"===h?(i[h](l._trackedFences[d].geofenceName,l._trackedFences[d].objectId,t.latitude,t.longitude),m>-1?function(e,t,n){!function(e,t,n){l._timers[l._trackedFences[e].geofenceName]=setTimeout((function(){i.onstay(l._trackedFences[e].geofenceName,l._trackedFences[e].objectId,t.latitude,t.longitude)}),n)}(e,t,n)}(d,t,m):i.onstay(l._trackedFences[d].geofenceName,l._trackedFences[d].objectId,t.latitude,t.longitude)):(clearTimeout(l._timers[l._trackedFences[d].geofenceName]),i[h](l._trackedFences[d].geofenceName,l._trackedFences[d].objectId,t.latitude,t.longitude)):r&&(r.latitude=t.latitude,r.longitude=t.longitude,"onenter"===h?(c.default.run(h,l._trackedFences[d].geofenceName,r,u),m>-1?function(e,t,n,r){!function(e,t,n,r){l._timers[l._trackedFences[e].geofenceName]=setTimeout((function(){c.default.run("onstay",l._trackedFences[e].geofenceName,r,u)}),n)}(e,0,n,r)}(d,0,m,r):c.default.run("onstay",l._trackedFences[d].geofenceName,r,u)):(clearTimeout(l._timers[l._trackedFences[d].geofenceName]),c.default.run(h,l._trackedFences[d].geofenceName,r,u))))}var m,g,v}(0,e.coords,0,r,i,f._lastResults,n)};function y(e){throw new Error("Error during current position calculation. Error "+e.message)}if(!f.monitoringId){if(!h.length)throw new Error("Please, add some fences to start monitoring");f.monitoringId=a.default.isMobileDevice()?navigator.geolocation.watchPosition(v,y,{timeout:l,enableHighAccuracy:!0}):setInterval((function(){navigator.geolocation.getCurrentPosition(v,y,{timeout:5e3,enableHighAccuracy:!0})}),l)}};var r=u(n(1)),i=u(n(2)),o=u(n(6)),a=u(n(22)),s=u(n(13)),c=u(n(38));function u(e){return e&&e.__esModule?e:{default:e}}var l=5e3,d={RECT:function(e){e.nwPoint=e.nodes[0],e.sePoint=e.nodes[1]},CIRCLE:function(e){var t=a.default.getOutRectangle(e.nodes[0],e.nodes[1]);e.nwPoint={latitude:t[0],longitude:t[1]},e.sePoint={latitude:t[2],longitude:t[3]}},SHAPE:function(e){var t=a.default.getOutRectangle(e.nodes[0],e.nodes[1]);e.nwPoint={latitude:t[0],longitude:t[1]},e.sePoint={latitude:t[2],longitude:t[3]}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoring=function(e){var t=i.default.get();if(e)for(var n=0;n<t._trackedFences.length;n++)t._trackedFences[n].geofenceName===e&&(t._trackedFences.splice(n,1),delete t._lastResults[e]);else t._lastResuls={},t._trackedFences=[];t._trackedFences.length||(t.monitoringId=null,r.default.isMobileDevice()?navigator.geolocation.clearWatch(t.monitoringId):clearInterval(t.monitoringId))};var r=o(n(22)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.savePoint=function(e,t){if(!r.default.isNumber(e.latitude)||!r.default.isNumber(e.longitude))throw new Error("Latitude or longitude not a number");e.categories=r.default.castArray(e.categories||["Default"]),t&&(t=r.default.wrapAsync(t,c));var n=o.default.send({method:e.objectId?o.default.Methods.PATCH:o.default.Methods.POST,url:e.objectId?i.default.geoPoint(e.objectId):i.default.geoPoints(),data:e,isAsync:!!t,asyncHandler:t});return t?n:c(n)};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=new a.default;return t.categories=e.geopoint.categories,t.latitude=e.geopoint.latitude,t.longitude=e.geopoint.longitude,t.metadata=e.geopoint.metadata,t.objectId=e.geopoint.objectId,t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addCategory=function(e,t){if(!e)throw new Error("Category name is required.");var n=i.default.put({url:r.default.geoCategory(e),isAsync:!!t,asyncHandler:t});return void 0===n.result?n:n.result};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCategory=function(e,t){if(!e)throw new Error("Category name is required.");var n={};try{n=i.default.delete({url:r.default.geoCategory(e),isAsync:!!t,asyncHandler:t})}catch(e){if(404!==e.statusCode)throw e;n=!1}return void 0===n.result?n:n.result};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCategories=function(e){return i.default.get({url:r.default.geoCategories(),isAsync:!!e,asyncHandler:e})};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deletePoint=function(e,t){if(!e||r.default.isFunction(e))throw new Error("Point argument name is required, must be string (object Id), or point object");var n=r.default.isString(e)?e:e.objectId,a={};try{a=o.default.delete({url:i.default.geoPoint(n),isAsync:!!t,asyncHandler:t})}catch(e){if(404!==e.statusCode)throw e;a=!1}return void 0===a.result?a:a.result};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getGeopointCount=function(e,t,n){if(r.default.isObject(e)&&(n=t,t=e,e=void 0),!r.default.isObject(t))throw new Error("Geo query must be specified");e&&(t.geoFence=e),(0,a.validateQueryObject)(t);var c=i.default.geoCount()+"?"+(0,s.toQueryParams)(t);return o.default.get({url:c,isAsync:!!n,asyncHandler:n})};var r=c(n(0)),i=c(n(1)),o=c(n(2)),a=n(23),s=n(24);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterPoints=function(e,t){if(!(e.objectId&&e instanceof a.default))throw new Error("Method argument must be a valid instance of GeoCluster persisted on the server");if(!(e.geoQuery instanceof c.default))throw new Error("Invalid GeoCluster object. Make sure to obtain an instance of GeoCluster using the Backendless.Geo.find API");var n=r.default.geoClusterPoints(e.objectId)+"?",l=e.geoQuery;for(var d in l)l.hasOwnProperty(d)&&u.default.hasOwnProperty(d)&&null!=l[d]&&(n+="&"+u.default[d](l[d]));return t=function(e){return new o.default((function(t){for(var n=0;n<t.length;n++)t[n]=new s.default(t[n]);e.success(t)}),(function(t){return e.fault(t)}))}(t),i.default.get({url:n,isAsync:!!t,asyncHandler:t})};var r=l(n(1)),i=l(n(2)),o=l(n(3)),a=l(n(15)),s=l(n(6)),c=l(n(16)),u=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadPoints=function(e,t){return e.url=o.default.geo(),(0,a.loadItems)(e,t)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(39)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadMetadata=function(e,t){var n=e instanceof o.default,u=e instanceof a.default;if(!e.objectId||!n&&!u)throw new Error("Method argument must be a valid instance of GeoPoint or GeoCluster persisted on the server");var l=r.default.geoPointMetaData(e.objectId);if(n){var d=e.geoQuery;if(!(d instanceof s.default))throw new Error("Invalid GeoCluster object. Make sure to obtain an instance of GeoCluster using the Backendless.Geo.find API");for(var f in l+="?",d)d.hasOwnProperty(f)&&c.default.hasOwnProperty(f)&&null!=d[f]&&(l+="&"+c.default[f](d[f]))}return i.default.get({url:l,isAsync:!!t,asyncHandler:t})};var r=u(n(1)),i=u(n(2)),o=u(n(15)),a=u(n(6)),s=u(n(16)),c=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.relativeFind=function(e,t){if(!e.relativeFindMetadata||!e.relativeFindPercentThreshold)throw new Error("Inconsistent geo query. Query should contain both relativeFindPercentThreshold and relativeFindMetadata");(0,s.validateQueryObject)(e),e.url=r.default.geoRelative();var n=e.url+(e.searchRectangle?"/rect":"/points")+"?"+(0,c.toQueryParams)(e);t&&(t=i.default.wrapAsync(t,(function(e){return l(e)})));var a=o.default.get({url:n,isAsync:!!t,asyncHandler:t});return t?a:l(a)};var r=u(n(1)),i=u(n(0)),o=u(n(2)),a=u(n(6)),s=n(23),c=n(24);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return e.map((function(e){return{geoPoint:new a.default(e.geoPoint),matches:e.matches}}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFencePoints=function(e,t,n){return(t=t||new i.default).geoFence=e,t.url=r.default.geo(),(0,o.loadItems)(t,n)};var r=a(n(1)),i=a(n(16)),o=n(39);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,a,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=p(n(0)),d=n(8),f=p(n(40));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=l.default.mirrorKeys({MESSAGE:null}),g=(r=(0,d.disallowInBusinessLogic)("MessagingChannel.addMessageListener"),i=d.RTScopeConnector.connectionRequired(),o=(0,d.disallowInBusinessLogic)("MessagingChannel.addCommandListener"),a=(0,d.disallowInBusinessLogic)("MessagingChannel.addUserStatusListener"),h((s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"getScopeOptions",value:function(){return{channel:this.options.name}}},{key:"publish",value:function(e,t,n){return f.default.publish(this.options.name,e,t,n)}},{key:"addMessageListener",value:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=void 0),this.addSubscription(m.MESSAGE,d.RTClient.subscriptions.onPubSubMessage,{callback:t,onError:n,params:{selector:e}})}},{key:"removeMessageListener",value:function(e,t){if("function"==typeof e&&(t=e,e=void 0),e&&"string"!=typeof e)throw new Error('"selector" must be string');if("function"!=typeof t)throw new Error('"callback" must be function');this.stopSubscription(m.MESSAGE,{matcher:function(n){var r=n.params;return e?r.selector===e&&r.callback===t:n.callback===t}})}},{key:"removeMessageListeners",value:function(e){if("string"!=typeof e)throw new Error('"selector" must be string');this.stopSubscription(m.MESSAGE,{matcher:function(t){return t.params.selector===e}})}},{key:"removeAllMessageListeners",value:function(){this.stopSubscription(m.MESSAGE,{})}},{key:"addCommandListener",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addCommandListener",this).apply(this,arguments)}},{key:"addUserStatusListener",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addUserStatusListener",this).apply(this,arguments)}},{key:"join",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connect",this).call(this)}},{key:"leave",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnect",this).call(this)}},{key:"isJoined",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isConnected",this).call(this)}},{key:"connectSubscriber",get:function(){return d.RTClient.subscriptions.connectToPubSub}},{key:"usersSubscriber",get:function(){return d.RTClient.subscriptions.onPubSubUserStatus}},{key:"commandSubscriber",get:function(){return d.RTClient.subscriptions.onPubSubCommand}},{key:"commandSender",get:function(){return d.RTClient.methods.sendPubSubCommand}}]),t}(d.RTScopeConnector)).prototype,"addMessageListener",[r,i],Object.getOwnPropertyDescriptor(s.prototype,"addMessageListener"),s.prototype),h(s.prototype,"addCommandListener",[o],Object.getOwnPropertyDescriptor(s.prototype,"addCommandListener"),s.prototype),h(s.prototype,"addUserStatusListener",[a],Object.getOwnPropertyDescriptor(s.prototype,"addUserStatusListener"),s.prototype),s);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(125);Object.defineProperty(t,"PublishOptionsHeaders",{enumerable:!0,get:function(){return u(r).default}});var i=n(41);Object.defineProperty(t,"PublishOptions",{enumerable:!0,get:function(){return u(i).default}});var o=n(42);Object.defineProperty(t,"DeliveryOptions",{enumerable:!0,get:function(){return u(o).default}});var a=n(43);Object.defineProperty(t,"Bodyparts",{enumerable:!0,get:function(){return u(a).default}});var s=n(44);Object.defineProperty(t,"EmailEnvelope",{enumerable:!0,get:function(){return u(s).default}});var c=n(126);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"SubscriptionOptions",{enumerable:!0,get:function(){return u(c).default}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={MESSAGE_TAG:"message",IOS_ALERT_TAG:"ios-alert",IOS_BADGE_TAG:"ios-badge",IOS_SOUND_TAG:"ios-sound",ANDROID_TICKER_TEXT_TAG:"android-ticker-text",ANDROID_CONTENT_TITLE_TAG:"android-content-title",ANDROID_CONTENT_TEXT_TAG:"android-content-text",ANDROID_ACTION_TAG:"android-action",WP_TYPE_TAG:"wp-type",WP_TITLE_TAG:"wp-title",WP_TOAST_SUBTITLE_TAG:"wp-subtitle",WP_TOAST_PARAMETER_TAG:"wp-parameter",WP_TILE_BACKGROUND_IMAGE:"wp-backgroundImage",WP_TILE_COUNT:"wp-count",WP_TILE_BACK_TITLE:"wp-backTitle",WP_TILE_BACK_BACKGROUND_IMAGE:"wp-backImage",WP_TILE_BACK_CONTENT:"wp-backContent",WP_RAW_DATA:"wp-raw"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.warn('"SubscriptionOptions" is deprecated and nowhere used.'),console.warn('"SubscriptionOptions" class will be removed in the nearest release.'),t=t||{},this.subscriberId=t.subscriberId||void 0,this.subtopic=t.subtopic||void 0,this.selector=t.selector||void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(128);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n(129);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n(130);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n(131);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var s=n(132);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var c=n(133);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var u=n(134);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var l=n(135);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var d=n(136);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var f=n(137);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.publish=function(e,t,n,u,l){n instanceof a.default&&(l=n,n=void 0,u=void 0),u instanceof a.default&&(l=u,u=void 0);var d={message:t};if(n){if(!(n instanceof c.default))throw new Error("Use PublishOption as publishOptions argument");r.default.deepExtend(d,n)}if(u){if(!(u instanceof s.default))throw new Error("Use DeliveryOptions as deliveryTarget argument");r.default.deepExtend(d,u)}return o.default.post({url:i.default.messagingChannel(e),isAsync:!!l,asyncHandler:l,data:d})};var r=u(n(0)),i=u(n(1)),o=u(n(2)),a=u(n(3)),s=u(n(42)),c=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendEmail=function(e,t,n,s){var c=r.default.extractResponder(arguments),u=!!c,l={};if(!e||r.default.isEmpty(e)||!r.default.isString(e))throw new Error("Subject is required parameter and must be a nonempty string");if(l.subject=e,!(t instanceof a.default)||r.default.isEmpty(t))throw new Error("Use Bodyparts as bodyParts argument, must contain at least one property");if(l.bodyparts=t,!n||!r.default.isArray(n)||r.default.isEmpty(n))throw new Error("Recipients is required parameter, must be a nonempty array");return l.to=n,s&&r.default.isArray(s)&&(r.default.isEmpty(s)||(l.attachment=s)),o.default.post({url:i.default.messagingEmail(),isAsync:u,asyncHandler:r.default.wrapAsync(c,(function(e){return e.status})),data:l})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(43));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendEmailFromTemplate=function(e,t,n){var s=r.default.extractResponder(arguments),c=!!s;if("string"!=typeof e||!e)throw new Error("Template name is required and must be a string");if(!(t instanceof a.default))throw new Error("EmailEnvelope is required and should be instance of Backendless.Messaging.EmailEnvelope");var u=t.toJSON();return u["template-name"]=e,n&&(u["template-values"]=n),o.default.post({url:i.default.emailTemplateSend(),isAsync:c,asyncHandler:s,data:u})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushWithTemplate=function(e){var t=r.default.extractResponder(arguments),n=!!t;if(!e||!r.default.isString(e))throw new Error("Push Template Name must be non empty string!");return o.default.post({url:i.default.messagingPushWithTemplate(e),isAsync:n,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancel=function(e,t){return i.default.delete({url:r.default.messagingMessage(e),isAsync:!!t,asyncHandler:new o.default})};var r=a(n(1)),i=a(n(2)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.registerDevice=function(e,t,n,s){var c=o.default.required();s=r.default.extractResponder(arguments);var u={deviceToken:e,deviceId:c.uuid,os:c.platform,osVersion:c.version};return r.default.isArray(t)&&(u.channels=t),(r.default.isNumber(n)||n instanceof Date)&&(u.expiration=n instanceof Date?n.getTime()/1e3:n),a.default.post({url:i.default.messagingRegistrations(),data:u,isAsync:!!s,asyncHandler:s})};var r=s(n(0)),i=s(n(1)),o=s(n(14)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterDevice=function(e){var t=i.default.required();return o.default.delete({url:r.default.messagingRegistrationDevice(t.uuid),isAsync:!!e,asyncHandler:e})};var r=a(n(1)),i=a(n(14)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getRegistrations=function(e){var t=i.default.required();return o.default.get({url:r.default.messagingRegistrationDevice(t.uuid),isAsync:!!e,asyncHandler:e})};var r=a(n(1)),i=a(n(14)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageStatus=function(e,t){if(!e)throw Error("Message ID is required.");return i.default.get({url:r.default.messagingMessage(e),isAsync:!!t,asyncHandler:t})};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPushTemplates=function(e,t){return i.default.get({url:r.default.messagingPushTemplates(e),isAsync:!!t,asyncHandler:t})};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S;Object.defineProperty(t,"__esModule",{value:!0});var E=D(n(0)),x=n(4),T=D(n(139)),O=n(142),C=n(143),A=n(144),M=n(145),R=n(146),B=n(147),P=n(148),I=n(149),L=n(150),N=n(151);function D(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var F=(r=(0,x.deprecated)("Backendless.Files","Backendless.Files.saveFile"),i=(0,x.deprecated)("Backendless.Files","Backendless.Files.upload"),o=(0,x.deprecated)("Backendless.Files","Backendless.Files.listing"),a=(0,x.deprecated)("Backendless.Files","Backendless.Files.renameFile"),s=(0,x.deprecated)("Backendless.Files","Backendless.Files.moveFile"),c=(0,x.deprecated)("Backendless.Files","Backendless.Files.copyFile"),u=(0,x.deprecated)("Backendless.Files","Backendless.Files.remove"),l=(0,x.deprecated)("Backendless.Files","Backendless.Files.exists"),d=(0,x.deprecated)("Backendless.Files","Backendless.Files.removeDirectory"),f=(0,x.deprecated)("Backendless.Files","Backendless.Files.getFileCount"),j(p={Permissions:T.default,saveFileSync:E.default.synchronized(O.saveFile),saveFile:E.default.promisified(O.saveFile),uploadSync:E.default.synchronized(C.upload),upload:E.default.promisified(C.upload),listingSync:E.default.synchronized(A.listing),listing:E.default.promisified(A.listing),renameFileSync:E.default.synchronized(M.renameFile),renameFile:E.default.promisified(M.renameFile),moveFileSync:E.default.synchronized(R.moveFile),moveFile:E.default.promisified(R.moveFile),copyFileSync:E.default.synchronized(P.copyFile),copyFile:E.default.promisified(P.copyFile),removeSync:E.default.synchronized(B.remove),remove:E.default.promisified(B.remove),existsSync:E.default.synchronized(I.exists),exists:E.default.promisified(I.exists),removeDirectorySync:E.default.synchronized(L.removeDirectory),removeDirectory:E.default.promisified(L.removeDirectory),getFileCountSync:E.default.synchronized(N.getFileCount),getFileCount:E.default.promisified(N.getFileCount)},"saveFileSync",[r],(h=(h=Object.getOwnPropertyDescriptor(p,"saveFileSync"))?h.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return h}}),p),j(p,"uploadSync",[i],(m=(m=Object.getOwnPropertyDescriptor(p,"uploadSync"))?m.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return m}}),p),j(p,"listingSync",[o],(g=(g=Object.getOwnPropertyDescriptor(p,"listingSync"))?g.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return g}}),p),j(p,"renameFileSync",[a],(v=(v=Object.getOwnPropertyDescriptor(p,"renameFileSync"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),p),j(p,"moveFileSync",[s],(y=(y=Object.getOwnPropertyDescriptor(p,"moveFileSync"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),p),j(p,"copyFileSync",[c],(b=(b=Object.getOwnPropertyDescriptor(p,"copyFileSync"))?b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return b}}),p),j(p,"removeSync",[u],(_=(_=Object.getOwnPropertyDescriptor(p,"removeSync"))?_.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return _}}),p),j(p,"existsSync",[l],(k=(k=Object.getOwnPropertyDescriptor(p,"existsSync"))?k.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return k}}),p),j(p,"removeDirectorySync",[d],(w=(w=Object.getOwnPropertyDescriptor(p,"removeDirectorySync"))?w.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return w}}),p),j(p,"getFileCountSync",[f],(S=(S=Object.getOwnPropertyDescriptor(p,"getFileCountSync"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),p),p);t.default=F},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(140),o=(r=i)&&r.__esModule?r:{default:r},a={READ:new o.default("READ"),DELETE:new o.default("DELETE"),WRITE:new o.default("WRITE")};t.default=a},function(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var C,A=n(0),M=(C=A)&&C.__esModule?C:{default:C},R=n(4),B=n(141);function P(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function I(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var L={GRANT:"GRANT",DENY:"DENY"};function N(e,t,n){return(0,B.sendRequest)(this.permission,L.GRANT,t,{userId:e},n)}function D(e,t,n){return(0,B.sendRequest)(this.permission,L.DENY,t,{userId:e},n)}function j(e,t,n){return(0,B.sendRequest)(this.permission,L.GRANT,t,{roleName:e},n)}function F(e,t,n){return(0,B.sendRequest)(this.permission,L.DENY,t,{roleName:e},n)}function U(e,t){return(0,B.sendRequest)(this.permission,L.GRANT,e,{userId:"*"},t)}function z(e,t){return(0,B.sendRequest)(this.permission,L.DENY,e,{userId:"*"},t)}function $(e,t){return(0,B.sendRequest)(this.permission,L.GRANT,e,{roleName:"*"},t)}function H(e,t){return(0,B.sendRequest)(this.permission,L.DENY,e,{roleName:"*"},t)}var W="Backendless.Files.Permissions.{READ|DELETE|WRITE}",G=(r=(0,R.deprecated)(W,W+".grantForUser"),i=(0,R.deprecated)(W,W+".grantForUser"),o=(0,R.deprecated)(W,W+".denyForUser"),a=(0,R.deprecated)(W,W+".denyForUser"),s=(0,R.deprecated)(W,W+".grantForRole"),c=(0,R.deprecated)(W,W+".grantForRole"),u=(0,R.deprecated)(W,W+".denyForRole"),l=(0,R.deprecated)(W,W+".denyForRole"),d=(0,R.deprecated)(W,W+".grantForAllUsers"),f=(0,R.deprecated)(W,W+".grantForAllUsers"),p=(0,R.deprecated)(W,W+".denyForAllUsers"),h=(0,R.deprecated)(W,W+".denyForAllUsers"),g=I((m=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"grantUserSync",g,this),P(this,"grantUser",v,this),P(this,"denyUserSync",y,this),P(this,"denyUser",b,this),P(this,"grantRoleSync",_,this),P(this,"grantRole",k,this),P(this,"denyRoleSync",w,this),P(this,"denyRole",S,this),P(this,"grantSync",E,this),P(this,"grant",x,this),P(this,"denySync",T,this),P(this,"deny",O,this),this.grantForUser=M.default.promisified(N),this.denyForUser=M.default.promisified(D),this.grantForRole=M.default.promisified(j),this.denyForRole=M.default.promisified(F),this.grantForAllUsers=M.default.promisified(U),this.denyForAllUsers=M.default.promisified(z),this.grantForAllRoles=M.default.promisified($),this.denyForAllRoles=M.default.promisified(H),this.permission=t}).prototype,"grantUserSync",[r],{enumerable:!0,initializer:function(){return M.default.synchronized(N)}}),v=I(m.prototype,"grantUser",[i],{enumerable:!0,initializer:function(){return M.default.promisified(N)}}),y=I(m.prototype,"denyUserSync",[o],{enumerable:!0,initializer:function(){return M.default.synchronized(D)}}),b=I(m.prototype,"denyUser",[a],{enumerable:!0,initializer:function(){return M.default.promisified(D)}}),_=I(m.prototype,"grantRoleSync",[s],{enumerable:!0,initializer:function(){return M.default.synchronized(j)}}),k=I(m.prototype,"grantRole",[c],{enumerable:!0,initializer:function(){return M.default.promisified(j)}}),w=I(m.prototype,"denyRoleSync",[u],{enumerable:!0,initializer:function(){return M.default.synchronized(F)}}),S=I(m.prototype,"denyRole",[l],{enumerable:!0,initializer:function(){return M.default.promisified(F)}}),E=I(m.prototype,"grantSync",[d],{enumerable:!0,initializer:function(){return M.default.synchronized(U)}}),x=I(m.prototype,"grant",[f],{enumerable:!0,initializer:function(){return M.default.promisified(U)}}),T=I(m.prototype,"denySync",[p],{enumerable:!0,initializer:function(){return M.default.synchronized(z)}}),O=I(m.prototype,"deny",[h],{enumerable:!0,initializer:function(){return M.default.promisified(z)}}),m);t.default=G},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=function(e,t,n,o,a){var s=o.userId,c=o.roleName,u={permission:e};return s?u.user=s:c&&(u.role=c),i.default.put({url:r.default.filePermission(t,n),data:u,isAsync:!!a,asyncHandler:a})};var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.saveFile=function(e,t,n,a,l){if(!e||!r.default.isString(e))throw new Error('Missing value for the "path" argument. The argument must contain a string value');if(!t||!r.default.isString(t))throw new Error('Missing value for the "fileName" argument. The argument must contain a string value');if(a instanceof i.default&&(l=a,a=void 0),n=c(n),u(n)>s)throw new Error("File Content size must be less than "+s+" bytes");return(0,o.sendFile)({overwrite:a,path:e,fileName:t,file:n,asyncHandler:l})};var r=a(n(0)),i=a(n(3)),o=n(45);function a(e){return e&&e.__esModule?e:{default:e}}var s=28e5,c=function(e){if("undefined"!=typeof Blob)Array.isArray(e)||(e=[e]),e=new Blob(e);else if(void 0!==Buffer){var t=Buffer.from(e);e={value:t,options:{filename:"blob",knownLength:t.byteLength,contentType:"application/octet-stream"}}}return e},u=function(e){return e.size?e.size:e.options&&e.options.knownLength}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.upload=function(e,t,n,r){var i=s(e);if(!i)throw new Error("Wrong type of the file source object. Can not get file name");return n instanceof o.default&&(r=n,n=void 0),(0,a.sendFile)({overwrite:n,path:t,fileName:i,file:e,asyncHandler:r})};var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r},a=n(45),s=function(e){if(e.name)return e.name;if(e.path){var t=e.path.split("/");return t[t.length-1]}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.listing=function(e,t,n,s,c,u){c instanceof o.default?(u=c,c=void 0):s instanceof o.default?(u=s,s=void 0,c=void 0):n instanceof o.default?(u=n,n=void 0,s=void 0,c=void 0):t instanceof o.default&&(u=t,t=void 0,n=void 0,s=void 0,c=void 0);var l={};return r.default.isString(t)&&(l.pattern=t),r.default.isBoolean(n)&&(l.sub=n),r.default.isNumber(s)&&(l.pagesize=s),r.default.isNumber(c)&&(l.offset=c),a.default.get({url:i.default.filePath(e),query:l,isAsync:!!u,asyncHandler:u})};var r=s(n(0)),i=s(n(1)),o=s(n(3)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.renameFile=function(e,t,n){if(!e||!r.default.isString(e))throw new Error('Old File "path" must not be empty and must be String');if(!t||!r.default.isString(t))throw new Error('New File "path" must not be empty and must be String');var s={oldPathName:a.default.ensureSlashInPath(e),newName:t};return o.default.put({url:i.default.fileRename(),data:s,isAsync:!!n,asyncHandler:n})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(26));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveFile=function(e,t,n){var a={sourcePath:o.default.ensureSlashInPath(e),targetPath:o.default.ensureSlashInPath(t)};return i.default.put({url:r.default.fileMove(),data:a,isAsync:!!n,asyncHandler:n})};var r=a(n(1)),i=a(n(2)),o=a(n(26));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=function(e,t){if(!e||!r.default.isString(e))throw new Error('File "path" must not be empty and must be String');return o.default.delete({url:s(e)?e:i.default.filePath(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return e.startsWith("http://")||e.startsWith("https://")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.copyFile=function(e,t,n){var a={sourcePath:o.default.ensureSlashInPath(e),targetPath:o.default.ensureSlashInPath(t)};return i.default.put({url:r.default.fileCopy(),data:a,isAsync:!!n,asyncHandler:n})};var r=a(n(1)),i=a(n(2)),o=a(n(26));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.exists=function(e,t){if(!e||!r.default.isString(e))throw new Error('Files "path" must not be empty and must be String');return o.default.get({url:i.default.filePath(e),query:{action:"exists"},isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.removeDirectory=function(e,t){if(!e||!r.default.isString(e))throw new Error('Directory "path" must not be empty and must be String');o.default.delete({url:i.default.filePath(e),isAsync:!!t,asyncHandler:t})};var r=a(n(0)),i=a(n(1)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getFileCount=function(e,t,n,s,c){s instanceof a.default?(c=s,s=void 0):n instanceof a.default?(c=n,n=void 0,s=void 0):t instanceof a.default&&(c=t,t=void 0,n=void 0,s=void 0);var u={action:"count",pattern:void 0!==t?t:"*",recursive:!!n,countDirectories:!!s};if(!e||!r.default.isString(e))throw new Error('Files "path" must not be empty and must be String');if(!u.pattern||!r.default.isString(u.pattern))throw new Error('Files "path" must not be empty and must be String');return o.default.get({url:i.default.filePath(e),query:u,isAsync:!!c,asyncHandler:c})};var r=s(n(0)),i=s(n(1)),o=s(n(2)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=n(0),w=(v=k)&&v.__esModule?v:{default:v},S=n(8);function E(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var x=w.default.mirrorKeys({CHANGES:null,CLEARED:null,INVOKE:null}),T=(r=(0,S.disallowInBusinessLogic)("SharedObject.addChangesListener"),i=S.RTScopeConnector.connectionRequired(),o=S.RTScopeConnector.connectionRequired(),a=(0,S.disallowInBusinessLogic)("SharedObject.addClearListener"),s=S.RTScopeConnector.connectionRequired(),c=S.RTScopeConnector.connectionRequired(),u=(0,S.disallowInBusinessLogic)("SharedObject.addCommandListener"),l=(0,S.disallowInBusinessLogic)("SharedObject.addUserStatusListener"),d=S.RTScopeConnector.connectionRequired(!0),f=S.RTScopeConnector.connectionRequired(!0),p=S.RTScopeConnector.connectionRequired(!0),h=S.RTScopeConnector.connectionRequired(!0),m=S.RTScopeConnector.connectionRequired(!0),E((g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInvoke=function(e){var t,r=e.method,i=e.args;O(n.invocationTarget,r),(t=n.invocationTarget)[r].apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))},n.invocationTarget=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"connectSubscriber",get:function(){return S.RTClient.subscriptions.connectToRSO}},{key:"usersSubscriber",get:function(){return S.RTClient.subscriptions.onRSOUserStatus}},{key:"commandSubscriber",get:function(){return S.RTClient.subscriptions.onRSOCommand}},{key:"commandSender",get:function(){return S.RTClient.methods.sendRSOCommand}}],[{key:"connect",value:function(e){return new this({name:e})}}]),_(t,[{key:"setInvocationTarget",value:function(e){(0,S.checkUsesInBusinessLogic)("SharedObject.setInvocationTarget"),this.invocationTarget=e}},{key:"subscribeOnRemoteInvokes",value:function(){var e=!1;try{(0,S.checkUsesInBusinessLogic)("Remote Invoke"),e=!0}catch(e){}e&&!this.subscribedOnRemoteInvokes&&(this.subscribedOnRemoteInvokes=!0,this.addSubscription(x.INVOKE,S.RTClient.subscriptions.onRSOInvoke,{callback:this.onInvoke}))}},{key:"onConnect",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onConnect",this).apply(this,arguments),this.subscribeOnRemoteInvokes()}},{key:"onDisconnect",value:function(){this.subscribedOnRemoteInvokes=!1,this.stopSubscription(x.INVOKE,{callback:this.onInvoke}),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onDisconnect",this).apply(this,arguments)}},{key:"addChangesListener",value:function(e,t){this.addSubscription(x.CHANGES,S.RTClient.subscriptions.onRSOChanges,{callback:e,onError:t})}},{key:"removeChangesListeners",value:function(e){this.stopSubscription(x.CHANGES,{callback:e})}},{key:"addClearListener",value:function(e,t){this.addSubscription(x.CLEARED,S.RTClient.subscriptions.onRSOClear,{callback:e,onError:t})}},{key:"removeClearListeners",value:function(e){this.stopSubscription(x.CLEARED,{callback:e})}},{key:"addCommandListener",value:function(){return b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addCommandListener",this).apply(this,arguments)}},{key:"addUserStatusListener",value:function(){return b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addUserStatusListener",this).apply(this,arguments)}},{key:"get",value:function(e){return S.RTClient.methods.getRSO(y({},this.getScopeOptions(),{key:e}))}},{key:"set",value:function(e,t){return S.RTClient.methods.setRSO(y({},this.getScopeOptions(),{key:e,data:t}))}},{key:"clear",value:function(){return S.RTClient.methods.clearRSO(this.getScopeOptions())}},{key:"invoke",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.invokeOn.apply(this,[e,void 0].concat(n))}},{key:"invokeOn",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this;return Promise.resolve().then((function(){return O(o.invocationTarget,e)})).then((function(){return S.RTClient.methods.invokeRSOMethod(y({},o.getScopeOptions(),{method:e,targets:t,args:r}))}))}}]),t}(S.RTScopeConnector)).prototype,"addChangesListener",[r,i],Object.getOwnPropertyDescriptor(g.prototype,"addChangesListener"),g.prototype),E(g.prototype,"removeChangesListeners",[o],Object.getOwnPropertyDescriptor(g.prototype,"removeChangesListeners"),g.prototype),E(g.prototype,"addClearListener",[a,s],Object.getOwnPropertyDescriptor(g.prototype,"addClearListener"),g.prototype),E(g.prototype,"removeClearListeners",[c],Object.getOwnPropertyDescriptor(g.prototype,"removeClearListeners"),g.prototype),E(g.prototype,"addCommandListener",[u],Object.getOwnPropertyDescriptor(g.prototype,"addCommandListener"),g.prototype),E(g.prototype,"addUserStatusListener",[l],Object.getOwnPropertyDescriptor(g.prototype,"addUserStatusListener"),g.prototype),E(g.prototype,"get",[d],Object.getOwnPropertyDescriptor(g.prototype,"get"),g.prototype),E(g.prototype,"set",[f],Object.getOwnPropertyDescriptor(g.prototype,"set"),g.prototype),E(g.prototype,"clear",[p],Object.getOwnPropertyDescriptor(g.prototype,"clear"),g.prototype),E(g.prototype,"invoke",[h],Object.getOwnPropertyDescriptor(g.prototype,"invoke"),g.prototype),E(g.prototype,"invokeOn",[m],Object.getOwnPropertyDescriptor(g.prototype,"invokeOn"),g.prototype),g);function O(e,t){if(!e)throw new Error('"invocationTarget" is not specified');if("function"!=typeof e[t])throw new Error('Method "'+t+'" of invocationTarget is not function')}t.default=T}])},module.exports=factory()})),Backendless$1=unwrapExports(backendless);const APP_ID="0CE45A1E-07A9-86CD-FF78-81FCFD46CD00",API_KEY="5990F07B-D5AA-70CF-FF93-AD29940B8900",API_URL="https://backendlessappcontent.com/"+APP_ID+"/"+API_KEY+"/files/userData/";let USER_ID,USER_TOKEN;state.subscribe(e=>{USER_ID=e.currentUser,USER_TOKEN=e.currentUserToken}),Backendless$1.serverURL="https://api.backendless.com",Backendless$1.initApp(APP_ID,API_KEY);const cloud={register:(e,t,n)=>{let r=new Backendless$1.User;return r.email=t,r.password=n,r.name=e,Backendless$1.UserService.register(r)},isUserLoggedIn:()=>Backendless$1.UserService.isValidLogin().then(e=>e).catch(error),login:(e,t)=>Backendless$1.UserService.login(e,t,!0),logout:()=>Backendless$1.UserService.logout().then(()=>{state.setCurrentUser(null,null,null)}).catch(error),setCloudTimestamp:()=>Backendless$1.Files.listing("userData/"+USER_ID,"data.json",!1).then(e=>{state.updateCloudTimestamp(e[0].createdOn)}),saveToCloud:()=>{let e=new Blob(["\ufeff",JSON.stringify(localStorage)],{type:"application/json"});return Backendless$1.Files.saveFile("userData/"+USER_ID,"data.json",e,!0).then(()=>(cloud.setCloudTimestamp(),!0)).catch(error)},saveFromCloud:async()=>{const e=await fetch(API_URL+USER_ID+"/data.json",{headers:{"user-token":USER_TOKEN}}),t=await e.json(),n=Object.keys(t);return new Promise(e=>{n.forEach(e=>{"Backendless"!=e&&localStorage.setItem(e,t[e])}),cloud.setCloudTimestamp().then(()=>{e(!0)})})}};function error(e){console.log(e.message),console.log(e.statusCode)}const get_title_slot_changes=e=>({}),get_title_slot_context=e=>({});function create_if_block$4(e){let t,n,r,i,o,a;const s=e[7].title,c=create_slot(s,e,e[6],get_title_slot_context),u=e[7].default,l=create_slot(u,e,e[6],null);return{c(){t=element("div"),(n=element("span")).innerHTML='<span class="lnr lnr-cross svelte-rdnwxj"></span>',r=space(),c&&c.c(),i=space(),l&&l.c(),attr(n,"class","closebtn svelte-rdnwxj"),attr(t,"class","alert svelte-rdnwxj"),toggle_class(t,"danger",e[1]),toggle_class(t,"success",e[2]),toggle_class(t,"warning",e[4]),toggle_class(t,"info",e[3]),a=listen(n,"click",e[8])},m(e,a){insert(e,t,a),append(t,n),append(t,r),c&&c.m(t,null),append(t,i),l&&l.m(t,null),o=!0},p(e,n){c&&c.p&&64&n&&c.p(get_slot_context(s,e,e[6],get_title_slot_context),get_slot_changes(s,e[6],n,get_title_slot_changes)),l&&l.p&&64&n&&l.p(get_slot_context(u,e,e[6],null),get_slot_changes(u,e[6],n,null)),2&n&&toggle_class(t,"danger",e[1]),4&n&&toggle_class(t,"success",e[2]),16&n&&toggle_class(t,"warning",e[4]),8&n&&toggle_class(t,"info",e[3])},i(e){o||(transition_in(c,e),transition_in(l,e),o=!0)},o(e){transition_out(c,e),transition_out(l,e),o=!1},d(e){e&&detach(t),c&&c.d(e),l&&l.d(e),a()}}}function create_fragment$6(e){let t,n,r=e[0]&&create_if_block$4(e);return{c(){r&&r.c(),t=empty()},m(e,i){r&&r.m(e,i),insert(e,t,i),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),transition_in(r,1)):((r=create_if_block$4(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance$5(e,t,n){let{show:r=!1}=t,{danger:i=!1}=t,{success:o=!1}=t,{info:a=!1}=t,{warning:s=!1}=t,{duration:c=1e4}=t,{$$slots:u={},$$scope:l}=t;return e.$set=e=>{"show"in e&&n(0,r=e.show),"danger"in e&&n(1,i=e.danger),"success"in e&&n(2,o=e.success),"info"in e&&n(3,a=e.info),"warning"in e&&n(4,s=e.warning),"duration"in e&&n(5,c=e.duration),"$$scope"in e&&n(6,l=e.$$scope)},e.$$.update=()=>{33&e.$$.dirty&&r&&setTimeout(()=>{n(0,r=!1)},c)},[r,i,o,a,s,c,l,u,()=>n(0,r=!1)]}class Alert extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$6,safe_not_equal,{show:0,danger:1,success:2,info:3,warning:4,duration:5})}}function create_else_block_1(e){let t;return{c(){(t=element("div")).innerHTML="<div></div> \n    <div></div> \n    <div></div> \n    <div></div>",attr(t,"class","lds-ellipsis")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block$5(e){let t,n,r,i;function o(t){e[31].call(null,t)}let a={danger:!0,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}};void 0!==e[8]&&(a.show=e[8]);const s=new Alert({props:a});function c(e,t){return e[7]?create_if_block_1$3:create_else_block$1}binding_callbacks.push(()=>bind(s,"show",o));let u=c(e),l=u(e);return{c(){create_component(s.$$.fragment),n=space(),l.c(),r=empty()},m(e,t){mount_component(s,e,t),insert(e,n,t),l.m(e,t),insert(e,r,t),i=!0},p(e,n){const i={};512&n&&(i.$$scope={dirty:n,ctx:e}),!t&&256&n&&(t=!0,i.show=e[8],add_flush_callback(()=>t=!1)),s.$set(i),u===(u=c(e))&&l?l.p(e,n):(l.d(1),(l=u(e))&&(l.c(),l.m(r.parentNode,r)))},i(e){i||(transition_in(s.$$.fragment,e),i=!0)},o(e){transition_out(s.$$.fragment,e),i=!1},d(e){destroy_component(s,e),e&&detach(n),l.d(e),e&&detach(r)}}}function create_default_slot$1(e){let t,n;return{c(){t=element("span"),n=text(e[9]),attr(t,"class","lnr lnr-warning")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){512&t&&set_data(n,e[9])},d(e){e&&detach(t)}}}function create_else_block$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L,N,D,j,F,U,z,$,H,W,G,Y,q,Z,K,X,V,J,Q,ee,te,ne,re,ie,oe,ae,se,ce,ue,le=e[21]("cloud.login.title")+"",de=e[21]("cloud.login.email")+"",fe=e[21]("cloud.login.password")+"",pe=e[21]("cloud.login.button")+"",he=e[21]("cloud.register.title")+"",me=e[21]("cloud.register.name")+"",ge=e[21]("cloud.login.email")+"",ve=e[21]("cloud.login.password")+"",ye=e[21]("cloud.register.button")+"",be=e[21]("cloud.reset.title")+"",_e=e[21]("cloud.login.email")+"",ke=e[21]("cloud.reset.button")+"";return{c(){t=element("h2"),n=text(le),r=space(),i=element("div"),o=element("label"),a=text(de),s=space(),c=element("input"),u=space(),l=element("div"),d=element("label"),f=text(fe),p=space(),h=element("input"),m=space(),g=element("div"),v=element("button"),y=element("span"),b=space(),_=text(pe),k=space(),w=element("h2"),S=text(he),E=space(),x=element("div"),T=element("label"),O=text(me),C=space(),A=element("input"),M=space(),R=element("div"),B=element("label"),P=text(ge),I=space(),L=element("input"),N=space(),D=element("div"),j=element("label"),F=text(ve),U=space(),z=element("input"),$=space(),H=element("div"),W=element("button"),G=element("span"),Y=space(),q=text(ye),Z=space(),K=element("h2"),X=text(be),V=space(),J=element("div"),Q=element("label"),ee=text(_e),te=space(),ne=element("input"),re=space(),ie=element("div"),oe=element("button"),ae=element("span"),se=space(),ce=text(ke),attr(o,"class","big"),attr(o,"for","loginUser"),attr(c,"id","loginUser"),attr(c,"type","email"),attr(c,"placeholder","john.doe@email.tld"),attr(i,"class","field"),attr(d,"class","big"),attr(d,"for","loginPass"),attr(h,"id","loginPass"),attr(h,"type","password"),attr(h,"autocomplete","off"),attr(h,"placeholder","******"),attr(l,"class","field"),attr(y,"class","lnr lnr-sync spinner"),v.disabled=e[14],toggle_class(v,"loading",e[14]),attr(g,"class","btn-group"),attr(T,"class","big"),attr(T,"for","newName"),attr(A,"id","newName"),attr(A,"type","text"),attr(A,"placeholder","John Doe"),attr(A,"autocomplete","off"),attr(x,"class","field"),attr(B,"class","big"),attr(B,"for","newUser"),attr(L,"id","newUser"),attr(L,"type","email"),attr(L,"placeholder","john.doe@email.tld"),attr(L,"autocomplete","off"),attr(R,"class","field"),attr(j,"class","big"),attr(j,"for","newPass"),attr(z,"id","newPass"),attr(z,"type","password"),attr(z,"autocomplete","off"),attr(z,"placeholder","******"),attr(D,"class","field"),attr(G,"class","lnr lnr-sync spinner"),W.disabled=e[15],toggle_class(W,"loading",e[15]),attr(H,"class","btn-group"),attr(Q,"class","big"),attr(Q,"for","resetUser"),attr(ne,"id","resetUser"),attr(ne,"type","email"),attr(ne,"placeholder","john.doe@email.tld"),attr(ne,"autocomplete","off"),attr(J,"class","field"),attr(ae,"class","lnr lnr-sync spinner"),oe.disabled=e[17],toggle_class(oe,"loading",e[17]),attr(ie,"class","btn-group"),ue=[listen(c,"input",e[32]),listen(h,"input",e[33]),listen(v,"click",e[24]),listen(A,"input",e[34]),listen(L,"input",e[35]),listen(z,"input",e[36]),listen(W,"click",e[25]),listen(ne,"input",e[37]),listen(oe,"click",e[26])]},m(ue,le){insert(ue,t,le),append(t,n),insert(ue,r,le),insert(ue,i,le),append(i,o),append(o,a),append(i,s),append(i,c),set_input_value(c,e[4]),insert(ue,u,le),insert(ue,l,le),append(l,d),append(d,f),append(l,p),append(l,h),set_input_value(h,e[5]),insert(ue,m,le),insert(ue,g,le),append(g,v),append(v,y),append(v,b),append(v,_),insert(ue,k,le),insert(ue,w,le),append(w,S),insert(ue,E,le),insert(ue,x,le),append(x,T),append(T,O),append(x,C),append(x,A),set_input_value(A,e[1]),insert(ue,M,le),insert(ue,R,le),append(R,B),append(B,P),append(R,I),append(R,L),set_input_value(L,e[2]),insert(ue,N,le),insert(ue,D,le),append(D,j),append(j,F),append(D,U),append(D,z),set_input_value(z,e[3]),insert(ue,$,le),insert(ue,H,le),append(H,W),append(W,G),append(W,Y),append(W,q),insert(ue,Z,le),insert(ue,K,le),append(K,X),insert(ue,V,le),insert(ue,J,le),append(J,Q),append(Q,ee),append(J,te),append(J,ne),set_input_value(ne,e[6]),insert(ue,re,le),insert(ue,ie,le),append(ie,oe),append(oe,ae),append(oe,se),append(oe,ce)},p(e,t){2097152&t&&le!==(le=e[21]("cloud.login.title")+"")&&set_data(n,le),2097152&t&&de!==(de=e[21]("cloud.login.email")+"")&&set_data(a,de),16&t&&c.value!==e[4]&&set_input_value(c,e[4]),2097152&t&&fe!==(fe=e[21]("cloud.login.password")+"")&&set_data(f,fe),32&t&&h.value!==e[5]&&set_input_value(h,e[5]),2097152&t&&pe!==(pe=e[21]("cloud.login.button")+"")&&set_data(_,pe),16384&t&&(v.disabled=e[14]),16384&t&&toggle_class(v,"loading",e[14]),2097152&t&&he!==(he=e[21]("cloud.register.title")+"")&&set_data(S,he),2097152&t&&me!==(me=e[21]("cloud.register.name")+"")&&set_data(O,me),2&t&&A.value!==e[1]&&set_input_value(A,e[1]),2097152&t&&ge!==(ge=e[21]("cloud.login.email")+"")&&set_data(P,ge),4&t&&L.value!==e[2]&&set_input_value(L,e[2]),2097152&t&&ve!==(ve=e[21]("cloud.login.password")+"")&&set_data(F,ve),8&t&&z.value!==e[3]&&set_input_value(z,e[3]),2097152&t&&ye!==(ye=e[21]("cloud.register.button")+"")&&set_data(q,ye),32768&t&&(W.disabled=e[15]),32768&t&&toggle_class(W,"loading",e[15]),2097152&t&&be!==(be=e[21]("cloud.reset.title")+"")&&set_data(X,be),2097152&t&&_e!==(_e=e[21]("cloud.login.email")+"")&&set_data(ee,_e),64&t&&ne.value!==e[6]&&set_input_value(ne,e[6]),2097152&t&&ke!==(ke=e[21]("cloud.reset.button")+"")&&set_data(ce,ke),131072&t&&(oe.disabled=e[17]),131072&t&&toggle_class(oe,"loading",e[17])},d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(u),e&&detach(l),e&&detach(m),e&&detach(g),e&&detach(k),e&&detach(w),e&&detach(E),e&&detach(x),e&&detach(M),e&&detach(R),e&&detach(N),e&&detach(D),e&&detach($),e&&detach(H),e&&detach(Z),e&&detach(K),e&&detach(V),e&&detach(J),e&&detach(re),e&&detach(ie),run_all(ue)}}}function create_if_block_1$3(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L,N,D,j,F,U,z,$,H,W=e[21]("cloud.account.title")+"",G=e[21]("cloud.account.connectedAccount")+"",Y=e[19].currentUserEmail+"",q=e[21]("cloud.account.logout")+"",Z=e[21]("cloud.cloud.title")+"",K=e[21]("cloud.cloud.localDataFrom")+"",X=e[21]("cloud.cloud.cloudDataFrom")+"",V=e[21]("cloud.cloud.export")+"",J=e[21]("cloud.cloud.import")+"";return{c(){t=element("h2"),n=text(W),r=space(),i=element("div"),o=element("label"),a=text(G),s=space(),c=text(Y),u=space(),l=element("div"),d=element("button"),f=element("span"),p=space(),h=text(q),m=space(),g=element("h2"),v=text(Z),y=space(),b=element("div"),_=element("label"),k=text(K),w=space(),S=element("span"),E=text(e[20]),x=space(),T=element("div"),O=element("label"),C=text(X),A=space(),M=element("span"),R=text(e[18]),B=space(),P=element("div"),I=element("button"),L=element("span"),N=space(),D=text(V),j=space(),F=element("button"),U=element("span"),z=space(),$=text(J),attr(o,"class","big"),attr(o,"for","editChapterInput"),attr(i,"class","field"),attr(f,"class","lnr lnr-sync spinner"),d.disabled=e[16],toggle_class(d,"loading",e[16]),attr(l,"class","btn-group"),attr(_,"class","big"),attr(_,"for","localDataFrom"),attr(S,"id","localDataFrom"),attr(b,"class","field"),attr(O,"class","big"),attr(O,"for","newName"),attr(M,"id","localDataFrom"),attr(T,"class","field"),attr(L,"class","lnr lnr-sync spinner"),I.disabled=e[12],toggle_class(I,"loading",e[12]),attr(U,"class","lnr lnr-sync spinner"),F.disabled=e[13],toggle_class(F,"loading",e[13]),attr(P,"class","btn-group"),H=[listen(d,"click",e[27]),listen(I,"click",e[22]),listen(F,"click",e[23])]},m(e,H){insert(e,t,H),append(t,n),insert(e,r,H),insert(e,i,H),append(i,o),append(o,a),append(i,s),append(i,c),insert(e,u,H),insert(e,l,H),append(l,d),append(d,f),append(d,p),append(d,h),insert(e,m,H),insert(e,g,H),append(g,v),insert(e,y,H),insert(e,b,H),append(b,_),append(_,k),append(b,w),append(b,S),append(S,E),insert(e,x,H),insert(e,T,H),append(T,O),append(O,C),append(T,A),append(T,M),append(M,R),insert(e,B,H),insert(e,P,H),append(P,I),append(I,L),append(I,N),append(I,D),append(P,j),append(P,F),append(F,U),append(F,z),append(F,$)},p(e,t){2097152&t&&W!==(W=e[21]("cloud.account.title")+"")&&set_data(n,W),2097152&t&&G!==(G=e[21]("cloud.account.connectedAccount")+"")&&set_data(a,G),524288&t&&Y!==(Y=e[19].currentUserEmail+"")&&set_data(c,Y),2097152&t&&q!==(q=e[21]("cloud.account.logout")+"")&&set_data(h,q),65536&t&&(d.disabled=e[16]),65536&t&&toggle_class(d,"loading",e[16]),2097152&t&&Z!==(Z=e[21]("cloud.cloud.title")+"")&&set_data(v,Z),2097152&t&&K!==(K=e[21]("cloud.cloud.localDataFrom")+"")&&set_data(k,K),1048576&t&&set_data(E,e[20]),2097152&t&&X!==(X=e[21]("cloud.cloud.cloudDataFrom")+"")&&set_data(C,X),262144&t&&set_data(R,e[18]),2097152&t&&V!==(V=e[21]("cloud.cloud.export")+"")&&set_data(D,V),4096&t&&(I.disabled=e[12]),4096&t&&toggle_class(I,"loading",e[12]),2097152&t&&J!==(J=e[21]("cloud.cloud.import")+"")&&set_data($,J),8192&t&&(F.disabled=e[13]),8192&t&&toggle_class(F,"loading",e[13])},d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(u),e&&detach(l),e&&detach(m),e&&detach(g),e&&detach(y),e&&detach(b),e&&detach(x),e&&detach(T),e&&detach(B),e&&detach(P),run_all(H)}}}function create_fragment$7(e){let t,n,r,i,o,a;function s(t){e[30].call(null,t)}let c={text:e[11]};void 0!==e[10]&&(c.show=e[10]);const u=new Toast({props:c});binding_callbacks.push(()=>bind(u,"show",s));const l=[create_if_block$5,create_else_block_1],d=[];function f(e,t){return e[0]?0:1}return r=f(e),i=d[r]=l[r](e),{c(){create_component(u.$$.fragment),n=space(),i.c(),o=empty()},m(e,t){mount_component(u,e,t),insert(e,n,t),d[r].m(e,t),insert(e,o,t),a=!0},p(e,[n]){const a={};2048&n&&(a.text=e[11]),!t&&1024&n&&(t=!0,a.show=e[10],add_flush_callback(()=>t=!1)),u.$set(a);let s=r;(r=f(e))===s?d[r].p(e,n):(group_outros(),transition_out(d[s],1,1,()=>{d[s]=null}),check_outros(),(i=d[r])||(i=d[r]=l[r](e)).c(),transition_in(i,1),i.m(o.parentNode,o))},i(e){a||(transition_in(u.$$.fragment,e),transition_in(i),a=!0)},o(e){transition_out(u.$$.fragment,e),transition_out(i),a=!1},d(e){destroy_component(u,e),e&&detach(n),d[r].d(e),e&&detach(o)}}}function instance$6(e,t,n){let r,i;component_subscribe(e,state,e=>n(19,r=e)),component_subscribe(e,_$1,e=>n(21,i=e));let o,a,s,c,u,l,d,f,p,h,m=!1,g=!1,v=!1,y=!1,b=!1,_=!1,k=!1,w=!1,S=!1,E=!1;async function x(){n(0,m=!1),cloud.isUserLoggedIn().then(e=>{n(7,g=e),n(0,m=!0)})}return onMount(()=>{x()}),e.$$.update=()=>{524288&e.$$.dirty&&n(18,p=new Date(r.lastCloudSave).toLocaleString("en-us")),524288&e.$$.dirty&&n(20,h=new Date(r.lastLocalSave).toLocaleString("en-us"))},[m,o,a,s,c,u,l,g,v,d,y,f,b,_,k,w,S,E,p,r,h,i,function(){n(12,b=!0),cloud.saveToCloud().then(e=>{1==e&&(n(12,b=!1),n(10,y=!0),n(11,f=i("cloud.toast.savedCloud")))})},async function(){n(13,_=!0),cloud.saveFromCloud().then(e=>{1==e&&(n(13,_=!1),deskgap.reload())})},function(){n(14,k=!0),cloud.login(c,u).then(e=>{state.setCurrentUser(e.objectId,e.email,e["user-token"]),x(),n(8,v=!1),n(14,k=!1),n(10,y=!0),n(11,f=i("cloud.toast.loginSuccessful"))}).catch(e=>{n(8,v=!0),n(9,d=e.message+(e.code?" - code: "+e.code:"")),n(14,k=!1)})},function(){n(15,w=!0),cloud.register(o,a,s).then(e=>e).then(()=>{x(),n(15,w=!1),n(8,v=!0),n(9,d=i("cloud.toast.activateEmail"))}).catch(e=>{n(8,v=!0),n(9,d=e.message+(e.code?" - code: "+e.code:"")),n(15,w=!1)})},function(){n(17,E=!0),Backendless.UserService.restorePassword(l).then(()=>{n(8,v=!0),n(9,d=i("cloud.toast.resetPassword")),n(17,E=!1)}).catch(e=>{n(8,v=!0),n(9,d=e.message+(e.code?" - code: "+e.code:"")),n(17,E=!1)})},function(){n(16,S=!0),cloud.logout().then(()=>{x(),n(16,S=!1)})},void 0,x,function(e){n(10,y=e)},function(e){n(8,v=e)},function(){c=this.value,n(4,c)},function(){u=this.value,n(5,u)},function(){o=this.value,n(1,o)},function(){a=this.value,n(2,a)},function(){s=this.value,n(3,s)},function(){l=this.value,n(6,l)}]}class Cloud extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$7,safe_not_equal,{})}}function create_else_block_1$1(e){let t,n,r,i,o,a,s=e[3]("install.back")+"";return{c(){t=element("div"),n=element("div"),r=element("span"),i=space(),o=text(s),attr(r,"class","lnr lnr-arrow-left-circle"),attr(t,"class","grid"),a=listen(n,"click",e[14])},m(e,a){insert(e,t,a),append(t,n),append(n,r),append(n,i),append(n,o)},p(e,t){8&t&&s!==(s=e[3]("install.back")+"")&&set_data(o,s)},d(e){e&&detach(t),a()}}}function create_if_block_1$4(e){let t,n,r,i,o,a,s,c,u,l,d,f,p=e[3]("install.language")+"",h=e[3]("settings.appereance.language.en")+"",m=e[3]("settings.appereance.language.de")+"";function g(e,t){return e[2]?create_if_block_2$1:create_else_block$2}let v=g(e),y=v(e);return{c(){t=element("h3"),n=text(p),r=space(),i=element("div"),o=element("select"),a=element("option"),s=text(h),c=element("option"),u=text(m),l=space(),y.c(),d=empty(),a.__value="en",a.value=a.__value,c.__value="de",c.value=c.__value,attr(o,"id","language"),attr(o,"class","svelte-14a84xk"),void 0===e[4].language&&add_render_callback(()=>e[9].call(o)),attr(i,"class","field"),f=listen(o,"change",e[9])},m(f,p){insert(f,t,p),append(t,n),insert(f,r,p),insert(f,i,p),append(i,o),append(o,a),append(a,s),append(o,c),append(c,u),select_option(o,e[4].language),insert(f,l,p),y.m(f,p),insert(f,d,p)},p(e,t){8&t&&p!==(p=e[3]("install.language")+"")&&set_data(n,p),8&t&&h!==(h=e[3]("settings.appereance.language.en")+"")&&set_data(s,h),8&t&&m!==(m=e[3]("settings.appereance.language.de")+"")&&set_data(u,m),16&t&&select_option(o,e[4].language),v===(v=g(e))&&y?y.p(e,t):(y.d(1),(y=v(e))&&(y.c(),y.m(d.parentNode,d)))},d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(l),y.d(e),e&&detach(d),f()}}}function create_else_block$2(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v=e[3]("install.start")+"",y=e[3]("install.cloud")+"",b=!e[1]&&create_if_block_3(e);return{c(){b&&b.c(),t=space(),n=element("div"),r=element("div"),i=element("span"),o=space(),a=element("br"),s=space(),c=text(v),u=space(),l=element("div"),d=element("span"),f=space(),p=element("br"),h=space(),m=text(y),attr(i,"class","lnr lnr-rocket installIcon svelte-14a84xk"),attr(d,"class","lnr lnr-cloud installIcon svelte-14a84xk"),attr(n,"class","grid"),g=[listen(r,"click",e[12]),listen(l,"click",e[13])]},m(e,g){b&&b.m(e,g),insert(e,t,g),insert(e,n,g),append(n,r),append(r,i),append(r,o),append(r,a),append(r,s),append(r,c),append(n,u),append(n,l),append(l,d),append(l,f),append(l,p),append(l,h),append(l,m)},p(e,n){e[1]?b&&(b.d(1),b=null):b?b.p(e,n):((b=create_if_block_3(e)).c(),b.m(t.parentNode,t)),8&n&&v!==(v=e[3]("install.start")+"")&&set_data(c,v),8&n&&y!==(y=e[3]("install.cloud")+"")&&set_data(m,y)},d(e){b&&b.d(e),e&&detach(t),e&&detach(n),run_all(g)}}}function create_if_block_2$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I=e[3]("install.requirements.title")+"",L=e[3]("install.requirements.internet")+"",N=e[3]("install.requirements.browser")+"",D=e[3]("install.requirements.serviceWorker")+"",j=e[3]("install.install.install")+"",F=e[3]("install.install.browser")+"";return{c(){t=element("h3"),n=text(I),r=space(),i=element("p"),o=element("span"),a=space(),s=text(L),c=space(),u=element("p"),l=element("span"),d=space(),f=text(N),p=space(),h=element("p"),m=element("span"),g=space(),v=text(D),y=space(),b=element("div"),_=element("div"),k=element("span"),w=space(),S=element("br"),E=space(),x=text(j),T=space(),O=element("div"),C=element("span"),A=space(),M=element("br"),R=space(),B=text(F),attr(o,"class","lnr"),toggle_class(o,"lnr-checkmark-circle",e[6].steps.internet),toggle_class(o,"lnr-question-circle",!e[6].steps.internet),attr(l,"class","lnr"),toggle_class(l,"lnr-checkmark-circle",e[6].steps.browser),toggle_class(l,"lnr-cross-circle",!e[6].steps.browser),attr(m,"class","lnr"),toggle_class(m,"lnr-checkmark-circle",e[6].steps.serviceWorker),toggle_class(m,"lnr-question-circle",!e[6].steps.serviceWorker),attr(k,"class","lnr lnr-download installIcon svelte-14a84xk"),attr(C,"class","lnr lnr-cloud installIcon svelte-14a84xk"),attr(b,"class","grid"),P=[listen(_,"click",e[7]),listen(O,"click",e[10])]},m(e,P){insert(e,t,P),append(t,n),insert(e,r,P),insert(e,i,P),append(i,o),append(i,a),append(i,s),insert(e,c,P),insert(e,u,P),append(u,l),append(u,d),append(u,f),insert(e,p,P),insert(e,h,P),append(h,m),append(h,g),append(h,v),insert(e,y,P),insert(e,b,P),append(b,_),append(_,k),append(_,w),append(_,S),append(_,E),append(_,x),append(b,T),append(b,O),append(O,C),append(O,A),append(O,M),append(O,R),append(O,B)},p(e,t){8&t&&I!==(I=e[3]("install.requirements.title")+"")&&set_data(n,I),64&t&&toggle_class(o,"lnr-checkmark-circle",e[6].steps.internet),64&t&&toggle_class(o,"lnr-question-circle",!e[6].steps.internet),8&t&&L!==(L=e[3]("install.requirements.internet")+"")&&set_data(s,L),64&t&&toggle_class(l,"lnr-checkmark-circle",e[6].steps.browser),64&t&&toggle_class(l,"lnr-cross-circle",!e[6].steps.browser),8&t&&N!==(N=e[3]("install.requirements.browser")+"")&&set_data(f,N),64&t&&toggle_class(m,"lnr-checkmark-circle",e[6].steps.serviceWorker),64&t&&toggle_class(m,"lnr-question-circle",!e[6].steps.serviceWorker),8&t&&D!==(D=e[3]("install.requirements.serviceWorker")+"")&&set_data(v,D),8&t&&j!==(j=e[3]("install.install.install")+"")&&set_data(x,j),8&t&&F!==(F=e[3]("install.install.browser")+"")&&set_data(B,F)},d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(c),e&&detach(u),e&&detach(p),e&&detach(h),e&&detach(y),e&&detach(b),run_all(P)}}}function create_if_block_3(e){let t,n,r,i,o,a,s=e[3]("install.back")+"";return{c(){t=element("div"),n=element("div"),r=element("span"),i=space(),o=text(s),attr(r,"class","lnr lnr-arrow-left-circle"),attr(t,"class","grid"),a=listen(n,"click",e[11])},m(e,a){insert(e,t,a),append(t,n),append(n,r),append(n,i),append(n,o)},p(e,t){8&t&&s!==(s=e[3]("install.back")+"")&&set_data(o,s)},d(e){e&&detach(t),a()}}}function create_if_block$6(e){let t;const n=new Cloud({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_fragment$8(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v;function y(e,t){return"none"==e[0]?create_if_block_1$4:create_else_block_1$1}let b=y(e),_=b(e),k="cloud"==e[0]&&create_if_block$6();return{c(){t=element("div"),n=element("div"),r=element("span"),i=space(),o=element("span"),a=space(),s=element("div"),c=element("img"),l=space(),(d=element("h1")).textContent="OmniaWrite",f=space(),p=element("hr"),h=space(),_.c(),m=space(),k&&k.c(),attr(r,"class","lnr lnr-cross control svelte-14a84xk"),attr(r,"data-deskgap-no-drag",""),attr(o,"class","lnr lnr-chevron-down control svelte-14a84xk"),attr(o,"data-deskgap-no-drag",""),attr(n,"class","installHeader svelte-14a84xk"),attr(n,"data-deskgap-drag",""),toggle_class(n,"show",deskgap.isRunning()),c.src!==(u="logo.png")&&attr(c,"src","logo.png"),attr(c,"alt","OmniaWrite Logo"),attr(s,"class","install svelte-14a84xk"),attr(t,"class","overlay svelte-14a84xk"),v=[listen(r,"click",deskgap.closeWindow),listen(o,"click",deskgap.minimizeWindow)]},m(e,u){insert(e,t,u),append(t,n),append(n,r),append(n,i),append(n,o),append(t,a),append(t,s),append(s,c),append(s,l),append(s,d),append(s,f),append(s,p),append(s,h),_.m(s,null),append(s,m),k&&k.m(s,null),g=!0},p(e,[t]){0&t&&toggle_class(n,"show",deskgap.isRunning()),b===(b=y(e))&&_?_.p(e,t):(_.d(1),(_=b(e))&&(_.c(),_.m(s,m))),"cloud"==e[0]?k?transition_in(k,1):((k=create_if_block$6()).c(),transition_in(k,1),k.m(s,null)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros())},i(e){g||(transition_in(k),g=!0)},o(e){transition_out(k),g=!1},d(e){e&&detach(t),_.d(),k&&k.d(),run_all(v)}}}function instance$7(e,t,n){let r,i,o;component_subscribe(e,_$1,e=>n(3,r=e)),component_subscribe(e,settings,e=>n(4,i=e)),component_subscribe(e,intern,e=>n(5,o=e));let a="none",s=checkRequirements(),c=!1,u=!1,l=!1;onMount(()=>{window.deferredPrompt={},window.addEventListener("beforeinstallprompt",e=>{u=n(2,l=!0),e.preventDefault(),window.deferredPrompt=e}),(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)&&(u=n(2,l=!1)),window.addEventListener("appinstalled",e=>{console.log("success app install!")})});return[a,c,l,r,i,o,s,function(e){window.deferredPrompt.prompt(),window.deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?(n(2,l=!1),n(1,c=!0)):console.log("User dismissed the prompt"),window.deferredPrompt=null})},u,function(){i.language=select_value(this),settings.set(i)},()=>n(2,l=!1),()=>n(2,l=!0),()=>set_store_value(intern,o.installed=!0,o),()=>n(0,a="cloud"),()=>n(0,a="none")]}class Install extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$8,safe_not_equal,{})}}function create_header_slot$1(e){let t;return{c(){(t=element("h2")).textContent="New project",attr(t,"slot","header")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_default_slot$2(e){let t,n,r,i,o,a,s,c;return{c(){t=space(),(n=element("div")).innerHTML='<label for="createProjectInput">Title:</label> \n    <input id="createProjectInput" autocomplete="off" placeholder="enter your title">',r=space(),i=element("hr"),o=space(),a=element("div"),(s=element("button")).textContent="Create!",attr(n,"class","field"),attr(a,"class","btn-group"),c=listen(s,"click",e[1])},m(e,c){insert(e,t,c),insert(e,n,c),insert(e,r,c),insert(e,i,c),insert(e,o,c),insert(e,a,c),append(a,s)},p:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r),e&&detach(i),e&&detach(o),e&&detach(a),c()}}}function create_fragment$9(e){let t,n;function r(t){e[3].call(null,t)}let i={$$slots:{default:[create_default_slot$2],header:[create_header_slot$1]},$$scope:{ctx:e}};void 0!==e[0]&&(i.show=e[0]);const o=new Modal({props:i});return binding_callbacks.push(()=>bind(o,"show",r)),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),n=!0},p(e,[n]){const r={};16&n&&(r.$$scope={dirty:n,ctx:e}),!t&&1&n&&(t=!0,r.show=e[0],add_flush_callback(()=>t=!1)),o.$set(r)},i(e){n||(transition_in(o.$$.fragment,e),n=!0)},o(e){transition_out(o.$$.fragment,e),n=!1},d(e){destroy_component(o,e)}}}function instance$8(e,t,n){const r=createEventDispatcher();let{showCreateProject:i}=t;return e.$set=e=>{"showCreateProject"in e&&n(0,i=e.showCreateProject)},[i,function(){let e=projects.createProject(document.getElementById("createProjectInput").value);n(0,i=!1),r("changeProject",{project:e})},r,function(e){n(0,i=e)}]}class CreateProject extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$9,safe_not_equal,{showCreateProject:0})}}var moment=createCommonjsModule((function(e,t){e.exports=function(){var t,n;function r(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Bt(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=p(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=f(NaN);return null!=e?d(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function v(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)a(i=t[r=g[n]])||(e[r]=i);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&a++;return a+o}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,O={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),O[e]||(E(t),O[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,r=d({},e);for(n in t)l(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var B={};function P(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function I(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var N={};function D(e,t){N[e]=t}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},$={};function H(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&($[e]=i),t&&($[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&($[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=G(t,e.localeData()),z[t]=z[t]||function(e){var t,n,r,i=e.match(F);for(t=0,n=i.length;t<n;t++)$[i[t]]?i[t]=$[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=A(i[r])?i[r].call(t,e):i[r];return o}}(t),z[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var Y=/\d/,q=/\d\d/,Z=/\d{3}/,K=/\d{4}/,X=/[+-]?\d{6}/,V=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,ie=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,n){ce[e]=A(t)?t:function(e,r){return e&&n?n:t}}function le(e,t){return l(ce,e)?ce[e](t._strict,t._locale):new RegExp(function(e){return de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var fe={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)fe[e[n]]=r}function he(e,t){pe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function me(e,t,n){null!=t&&l(fe,e)&&fe[e](t,n._a,n,e)}var ge=0,ve=1,ye=2,be=3,_e=4,ke=5,we=6,Se=7,Ee=8;function xe(e){return Te(e)?366:365}function Te(e){return e%4==0&&e%100!=0||e%400==0}H("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),P("year","y"),D("year",1),ue("Y",ie),ue("YY",V,q),ue("YYYY",te,K),ue("YYYYY",ne,X),ue("YYYYYY",ne,X),pe(["YYYYY","YYYYYY"],ge),pe("YYYY",(function(e,t){t[ge]=2===e.length?r.parseTwoDigitYear(e):w(e)})),pe("YY",(function(e,t){t[ge]=r.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[ge]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Oe,Ce=Ae("FullYear",!0);function Ae(e,t){return function(n){return null!=n?(Re(this,e,n),r.updateOffset(this,t),this):Me(this,e)}}function Me(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Te(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Be(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Be(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?Te(e)?29:28:31-n%7%2}Oe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),H("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),D("month",8),ue("M",V),ue("MM",V,q),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[ve]=w(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ve]=i:p(n).invalidMonth=e}));var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ne(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Oe.call(this._shortMonthsParse,a))?i:null:-1!==(i=Oe.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Oe.call(this._shortMonthsParse,a))?i:-1!==(i=Oe.call(this._longMonthsParse,a))?i:null:-1!==(i=Oe.call(this._longMonthsParse,a))?i:-1!==(i=Oe.call(this._shortMonthsParse,a))?i:null}function De(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Be(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function je(e){return null!=e?(De(this,e),r.updateOffset(this,!0),this):Me(this,"Month")}var Fe=se,Ue=se;function ze(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=de(r[t]),i[t]=de(i[t]);for(t=0;t<24;t++)o[t]=de(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function $e(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function He(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function We(e,t,n){var r=7+t-n;return-(7+He(e,0,r).getUTCDay()-t)%7+r-1}function Ge(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+We(e,r,i);return s<=0?a=xe(o=e-1)+s:s>xe(e)?(o=e+1,a=s-xe(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ye(e,t,n){var r,i,o=We(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+qe(i=e.year()-1,t,n):a>qe(e.year(),t,n)?(r=a-qe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function qe(e,t,n){var r=We(e,t,n),i=We(e+1,t,n);return(xe(e)-r+i)/7}function Ze(e,t){return e.slice(t,7).concat(e.slice(0,t))}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),D("week",5),D("isoWeek",5),ue("w",V),ue("ww",V,q),ue("W",V),ue("WW",V,q),he(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=w(e)})),H("d",0,"do","day"),H("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),H("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),H("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),D("day",11),D("weekday",11),D("isoWeekday",11),ue("d",V),ue("e",V),ue("E",V),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),he(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e})),he(["d","e","E"],(function(e,t,n,r){t[r]=w(e)}));var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Je(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Oe.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Oe.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Oe.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Oe.call(this._weekdaysParse,a))?i:-1!==(i=Oe.call(this._shortWeekdaysParse,a))?i:-1!==(i=Oe.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Oe.call(this._shortWeekdaysParse,a))?i:-1!==(i=Oe.call(this._weekdaysParse,a))?i:-1!==(i=Oe.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Oe.call(this._minWeekdaysParse,a))?i:-1!==(i=Oe.call(this._weekdaysParse,a))?i:-1!==(i=Oe.call(this._shortWeekdaysParse,a))?i:null}var Qe=se,et=se,tt=se;function nt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],c=[],u=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),c.sort(e),u.sort(e),t=0;t<7;t++)s[t]=de(s[t]),c[t]=de(c[t]),u[t]=de(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function rt(){return this.hours()%12||12}function it(e,t){H(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ot(e,t){return t._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,rt),H("k",["kk",2],0,(function(){return this.hours()||24})),H("hmm",0,0,(function(){return""+rt.apply(this)+j(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+rt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),it("a",!0),it("A",!1),P("hour","h"),D("hour",13),ue("a",ot),ue("A",ot),ue("H",V),ue("h",V),ue("k",V),ue("HH",V,q),ue("hh",V,q),ue("kk",V,q),ue("hmm",J),ue("hmmss",Q),ue("Hmm",J),ue("Hmmss",Q),pe(["H","HH"],be),pe(["k","kk"],(function(e,t,n){var r=w(e);t[be]=24===r?0:r})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[be]=w(e),p(n).bigHour=!0})),pe("hmm",(function(e,t,n){var r=e.length-2;t[be]=w(e.substr(0,r)),t[_e]=w(e.substr(r)),p(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[be]=w(e.substr(0,r)),t[_e]=w(e.substr(r,2)),t[ke]=w(e.substr(i)),p(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var r=e.length-2;t[be]=w(e.substr(0,r)),t[_e]=w(e.substr(r))})),pe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[be]=w(e.substr(0,r)),t[_e]=w(e.substr(r,2)),t[ke]=w(e.substr(i))}));var at,st=Ae("Hours",!0),ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Le,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Ve,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},ut={},lt={};function dt(e){return e?e.toLowerCase().replace("_","-"):e}function ft(t){var n=null;if(!ut[t]&&e&&e.exports)try{n=at._abbr,commonjsRequire("./locale/"+t),pt(n)}catch(e){}return ut[t]}function pt(e,t){var n;return e&&((n=a(t)?mt(e):ht(e,t))?at=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ht(e,t){if(null!==t){var n,r=ct;if(t.abbr=e,null!=ut[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])r=ut[t.parentLocale]._config;else{if(null==(n=ft(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ut[e]=new R(M(r,t)),lt[e]&&lt[e].forEach((function(e){ht(e.name,e.config)})),pt(e),ut[e]}return delete ut[e],null}function mt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!i(e)){if(t=ft(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dt(e[o]).split("-")).length,n=(n=dt(e[o+1]))?n.split("-"):null;t>0;){if(r=ft(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return at}(e)}function gt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[ye]<1||n[ye]>Be(n[ge],n[ve])?ye:n[be]<0||n[be]>24||24===n[be]&&(0!==n[_e]||0!==n[ke]||0!==n[we])?be:n[_e]<0||n[_e]>59?_e:n[ke]<0||n[ke]>59?ke:n[we]<0||n[we]>999?we:-1,p(e)._overflowDayOfYear&&(t<ge||t>ye)&&(t=ye),p(e)._overflowWeeks&&-1===t&&(t=Se),p(e)._overflowWeekday&&-1===t&&(t=Ee),p(e).overflow=t),e}function vt(e,t,n){return null!=e?e:null!=t?t:n}function yt(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ye]&&null==e._a[ve]&&function(e){var t,n,r,i,o,a,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=vt(t.GG,e._a[ge],Ye(Pt(),1,4).year),r=vt(t.W,1),((i=vt(t.E,1))<1||i>7)&&(c=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=Ye(Pt(),o,a);n=vt(t.gg,e._a[ge],u.year),r=vt(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}r<1||r>qe(n,o,a)?p(e)._overflowWeeks=!0:null!=c?p(e)._overflowWeekday=!0:(s=Ge(n,r,i,o,a),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=vt(e._a[ge],i[ge]),(e._dayOfYear>xe(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=He(a,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[_e]&&0===e._a[ke]&&0===e._a[we]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?He:$e).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(p(e).weekdayMismatch=!0)}}var bt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],St=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Et=/^\/?Date\((\-?\d+)/i;function xt(e){var t,n,r,i,o,a,s=e._i,c=bt.exec(s)||_t.exec(s);if(c){for(p(e).iso=!0,t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(c[1])){i=wt[t][0],r=!1!==wt[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=St.length;t<n;t++)if(St[t][1].exec(c[3])){o=(c[2]||" ")+St[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!kt.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Mt(e)}else e._isValid=!1}var Tt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ot(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Ct={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function At(e){var t,n,r,i,o,a,s,c=Tt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(c){var u=(t=c[4],n=c[3],r=c[2],i=c[5],o=c[6],a=c[7],s=[Ot(t),Le.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),s);if(!function(e,t,n){return!e||Xe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],u,e))return;e._a=u,e._tzm=function(e,t,n){if(e)return Ct[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Mt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,i,o,a,s=""+e._i,c=s.length,u=0;for(i=G(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)o=i[t],(n=(s.match(le(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),$[o]?(n?p(e).empty=!1:p(e).unusedTokens.push(o),me(o,n,e)):e._strict&&!n&&p(e).unusedTokens.push(o);p(e).charsLeftOver=c-u,s.length>0&&p(e).unusedInput.push(s),e._a[be]<=12&&!0===p(e).bigHour&&e._a[be]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),yt(e),gt(e)}else At(e);else xt(e)}function Rt(e){var t=e._i,n=e._f;return e._locale=e._locale||mt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(gt(t)):(c(t)?e._d=t:i(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Mt(t),h(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||o<r)&&(r=o,n=t));d(e,n||t)}(e):n?Mt(e):function(e){var t=e._i;a(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Et.exec(e._i);null===t?(xt(e),!1===e._isValid&&(delete e._isValid,At(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),yt(e)):o(t)?function(e){if(!e._d){var t=L(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),yt(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),h(e)||(e._d=null),e))}function Bt(e,t,n,r,a){var s,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=n,c._i=e,c._f=t,c._strict=r,(s=new b(gt(Rt(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Pt(e,t,n,r){return Bt(e,t,n,r,!1)}r.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var It=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Lt=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Nt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jt(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Oe.call(Dt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Dt.length;++r)if(e[Dt[r]]){if(n)return!1;parseFloat(e[Dt[r]])!==w(e[Dt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=mt(),this._bubble()}function Ft(e){return e instanceof jt}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zt(e,t){H(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}zt("Z",":"),zt("ZZ",""),ue("Z",ae),ue("ZZ",ae),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ht(ae,e)}));var $t=/([\+\-]|\d\d)/gi;function Ht(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match($t)||["-",0,0],i=60*r[1]+w(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Wt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||c(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Pt(e).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Yt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var qt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kt(e,t){var n,r,i,o,a,c,u=e,d=null;return Ft(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(u={},t?u[t]=e:u.milliseconds=e):(d=qt.exec(e))?(n="-"===d[1]?-1:1,u={y:0,d:w(d[ye])*n,h:w(d[be])*n,m:w(d[_e])*n,s:w(d[ke])*n,ms:w(Ut(1e3*d[we]))*n}):(d=Zt.exec(e))?(n="-"===d[1]?-1:1,u={y:Xt(d[2],n),M:Xt(d[3],n),w:Xt(d[4],n),d:Xt(d[5],n),h:Xt(d[6],n),m:Xt(d[7],n),s:Xt(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Pt(u.from),a=Pt(u.to),i=o.isValid()&&a.isValid()?(a=Wt(a,o),o.isBefore(a)?c=Vt(o,a):((c=Vt(a,o)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new jt(u),Ft(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Qt(this,Kt(n="string"==typeof n?+n:n,r),e),this}}function Qt(e,t,n,i){var o=t._milliseconds,a=Ut(t._days),s=Ut(t._months);e.isValid()&&(i=null==i||i,s&&De(e,Me(e,"Month")+s*n),a&&Re(e,"Date",Me(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Kt.fn=jt.prototype,Kt.invalid=function(){return Kt(NaN)};var en=Jt(1,"add"),tn=Jt(-1,"subtract");function nn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function rn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var on=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function an(){return this._locale}var sn=1e3,cn=60*sn,un=60*cn,ln=3506328*un;function dn(e,t){return(e%t+t)%t}function fn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ln:new Date(e,t,n).valueOf()}function pn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ln:Date.UTC(e,t,n)}function hn(e,t){H(0,[e,e.length],0,t)}function mn(e,t,n,r,i){var o;return null==e?Ye(this,r,i).year:(t>(o=qe(e,r,i))&&(t=o),gn.call(this,e,t,n,r,i))}function gn(e,t,n,r,i){var o=Ge(e,t,n,r,i),a=He(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hn("gggg","weekYear"),hn("ggggg","weekYear"),hn("GGGG","isoWeekYear"),hn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),D("weekYear",1),D("isoWeekYear",1),ue("G",ie),ue("g",ie),ue("GG",V,q),ue("gg",V,q),ue("GGGG",te,K),ue("gggg",te,K),ue("GGGGG",ne,X),ue("ggggg",ne,X),he(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=w(e)})),he(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),H("Q",0,"Qo","quarter"),P("quarter","Q"),D("quarter",7),ue("Q",Y),pe("Q",(function(e,t){t[ve]=3*(w(e)-1)})),H("D",["DD",2],"Do","date"),P("date","D"),D("date",9),ue("D",V),ue("DD",V,q),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],ye),pe("Do",(function(e,t){t[ye]=w(e.match(V)[0])}));var vn=Ae("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),D("dayOfYear",4),ue("DDD",ee),ue("DDDD",Z),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=w(e)})),H("m",["mm",2],0,"minute"),P("minute","m"),D("minute",14),ue("m",V),ue("mm",V,q),pe(["m","mm"],_e);var yn=Ae("Minutes",!1);H("s",["ss",2],0,"second"),P("second","s"),D("second",15),ue("s",V),ue("ss",V,q),pe(["s","ss"],ke);var bn,_n=Ae("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),D("millisecond",16),ue("S",ee,Y),ue("SS",ee,q),ue("SSS",ee,Z),bn="SSSS";bn.length<=9;bn+="S")ue(bn,re);function kn(e,t){t[we]=w(1e3*("0."+e))}for(bn="S";bn.length<=9;bn+="S")pe(bn,kn);var wn=Ae("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Sn=b.prototype;function En(e){return e}Sn.add=en,Sn.calendar=function(e,t){var n=e||Pt(),i=Wt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Pt(n)))},Sn.clone=function(){return new b(this)},Sn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Wt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=nn(this,r)/12;break;case"month":o=nn(this,r);break;case"quarter":o=nn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:k(o)},Sn.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?pn:fn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=un-dn(t+(this._isUTC?0:this.utcOffset()*cn),un)-1;break;case"minute":t=this._d.valueOf(),t+=cn-dn(t,cn)-1;break;case"second":t=this._d.valueOf(),t+=sn-dn(t,sn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},Sn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},Sn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sn.fromNow=function(e){return this.from(Pt(),e)},Sn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sn.toNow=function(e){return this.to(Pt(),e)},Sn.get=function(e){return A(this[e=I(e)])?this[e]():this},Sn.invalidAt=function(){return p(this).overflow},Sn.isAfter=function(e,t){var n=_(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Sn.isBefore=function(e,t){var n=_(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Sn.isBetween=function(e,t,n,r){var i=_(e)?e:Pt(e),o=_(t)?t:Pt(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},Sn.isSame=function(e,t){var n,r=_(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Sn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Sn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Sn.isValid=function(){return h(this)},Sn.lang=on,Sn.locale=rn,Sn.localeData=an,Sn.max=Lt,Sn.min=It,Sn.parsingFlags=function(){return d({},p(this))},Sn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=L(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(A(this[e=I(e)]))return this[e](t);return this},Sn.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?pn:fn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=dn(t+(this._isUTC?0:this.utcOffset()*cn),un);break;case"minute":t=this._d.valueOf(),t-=dn(t,cn);break;case"second":t=this._d.valueOf(),t-=dn(t,sn)}return this._d.setTime(t),r.updateOffset(this,!0),this},Sn.subtract=tn,Sn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Sn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Sn.toDate=function(){return new Date(this.valueOf())},Sn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Sn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},Sn.toJSON=function(){return this.isValid()?this.toISOString():null},Sn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sn.unix=function(){return Math.floor(this.valueOf()/1e3)},Sn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sn.year=Ce,Sn.isLeapYear=function(){return Te(this.year())},Sn.weekYear=function(e){return mn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Sn.isoWeekYear=function(e){return mn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Sn.quarter=Sn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Sn.month=je,Sn.daysInMonth=function(){return Be(this.year(),this.month())},Sn.week=Sn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Sn.isoWeek=Sn.isoWeeks=function(e){var t=Ye(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Sn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},Sn.isoWeeksInYear=function(){return qe(this.year(),1,4)},Sn.date=vn,Sn.day=Sn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Sn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Sn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Sn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Sn.hour=Sn.hours=st,Sn.minute=Sn.minutes=yn,Sn.second=Sn.seconds=_n,Sn.millisecond=Sn.milliseconds=wn,Sn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ht(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Gt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Qt(this,Kt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Gt(this)},Sn.utc=function(e){return this.utcOffset(0,e)},Sn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},Sn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ht(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Sn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Sn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sn.isUtc=Yt,Sn.isUTC=Yt,Sn.zoneAbbr=function(){return this._isUTC?"UTC":""},Sn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sn.dates=x("dates accessor is deprecated. Use date instead.",vn),Sn.months=x("months accessor is deprecated. Use month instead",je),Sn.years=x("years accessor is deprecated. Use year instead",Ce),Sn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Sn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Rt(e))._a){var t=e._isUTC?f(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var xn=R.prototype;function Tn(e,t,n,r){var i=mt(),o=f().set(r,t);return i[n](o,e)}function On(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Tn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Tn(e,r,n,"month");return i}function Cn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i,o=mt(),a=e?o._week.dow:0;if(null!=n)return Tn(t,(n+a)%7,r,"day");var c=[];for(i=0;i<7;i++)c[i]=Tn(t,(i+a)%7,r,"day");return c}xn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r},xn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},xn.invalidDate=function(){return this._invalidDate},xn.ordinal=function(e){return this._ordinal.replace("%d",e)},xn.preparse=En,xn.postformat=En,xn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)},xn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)},xn.set=function(e){var t,n;for(n in e)A(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},xn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return Ne.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},xn.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xn.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xn.week=function(e){return Ye(e,this._week.dow,this._week.doy).week},xn.firstDayOfYear=function(){return this._week.doy},xn.firstDayOfWeek=function(){return this._week.dow},xn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ze(n,this._week.dow):e?n[e.day()]:n},xn.weekdaysMin=function(e){return!0===e?Ze(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},xn.weekdaysShort=function(e){return!0===e?Ze(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},xn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Je.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},xn.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},pt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=x("moment.lang is deprecated. Use moment.locale instead.",pt),r.langData=x("moment.langData is deprecated. Use moment.localeData instead.",mt);var An=Math.abs;function Mn(e,t,n,r){var i=Kt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Rn(e){return e<0?Math.floor(e):Math.ceil(e)}function Bn(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function In(e){return function(){return this.as(e)}}var Ln=In("ms"),Nn=In("s"),Dn=In("m"),jn=In("h"),Fn=In("d"),Un=In("w"),zn=In("M"),$n=In("Q"),Hn=In("y");function Wn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gn=Wn("milliseconds"),Yn=Wn("seconds"),qn=Wn("minutes"),Zn=Wn("hours"),Kn=Wn("days"),Xn=Wn("months"),Vn=Wn("years"),Jn=Math.round,Qn={ss:44,s:45,m:45,h:22,d:26,M:11};function er(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var tr=Math.abs;function nr(e){return(e>0)-(e<0)||+e}function rr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=tr(this._milliseconds)/1e3,r=tr(this._days),i=tr(this._months);e=k(n/60),t=k(e/60),n%=60,e%=60;var o=k(i/12),a=i%=12,s=r,c=t,u=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=nr(this._months)!==nr(d)?"-":"",h=nr(this._days)!==nr(d)?"-":"",m=nr(this._milliseconds)!==nr(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(c||u||l?"T":"")+(c?m+c+"H":"")+(u?m+u+"M":"")+(l?m+l+"S":"")}var ir=jt.prototype;return ir.isValid=function(){return this._isValid},ir.abs=function(){var e=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),e.milliseconds=An(e.milliseconds),e.seconds=An(e.seconds),e.minutes=An(e.minutes),e.hours=An(e.hours),e.months=An(e.months),e.years=An(e.years),this},ir.add=function(e,t){return Mn(this,e,t,1)},ir.subtract=function(e,t){return Mn(this,e,t,-1)},ir.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Bn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},ir.asMilliseconds=Ln,ir.asSeconds=Nn,ir.asMinutes=Dn,ir.asHours=jn,ir.asDays=Fn,ir.asWeeks=Un,ir.asMonths=zn,ir.asQuarters=$n,ir.asYears=Hn,ir.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},ir._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Rn(Pn(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=k(o/1e3),c.seconds=e%60,t=k(e/60),c.minutes=t%60,n=k(t/60),c.hours=n%24,a+=k(n/24),i=k(Bn(a)),s+=i,a-=Rn(Pn(i)),r=k(s/12),s%=12,c.days=a,c.months=s,c.years=r,this},ir.clone=function(){return Kt(this)},ir.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},ir.milliseconds=Gn,ir.seconds=Yn,ir.minutes=qn,ir.hours=Zn,ir.days=Kn,ir.weeks=function(){return k(this.days()/7)},ir.months=Xn,ir.years=Vn,ir.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Kt(e).abs(),i=Jn(r.as("s")),o=Jn(r.as("m")),a=Jn(r.as("h")),s=Jn(r.as("d")),c=Jn(r.as("M")),u=Jn(r.as("y")),l=i<=Qn.ss&&["s",i]||i<Qn.s&&["ss",i]||o<=1&&["m"]||o<Qn.m&&["mm",o]||a<=1&&["h"]||a<Qn.h&&["hh",a]||s<=1&&["d"]||s<Qn.d&&["dd",s]||c<=1&&["M"]||c<Qn.M&&["MM",c]||u<=1&&["y"]||["yy",u];return l[2]=t,l[3]=+e>0,l[4]=n,er.apply(null,l)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},ir.toISOString=rr,ir.toString=rr,ir.toJSON=rr,ir.locale=rn,ir.localeData=an,ir.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rr),ir.lang=on,H("X",0,0,"unix"),H("x",0,0,"valueOf"),ue("x",ie),ue("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),pe("x",(function(e,t,n){n._d=new Date(w(e))})),r.version="2.24.0",t=Pt,r.fn=Sn,r.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return Pt(1e3*e)},r.months=function(e,t){return On(e,t,"months")},r.isDate=c,r.locale=pt,r.invalid=m,r.duration=Kt,r.isMoment=_,r.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},r.parseZone=function(){return Pt.apply(null,arguments).parseZone()},r.localeData=mt,r.isDuration=Ft,r.monthsShort=function(e,t){return On(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},r.defineLocale=ht,r.updateLocale=function(e,t){if(null!=t){var n,r,i=ct;null!=(r=ft(e))&&(i=r._config),t=M(i,t),(n=new R(t)).parentLocale=ut[e],ut[e]=n,pt(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?ut[e]=ut[e].parentLocale:null!=ut[e]&&delete ut[e]);return ut[e]},r.locales=function(){return T(ut)},r.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(e){return void 0===e?Jn:"function"==typeof e&&(Jn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Qn[e]&&(void 0===t?Qn[e]:(Qn[e]=t,"s"===e&&(Qn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Sn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()})),de=createCommonjsModule((function(e,t){!function(e,t){t("function"==typeof commonjsRequire?moment:e.moment)}(commonjsGlobal,(function(e){function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}))}));function get_each_context$2(e,t,n){const r=e.slice();return r[17]=t[n],r}function get_each_context_1$1(e,t,n){const r=e.slice();return r[17]=t[n],r[20]=t,r[21]=n,r}function create_each_block_1$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L,N,D,j,F,U,z,$,H=e[17].title+"",W=e[7]("overview.project.title")+"",G=e[7]("overview.project.chapters")+"",Y=e[7]("overview.project.scenes")+"",q=e[7]("overview.project.words")+"",Z=e[7]("overview.project.characters")+"",K=e[7]("overview.project.save")+"";function X(){e[12].call(u,e[17])}function V(...t){return e[13](e[17],...t)}return{c(){t=element("h1"),n=text(H),r=space(),i=element("div"),o=element("label"),a=text(W),s=text(":"),c=space(),u=element("input"),l=space(),d=element("div"),f=element("label"),p=text(G),h=text(":"),m=space(),g=text(e[1]),v=space(),y=element("div"),b=element("label"),_=text(Y),k=text(":"),w=space(),S=text(e[2]),E=space(),x=element("div"),T=element("label"),O=text(q),C=text(":"),A=space(),M=text(e[3]),R=space(),B=element("div"),P=element("label"),I=text(Z),L=text(":"),N=space(),D=text(e[4]),j=space(),F=element("div"),U=element("button"),z=text(K),attr(o,"class","big"),attr(o,"for","author"),attr(u,"id","author"),attr(u,"type","text"),attr(u,"autocomplete","off"),attr(i,"class","field"),attr(f,"for","chapters"),attr(f,"class","big"),attr(d,"class","field"),attr(b,"for","scenes"),attr(b,"class","big"),attr(y,"class","field"),attr(T,"for","words"),attr(T,"class","big"),attr(x,"class","field"),attr(P,"for","chars"),attr(P,"class","big"),attr(B,"class","field"),attr(F,"class","btn-group"),$=[listen(u,"input",X),listen(U,"click",V)]},m($,H){insert($,t,H),append(t,n),insert($,r,H),insert($,i,H),append(i,o),append(o,a),append(o,s),append(i,c),append(i,u),set_input_value(u,e[17].title),insert($,l,H),insert($,d,H),append(d,f),append(f,p),append(f,h),append(d,m),append(d,g),insert($,v,H),insert($,y,H),append(y,b),append(b,_),append(b,k),append(y,w),append(y,S),insert($,E,H),insert($,x,H),append(x,T),append(T,O),append(T,C),append(x,A),append(x,M),insert($,R,H),insert($,B,H),append(B,P),append(P,I),append(P,L),append(B,N),append(B,D),insert($,j,H),insert($,F,H),append(F,U),append(U,z)},p(t,r){e=t,96&r&&H!==(H=e[17].title+"")&&set_data(n,H),128&r&&W!==(W=e[7]("overview.project.title")+"")&&set_data(a,W),96&r&&u.value!==e[17].title&&set_input_value(u,e[17].title),128&r&&G!==(G=e[7]("overview.project.chapters")+"")&&set_data(p,G),2&r&&set_data(g,e[1]),128&r&&Y!==(Y=e[7]("overview.project.scenes")+"")&&set_data(_,Y),4&r&&set_data(S,e[2]),128&r&&q!==(q=e[7]("overview.project.words")+"")&&set_data(O,q),8&r&&set_data(M,e[3]),128&r&&Z!==(Z=e[7]("overview.project.characters")+"")&&set_data(I,Z),16&r&&set_data(D,e[4]),128&r&&K!==(K=e[7]("overview.project.save")+"")&&set_data(z,K)},d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(l),e&&detach(d),e&&detach(v),e&&detach(y),e&&detach(E),e&&detach(x),e&&detach(R),e&&detach(B),e&&detach(j),e&&detach(F),run_all($)}}}function create_each_block$2(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g=e[17].title+"",v=e[7]("overview.projects.opened")+"",y=moment(e[17].lastOpen,"X").fromNow()+"",b=e[7]("overview.project.chapters")+"",_=e[8].filter(k).length+"";function k(...t){return e[15](e[17],...t)}function w(...t){return e[16](e[17],...t)}return{c(){t=element("div"),n=element("h2"),r=text(g),i=space(),o=element("p"),a=text(v),s=space(),c=text(y),u=space(),l=element("p"),d=text(b),f=text(": "),p=text(_),h=space(),m=listen(t,"click",w)},m(e,m){insert(e,t,m),append(t,n),append(n,r),append(t,i),append(t,o),append(o,a),append(o,s),append(o,c),append(t,u),append(t,l),append(l,d),append(l,f),append(l,p),append(t,h)},p(t,n){e=t,64&n&&g!==(g=e[17].title+"")&&set_data(r,g),128&n&&v!==(v=e[7]("overview.projects.opened")+"")&&set_data(a,v),64&n&&y!==(y=moment(e[17].lastOpen,"X").fromNow()+"")&&set_data(c,y),128&n&&b!==(b=e[7]("overview.project.chapters")+"")&&set_data(d,b),320&n&&_!==(_=e[8].filter(k).length+"")&&set_data(p,_)},d(e){e&&detach(t),m()}}}function create_fragment$a(e){let t,n,r,i,o,a,s,c,u,l,d=e[7]("overview.projects.title")+"";const f=new CreateProject({props:{showCreateProject:e[0]}});f.$on("changeProject",e[10]);let p=e[6].filter(e[11]),h=[];for(let t=0;t<p.length;t+=1)h[t]=create_each_block_1$1(get_each_context_1$1(e,p,t));let m=e[6].sort(sort),g=[];for(let t=0;t<m.length;t+=1)g[t]=create_each_block$2(get_each_context$2(e,m,t));return{c(){create_component(f.$$.fragment),t=space();for(let e=0;e<h.length;e+=1)h[e].c();n=space(),r=element("h1"),i=text(d),o=space(),a=element("div"),(s=element("div")).innerHTML='<span class="lnr lnr-plus-circle"></span>',c=space();for(let e=0;e<g.length;e+=1)g[e].c();attr(s,"class","new"),attr(a,"class","grid"),l=listen(s,"click",e[14])},m(e,l){mount_component(f,e,l),insert(e,t,l);for(let t=0;t<h.length;t+=1)h[t].m(e,l);insert(e,n,l),insert(e,r,l),append(r,i),insert(e,o,l),insert(e,a,l),append(a,s),append(a,c);for(let e=0;e<g.length;e+=1)g[e].m(a,null);u=!0},p(e,[t]){const r={};if(1&t&&(r.showCreateProject=e[0]),f.$set(r),254&t){let r;for(p=e[6].filter(e[11]),r=0;r<p.length;r+=1){const i=get_each_context_1$1(e,p,r);h[r]?h[r].p(i,t):(h[r]=create_each_block_1$1(i),h[r].c(),h[r].m(n.parentNode,n))}for(;r<h.length;r+=1)h[r].d(1);h.length=p.length}if((!u||128&t)&&d!==(d=e[7]("overview.projects.title")+"")&&set_data(i,d),448&t){let n;for(m=e[6].sort(sort),n=0;n<m.length;n+=1){const r=get_each_context$2(e,m,n);g[n]?g[n].p(r,t):(g[n]=create_each_block$2(r),g[n].c(),g[n].m(a,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},i(e){u||(transition_in(f.$$.fragment,e),u=!0)},o(e){transition_out(f.$$.fragment,e),u=!1},d(e){destroy_component(f,e),e&&detach(t),destroy_each(h,e),e&&detach(n),e&&detach(r),e&&detach(o),e&&detach(a),destroy_each(g,e),l()}}}function changeProject(e){state.setCurrentProject(e),projects.updateProjectTimestamp(e),deskgap.reload()}function setProjectTitle(e){projects.setProjectTitle(e,document.getElementById("newProjectTitle").value)}function sort(e,t){return t.lastOpen<e.lastOpen?-1:t.lastOpen>e.lastOpen?1:0}function instance$9(e,t,n){let r,i,o,a,s;component_subscribe(e,settings,e=>n(9,r=e)),component_subscribe(e,state,e=>n(5,i=e)),component_subscribe(e,projects,e=>n(6,o=e)),component_subscribe(e,_$1,e=>n(7,a=e)),component_subscribe(e,chapters,e=>n(8,s=e)),moment.locale(r.language);let c,u,l,d,f=!1;return e.$$.update=()=>{62&e.$$.dirty&&(n(1,c=0),n(2,u=0),n(3,l=0),n(4,d=0),chapters.subscribe(e=>{e.filter(e=>e.project==i.currentProject).forEach(e=>{n(1,c++,c),scenes.subscribe(t=>{t.filter(t=>t.chapter==e.id).forEach(e=>{n(2,u++,u),e.content&&e.content.blocks.forEach(e=>{n(3,l+=e.data.text.split(" ").length),n(4,d+=e.data.text.length)})})})})}))},[f,c,u,l,d,i,o,a,s,r,e=>changeProject(e.detail.project),e=>e.id==i.currentProject,function(e){e.title=this.value},e=>setProjectTitle(e.id),()=>n(0,f=!0),(e,t)=>t.project==e.id,e=>changeProject(e.id)]}class Overview extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$a,safe_not_equal,{})}}function get_each_context$3(e,t,n){const r=e.slice();return r[7]=t[n],r}function create_each_block$3(e){let t,n,r,i,o,a,s,c,u,l,d=e[7].title+"",f=e[1]("write.overview.opened")+"",p=moment(e[7].lastEdit,"X").fromNow()+"";function h(...t){return e[6](e[7],...t)}return{c(){t=element("div"),n=element("h2"),r=text(d),i=space(),o=element("small"),a=text(f),s=space(),c=text(p),u=space(),attr(t,"id","card"),l=listen(t,"click",h)},m(e,l){insert(e,t,l),append(t,n),append(n,r),append(t,i),append(t,o),append(o,a),append(o,s),append(o,c),append(t,u)},p(t,n){e=t,1&n&&d!==(d=e[7].title+"")&&set_data(r,d),2&n&&f!==(f=e[1]("write.overview.opened")+"")&&set_data(a,f),1&n&&p!==(p=moment(e[7].lastEdit,"X").fromNow()+"")&&set_data(c,p)},d(e){e&&detach(t),l()}}}function create_fragment$b(e){let t,n=e[0],r=[];for(let t=0;t<n.length;t+=1)r[t]=create_each_block$3(get_each_context$3(e,n,t));return{c(){t=element("div");for(let e=0;e<r.length;e+=1)r[e].c();attr(t,"id","cards"),attr(t,"class","grid")},m(e,n){insert(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,[i]){if(3&i){let o;for(n=e[0],o=0;o<n.length;o+=1){const a=get_each_context$3(e,n,o);r[o]?r[o].p(a,i):(r[o]=create_each_block$3(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:noop,o:noop,d(e){e&&detach(t),destroy_each(r,e)}}}function instance$a(e,t,n){let r,i,o,a,s;component_subscribe(e,settings,e=>n(2,r=e)),component_subscribe(e,chapters,e=>n(3,i=e)),component_subscribe(e,state,e=>n(4,o=e)),component_subscribe(e,scenes,e=>n(5,a=e)),component_subscribe(e,_$1,e=>n(1,s=e)),moment.locale(r.language);let c=[];return e.$$.update=()=>{if(57&e.$$.dirty){i.filter(e=>e.project==o.currentProject).forEach(e=>{a.filter(t=>t.chapter==e.id).forEach(e=>{c.push(e)})});n(0,c=c.sort((e,t)=>t.lastEdit<e.lastEdit?-1:t.lastEdit>e.lastEdit?1:0).slice(0,10))}},[c,s,r,i,o,a,e=>push("/write/"+e.id)]}class Overview$1 extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$b,safe_not_equal,{})}}var editor=createCommonjsModule((function(e,t){
/*!
     * Editor.js
     * 
     * @version 2.15.1
     * 
     * @licence Apache-2.0
     * @author CodeX <https://codex.so>
     * 
     * @uses html-janitor
     * @licence Apache-2.0 (https://github.com/guardian/html-janitor/blob/master/LICENSE)
     */
window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t,n){var r=n(9),i=n(17),o=n(22),a=n(19),s=n(32),c=function(e,t,n){var u,l,d,f,p=e&c.F,h=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(u in h&&(n=t),n)d=((l=!p&&y&&void 0!==y[u])?y:n)[u],f=v&&l?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,u,d,e&c.U),b[u]!=d&&o(b,u,f),g&&_[u]!=d&&(_[u]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(55),i=n(344);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(345);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r,i,o;i=[t,n(1),n(2)],void 0===(o="function"==typeof(r=function(r,i,o){var a=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=a(i),o=a(o);var s=function(){function e(t){var n=t.config;if((0,i.default)(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=n}return(0,o.default)(e,[{key:"state",set:function(e){this.Editor=e}}]),e}();r.default=s,s.displayName="Module",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r,i,o;i=[t,n(55),n(99),n(1),n(2)],void 0===(o="function"==typeof(r=function(r,i,o,a,s){var c=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=c(i),o=c(o),a=c(a),s=c(s);var u=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"isSingleTag",value:function(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}},{key:"isLineBreakTag",value:function(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}},{key:"make",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);for(var a in Array.isArray(n)?(t=i.classList).add.apply(t,(0,o.default)(n)):n&&i.classList.add(n),r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i}},{key:"text",value:function(e){return document.createTextNode(e)}},{key:"svg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.classList.add("icon","icon--"+e),r.setAttribute("width",t+"px"),r.setAttribute("height",n+"px"),r.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(e,'"></use>'),r}},{key:"append",value:function(e,t){Array.isArray(t)?t.forEach((function(t){return e.appendChild(t)})):e.appendChild(t)}},{key:"prepend",value:function(e,t){Array.isArray(t)?(t=t.reverse()).forEach((function(t){return e.prepend(t)})):e.prepend(t)}},{key:"swap",value:function(e,t){var n=document.createElement("div"),r=e.parentNode;r.insertBefore(n,e),r.insertBefore(e,t),r.insertBefore(t,n),r.removeChild(n)}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelector(t)}},{key:"get",value:function(e){return document.getElementById(e)}},{key:"findAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelectorAll(t)}},{key:"getDeepestNode",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[r]){var o=t[r];if(e.isSingleTag(o)&&!e.isNativeInput(o)&&!e.isLineBreakTag(o))if(o[i])o=o[i];else{if(!o.parentNode[i])return o.parentNode;o=o.parentNode[i]}return this.getDeepestNode(o,n)}return t}},{key:"isElement",value:function(e){return e&&"object"===(0,i.default)(e)&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(e){return e&&"object"===(0,i.default)(e)&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(e){return"true"===e.contentEditable}},{key:"isNativeInput",value:function(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}},{key:"canSetCaret",value:function(t){var n=!0;if(e.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1}else n=e.isContentEditable(t);return n}},{key:"isNodeEmpty",value:function(e){return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&0===(this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("​","")).trim().length}},{key:"isLeaf",value:function(e){return!!e&&0===e.childNodes.length}},{key:"isEmpty",value:function(e){var t=this,n=[],r=[];if(!e)return!0;if(!e.childNodes.length)return this.isNodeEmpty(e);for(n.push(e.firstChild);n.length>0;)if(e=n.shift()){for(this.isLeaf(e)?r.push(e):n.push(e.firstChild);e&&e.nextSibling;)(e=e.nextSibling)&&n.push(e);if(e&&!this.isNodeEmpty(e))return!1}return r.every((function(e){return t.isNodeEmpty(e)}))}},{key:"isHTMLString",value:function(t){var n=e.make("div");return n.innerHTML=t,n.childElementCount>0}},{key:"getContentLength",value:function(t){return e.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}},{key:"containsOnlyInlineElements",value:function(t){var n;return"string"==typeof t?(n=document.createElement("div")).innerHTML=t:n=t,Array.from(n.children).every((function t(n){return!e.blockElements.includes(n.tagName.toLowerCase())&&Array.from(n.children).every(t)}))}},{key:"getDeepestBlockElements",value:function(t){return e.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce((function(t,n){return[].concat((0,o.default)(t),(0,o.default)(e.getDeepestBlockElements(n)))}),[])}},{key:"getHolder",value:function(e){return"string"==typeof e?document.getElementById(e):e}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),e}();r.default=u,u.displayName="Dom",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=n(75)("wks"),i=n(41),o=n(9).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r,i,o;i=[t,n(342),n(26),n(27),n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c),u=l(u);var d=function(){function e(){(0,s.default)(this,e)}var t;return(0,c.default)(e,null,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"color: inherit";if("console"in window&&window.console[t]){var i="Editor.js ".concat("2.15.1"),o="line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;";try{["time","timeEnd"].includes(t)?console[t]("( ".concat(i," ) ").concat(e)):n?console[t]("%c".concat(i,"%c ").concat(e," %o"),o,r,n):console[t]("%c".concat(i,"%c ").concat(e),o,r)}catch(e){}}}},{key:"isPrintableKey",value:function(e){return e>47&&e<58||32===e||13===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}},{key:"sequence",value:(t=(0,a.default)(o.default.mark((function e(t){var n,r,i,s,c=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=(0,a.default)(o.default.mark((function e(t,n,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.function(t.data);case 3:return e.next=5,n(void 0!==t.data?t.data:{});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(void 0!==t.data?t.data:{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},i=function(e,t,n){return s.apply(this,arguments)},n=c.length>1&&void 0!==c[1]?c[1]:function(){},r=c.length>2&&void 0!==c[2]?c[2]:function(){},e.next=6,t.reduce(function(){var e=(0,a.default)(o.default.mark((function e(t,a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.abrupt("return",i(a,n,r));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"array",value:function(e){return Array.prototype.slice.call(e)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isClass",value:function(e){return"function"==typeof e&&/^\s*class\s+/.test(e.toString())}},{key:"isEmpty",value:function(e){return!e||0===Object.keys(e).length&&e.constructor===Object}},{key:"isPromise",value:function(e){return Promise.resolve(e)===e}},{key:"delay",value:function(e,t){return function(){var n=this,r=arguments;window.setTimeout((function(){return e.apply(n,r)}),t)}}},{key:"getFileExtension",value:function(e){return e.name.split(".").pop()}},{key:"isValidMimeType",value:function(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}},{key:"debounce",value:function(e,t,n){var r,i=this,o=arguments;return function(){var a=i,s=o,c=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||e.apply(a,s)}),t),c&&e.apply(a,s)}}},{key:"copyTextToClipboard",value:function(e){var t=u.default.make("div","codex-editor-clipboard",{innerHTML:e});document.body.appendChild(t);var n=window.getSelection(),r=document.createRange();r.selectNode(t),window.getSelection().removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)}},{key:"getUserOS",value:function(){var e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((function(e){return-1!==navigator.appVersion.toLowerCase().indexOf(e)}));return t?(e[t]=!0,e):e}},{key:"capitalize",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"deepMerge",value:function(t){for(var n=function(t){return t&&"object"===e.typeof(t)},r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(!o.length)return t;var s=o.shift();if(n(t)&&n(s))for(var c in s)n(s[c])?(t[c]||Object.assign(t,(0,i.default)({},c,{})),e.deepMerge(t[c],s[c])):Object.assign(t,(0,i.default)({},c,s[c]));return e.deepMerge.apply(e,[t].concat(o))}},{key:"isTouchSupported",value:function(){return"ontouchstart"in document.documentElement}},{key:"typeof",value:function(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}},{key:"keyCodes",get:function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91}}},{key:"mouseButtons",get:function(){return{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4}}}]),e}();r.default=d,d.displayName="Util",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=n(11),i=n(100),o=n(38),a=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(36),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(9),i=n(22),o=n(21),a=n(41)("src"),s=Function.toString,c=(""+s).split("toString");n(17).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var r=n(0),i=n(8),o=n(35),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(15),i=n(40);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(56),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(8);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){e.exports=n(338)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(14),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a,s){var c=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=c(i),o=c(o),a=c(a),s=c(s);var u=function(){function e(){(0,i.default)(this,e),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,o.default)(e,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=e.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}},{key:"findParentTag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=window.getSelection(),i=null;if(!r||!r.anchorNode||!r.focusNode)return null;var o=[r.anchorNode,r.focusNode];return o.forEach((function(r){for(var o=n;o>0&&r.parentNode&&(r.tagName!==e||(i=r,t&&r.classList&&!r.classList.contains(t)&&(i=null),!i));)r=r.parentNode,o--})),i}},{key:"expandToTag",value:function(e){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}}],[{key:"almostAllSelected",value:function(t){var n=e.range;if(!n)return!1;var r=n.cloneContents(),i=t.length;return r.textContent.length/i>.85}},{key:"get",value:function(){return window.getSelection()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var e=window.getSelection();return e?e.anchorNode:null}},{key:"anchorElement",get:function(){var e=window.getSelection();if(!e)return null;var t=e.anchorNode;return t?s.default.isElement(t)?t:t.parentElement:null}},{key:"anchorOffset",get:function(){var e=window.getSelection();return e?e.anchorOffset:null}},{key:"isCollapsed",get:function(){var e=window.getSelection();return e?e.isCollapsed:null}},{key:"isAtEditor",get:function(){var t=e.get(),n=t.anchorNode||t.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var r=null;return n&&(r=n.closest(".".concat(e.CSS.editorZone))),r&&r.nodeType===Node.ELEMENT_NODE}},{key:"range",get:function(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}},{key:"rect",get:function(){var e,t=document.selection,n={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=(t=t).createRange(),n.x=e.boundingLeft,n.y=e.boundingTop,n.width=e.boundingWidth,n.height=e.boundingHeight,n;if(!window.getSelection)return a.default.log("Method window.getSelection is not supported","warn"),n;if(null===(t=window.getSelection()).rangeCount||isNaN(t.rangeCount))return a.default.log("Method SelectionUtils.rangeCount is not supported","warn"),n;if((e=t.getRangeAt(0).cloneRange()).getBoundingClientRect&&(n=e.getBoundingClientRect()),0===n.x&&0===n.y){var r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("​")),e.insertNode(r),n=r.getBoundingClientRect();var i=r.parentNode;i.removeChild(r),i.normalize()}}return n}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),e}();r.default=u,u.displayName="SelectionUtils",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=n(57),i=n(40),o=n(23),a=n(38),s=n(21),c=n(100),u=Object.getOwnPropertyDescriptor;t.f=n(16)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(0),i=n(17),o=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(32),i=n(56),o=n(24),a=n(18),s=n(258);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var m,g,v=o(t),y=i(v),b=r(s,h,3),_=a(y.length),k=0,w=n?p(t,_):c?p(t,0):void 0;_>k;k++)if((f||k in y)&&(g=b(m=y[k],k,v),e))if(n)w[k]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return k;case 2:w.push(m)}else if(l)return!1;return d?-1:u||l?l:w}}},function(e,t,n){var r=n(33);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){if(n(16)){var r=n(42),i=n(9),o=n(8),a=n(0),s=n(70),c=n(98),u=n(32),l=n(52),d=n(40),f=n(22),p=n(53),h=n(36),m=n(18),g=n(125),v=n(44),y=n(38),b=n(21),_=n(62),k=n(10),w=n(24),S=n(91),E=n(45),x=n(47),T=n(46).f,O=n(93),C=n(41),A=n(13),M=n(31),R=n(60),B=n(67),P=n(95),I=n(49),L=n(64),N=n(51),D=n(94),j=n(117),F=n(15),U=n(29),z=F.f,$=U.f,H=i.RangeError,W=i.TypeError,G=i.Uint8Array,Y=Array.prototype,q=c.ArrayBuffer,Z=c.DataView,K=M(0),X=M(2),V=M(3),J=M(4),Q=M(5),ee=M(6),te=R(!0),ne=R(!1),re=P.values,ie=P.keys,oe=P.entries,ae=Y.lastIndexOf,se=Y.reduce,ce=Y.reduceRight,ue=Y.join,le=Y.sort,de=Y.slice,fe=Y.toString,pe=Y.toLocaleString,he=A("iterator"),me=A("toStringTag"),ge=C("typed_constructor"),ve=C("def_constructor"),ye=s.CONSTR,be=s.TYPED,_e=s.VIEW,ke=M(1,(function(e,t){return Te(B(e,e[ve]),t)})),we=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Se=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Ee=function(e,t){var n=h(e);if(n<0||n%t)throw H("Wrong offset!");return n},xe=function(e){if(k(e)&&be in e)return e;throw W(e+" is not a typed array!")},Te=function(e,t){if(!(k(e)&&ge in e))throw W("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ce(B(e,e[ve]),t)},Ce=function(e,t){for(var n=0,r=t.length,i=Te(e,r);r>n;)i[n]=t[n++];return i},Ae=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,n,r,i,o,a,s=w(e),c=arguments.length,l=c>1?arguments[1]:void 0,d=void 0!==l,f=O(s);if(null!=f&&!S(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&c>2&&(l=u(l,arguments[2],2)),t=0,n=m(s.length),i=Te(this,n);n>t;t++)i[t]=d?l(s[t],t):s[t];return i},Re=function(){for(var e=0,t=arguments.length,n=Te(this,t);t>e;)n[e]=arguments[e++];return n},Be=!!G&&o((function(){pe.call(new G(1))})),Pe=function(){return pe.apply(Be?de.call(xe(this)):xe(this),arguments)},Ie={copyWithin:function(e,t){return j.call(xe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(xe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return D.apply(xe(this),arguments)},filter:function(e){return Oe(this,X(xe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(xe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(xe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(xe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(xe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(xe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(xe(this),arguments)},lastIndexOf:function(e){return ae.apply(xe(this),arguments)},map:function(e){return ke(xe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(xe(this),arguments)},reduceRight:function(e){return ce.apply(xe(this),arguments)},reverse:function(){for(var e,t=xe(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return V(xe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(xe(this),e)},subarray:function(e,t){var n=xe(this),r=n.length,i=v(e,r);return new(B(n,n[ve]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-i))}},Le=function(e,t){return Oe(this,de.call(xe(this),e,t))},Ne=function(e){xe(this);var t=Ee(arguments[1],1),n=this.length,r=w(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},De={entries:function(){return oe.call(xe(this))},keys:function(){return ie.call(xe(this))},values:function(){return re.call(xe(this))}},je=function(e,t){return k(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return je(e,t=y(t,!0))?d(2,e[t]):$(e,t)},Ue=function(e,t,n){return!(je(e,t=y(t,!0))&&k(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(U.f=Fe,F.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Ue}),o((function(){fe.call({})}))&&(fe=pe=function(){return ue.call(this)});var ze=p({},Ie);p(ze,De),f(ze,he,De.values),p(ze,{slice:Le,set:Ne,constructor:function(){},toString:fe,toLocaleString:Pe}),Ae(ze,"buffer","b"),Ae(ze,"byteOffset","o"),Ae(ze,"byteLength","l"),Ae(ze,"length","e"),z(ze,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=i[u],v=h||{},y=h&&x(h),b=!h||!s.ABV,w={},S=h&&h.prototype,O=function(e,n){z(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,we)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,we)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,i){l(e,h,u,"_d");var o,a,s,c,d=0,p=0;if(k(n)){if(!(n instanceof q||"ArrayBuffer"==(c=_(n))||"SharedArrayBuffer"==c))return be in n?Ce(h,n):Me.call(h,n);o=n,p=Ee(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw H("Wrong length!");if((a=v-p)<0)throw H("Wrong length!")}else if((a=m(i)*t)+p>v)throw H("Wrong length!");s=a/t}else s=g(n),o=new q(a=s*t);for(f(e,"_d",{b:o,o:p,l:a,e:s,v:new Z(o)});d<s;)O(e,d++)})),S=h.prototype=E(ze),f(S,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&L((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return l(e,h,u),k(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,Ee(r,t),i):void 0!==r?new v(n,Ee(r,t)):new v(n):be in n?Ce(h,n):Me.call(h,n):new v(g(n))})),K(y!==Function.prototype?T(v).concat(T(y)):T(v),(function(e){e in h||f(h,e,v[e])})),h.prototype=S,r||(S.constructor=h));var C=S[he],A=!!C&&("values"==C.name||null==C.name),M=De.values;f(h,ge,!0),f(S,be,u),f(S,_e,!0),f(S,ve,h),(c?new h(1)[me]==u:me in S)||z(S,me,{get:function(){return u}}),w[u]=h,a(a.G+a.W+a.F*(h!=v),w),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(h,1)})),u,{from:Me,of:Re}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",t),a(a.P,u,Ie),N(u),a(a.P+a.F*Se,u,{set:Ne}),a(a.P+a.F*!A,u,De),r||S.toString==fe||(S.toString=fe),a(a.P+a.F*o((function(){new h(1).slice()})),u,{slice:Le}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),u,{toLocaleString:Pe}),I[u]=A?C:M,r||A||f(S,he,M)}}else e.exports=function(){}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(41)("meta"),i=n(10),o=n(21),a=n(15).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(8)((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&c(e)&&!o(e,r)&&l(e),e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(102),i=n(78);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(36),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(11),i=n(103),o=n(78),a=n(77)("IE_PROTO"),s=function(){},c=function(){var e,t=n(74)("iframe"),r=o.length;for(t.style.display="none",n(80).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(102),i=n(78).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(21),i=n(24),o=n(77)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(15).f,i=n(21),o=n(13)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(13)("unscopables"),i=Array.prototype;null==i[r]&&n(22)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(9),i=n(15),o=n(16),a=n(13)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(19);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(331),i=n(332),o=n(333);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(346),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s){var c=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=c(i),o=c(o),a=c(a),s=c(s);var u=function(){function e(t){var n=this;(0,i.default)(this,e),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.allowArrows="boolean"!=typeof t.allowArrows||t.allowArrows,this.iterator=new a.default(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,document.addEventListener("keydown",(function(t){if(n.isEventReadyForHandling(t))switch(e.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case s.default.keyCodes.TAB:n.handleTabPress(t);break;case s.default.keyCodes.LEFT:n.flipLeft();break;case s.default.keyCodes.RIGHT:n.flipRight();break;case s.default.keyCodes.ENTER:n.handleEnterPress(t)}}),!1)}return(0,o.default)(e,[{key:"activate",value:function(e){this.activated=!0,e&&this.iterator.setItems(e)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor()}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(e){var t=[s.default.keyCodes.TAB,s.default.keyCodes.ENTER];return this.allowArrows&&t.push(s.default.keyCodes.LEFT,s.default.keyCodes.RIGHT),!(!this.activated||-1===t.indexOf(e.keyCode))}},{key:"handleTabPress",value:function(e){switch(e.shiftKey?a.default.directions.LEFT:a.default.directions.RIGHT){case a.default.directions.RIGHT:this.flipRight();break;case a.default.directions.LEFT:this.flipLeft()}}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"handleEnterPress",value:function(e){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),"function"==typeof this.activateCallback&&this.activateCallback(),e.preventDefault(),e.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[s.default.keyCodes.TAB,s.default.keyCodes.LEFT,s.default.keyCodes.RIGHT,s.default.keyCodes.ENTER]}}]),e}();r.default=u,u.displayName="Flipper",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=n(23),i=n(18),o=n(44);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(34),i=n(13)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(0),i=n(35),o=n(8),a=n(82),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(d):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t,n){var r=n(13)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){var r=n(22),i=n(19),o=n(8),a=n(35),s=n(13);e.exports=function(e,t,n){var c=s(e),u=n(a,c,""[e]),l=u[0],d=u[1];o((function(){var t={};return t[c]=function(){return 7},7!=""[e](t)}))&&(i(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var r=n(32),i=n(115),o=n(91),a=n(11),s=n(18),c=n(93),u={},l={};(t=e.exports=function(e,t,n,d,f){var p,h,m,g,v=f?function(){return e}:c(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>b;b++)if((g=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||g===l)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=i(m,y,h.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(11),i=n(33),o=n(13)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(9).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(9),i=n(0),o=n(19),a=n(53),s=n(39),c=n(66),u=n(52),l=n(10),d=n(8),f=n(64),p=n(48),h=n(83);e.exports=function(e,t,n,m,g,v){var y=r[e],b=y,_=g?"set":"add",k=b&&b.prototype,w={},S=function(e){var t=k[e];o(k,e,"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||k.forEach&&!d((function(){(new b).entries().next()})))){var E=new b,x=E[_](v?{}:-0,1)!=E,T=d((function(){E.has(1)})),O=f((function(e){new b(e)})),C=!v&&d((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));O||((b=t((function(t,n){u(t,b,e);var r=h(new y,t,b);return null!=n&&c(n,g,r[_],r),r}))).prototype=k,k.constructor=b),(T||C)&&(S("delete"),S("has"),g&&S("get")),(C||x)&&S(_),v&&k.clear&&delete k.clear}else b=m.getConstructor(t,e,g,_),a(b.prototype,n),s.NEED=!0;return p(b,e),w[e]=b,i(i.G+i.W+i.F*(b!=y),w),v||m.setStrong(b,e,g),b}},function(e,t,n){for(var r,i=n(9),o=n(22),a=n(41),s=a("typed_array"),c=a("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[f[d++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods}}}]),t}((u=l(u)).default);r.default=d,d.displayName="API",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(99),n(26),n(27),n(1),n(2),n(12),n(14),n(347),n(348),n(349),n(28)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h){var m=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=m(i),o=m(o),a=m(a),s=m(s),c=m(c),u=m(u),l=m(l),d=m(d),f=m(f),p=m(p),h=m(h);var g=function(){function e(t,n,r,i,o){var a=this;(0,s.default)(this,e),this.cachedInputs=[],this.inputIndex=0,this.didMutated=function(){a.cachedInputs=[],a.updateCurrentInput()},this.name=t,this.tool=n,this.class=r,this.settings=i,this.api=o,this.holder=this.compose(),this.mutationObserver=new MutationObserver(this.didMutated),this.tunes=this.makeTunes()}var t,n,r;return(0,c.default)(e,[{key:"call",value:function(e,t){this.tool[e]&&this.tool[e]instanceof Function&&this.tool[e].call(this.tool,t)}},{key:"mergeWith",value:(r=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tool.merge(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"save",value:(n=(0,a.default)(o.default.mark((function e(){var t,n,r,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tool.save(this.pluginsContent);case 2:return t=e.sent,n=window.performance.now(),e.abrupt("return",Promise.resolve(t).then((function(e){return r=window.performance.now(),{tool:i.name,data:e,time:r-n}})).catch((function(e){l.default.log("Saving proccess for ".concat(i.name," tool failed due to the ").concat(e),"log","red")})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"validate",value:(t=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!(this.tool.validate instanceof Function)){e.next=5;break}return e.next=4,this.tool.validate(t);case 4:n=e.sent;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"makeTunes",value:function(){var e=this;return[d.default,f.default,p.default].map((function(t){return new t({api:e.api,settings:e.settings})}))}},{key:"renderTunes",value:function(){var e=document.createDocumentFragment();return this.tunes.forEach((function(t){u.default.append(e,t.render())})),e}},{key:"updateCurrentInput",value:function(){this.currentInput=h.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder,{childList:!0,subtree:!0})}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect()}},{key:"compose",value:function(){var t=u.default.make("div",e.CSS.wrapper),n=u.default.make("div",e.CSS.content),r=this.tool.render();return n.appendChild(r),t.appendChild(n),t}},{key:"inputs",get:function(){if(0!==this.cachedInputs.length)return this.cachedInputs;var e=this.holder,t="[contenteditable], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(e){return'input[type="'.concat(e,'"]')})).join(", "),n=l.default.array(e.querySelectorAll(t));return n=n.reduce((function(e,t){return u.default.isNativeInput(t)||u.default.containsOnlyInlineElements(t)?[].concat((0,i.default)(e),[t]):[].concat((0,i.default)(e),(0,i.default)(u.default.getDeepestBlockElements(t)))}),[]),this.inputIndex>n.length-1&&(this.inputIndex=n.length-1),this.cachedInputs=n,n}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(e){var t=this.inputs.findIndex((function(t){return t===e||t.contains(e)}));-1!==t&&(this.inputIndex=t)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var e=this.inputs;return e[e.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"pluginsContent",get:function(){var t=this.holder.querySelector(".".concat(e.CSS.content));return t&&t.childNodes.length?t.childNodes[0]:null}},{key:"data",get:function(){return this.save().then((function(e){return e&&!l.default.isEmpty(e.data)?e.data:{}}))}},{key:"sanitize",get:function(){return this.tool.sanitize}},{key:"mergeable",get:function(){return"function"==typeof this.tool.merge}},{key:"isEmpty",get:function(){var e=u.default.isEmpty(this.pluginsContent),t=!this.hasMedia;return e&&t}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(t){this.holder.classList.toggle(e.CSS.focused,t)}},{key:"selected",set:function(t){t?this.holder.classList.add(e.CSS.selected):this.holder.classList.remove(e.CSS.selected)},get:function(){return this.holder.classList.contains(e.CSS.selected)}},{key:"stretched",set:function(t){this.holder.classList.toggle(e.CSS.wrapperStretched,t)}},{key:"dropTarget",set:function(t){this.holder.classList.toggle(e.CSS.dropTarget,t)}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),e}();r.default=g,g.displayName="Block",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d){var f=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=f(i),o=f(o),a=f(a),s=f(s),c=f(c),u=f(u),l=f(l),d=f(d);var p=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).nodes={wrapper:null,content:null,actions:null,plusButton:null,blockActionsButtons:null,settingsToggler:null},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"make",value:function(){var e=this;this.nodes.wrapper=l.default.make("div",this.CSS.toolbar),["content","actions"].forEach((function(t){e.nodes[t]=l.default.make("div",e.CSS[t]),l.default.append(e.nodes.wrapper,e.nodes[t])})),this.nodes.plusButton=l.default.make("div",this.CSS.plusButton),this.Editor.Listeners.on(this.nodes.plusButton,"mouseenter",(function(){var t=e.Editor.Toolbox.nodes.tooltip,n=document.createDocumentFragment();n.appendChild(document.createTextNode("Add")),n.appendChild(l.default.make("div",e.Editor.Toolbox.CSS.tooltipShortcut,{textContent:"⇥ Tab"})),t.style.left="-17px",t.innerHTML="",t.appendChild(n),t.classList.add(e.Editor.Toolbox.CSS.tooltipShown)})),this.Editor.Listeners.on(this.nodes.plusButton,"mouseleave",(function(){e.Editor.Toolbox.hideTooltip()})),l.default.append(this.nodes.plusButton,l.default.svg("plus",14,14)),l.default.append(this.nodes.content,this.nodes.plusButton),this.Editor.Listeners.on(this.nodes.plusButton,"click",(function(){return e.plusButtonClicked()}),!1),this.Editor.Toolbox.make(),this.nodes.blockActionsButtons=l.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=l.default.make("span",this.CSS.settingsToggler);var t=l.default.svg("dots",18,4);l.default.append(this.nodes.settingsToggler,t),l.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),l.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.Editor.BlockSettings.make(),l.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),l.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.bindEvents()}},{key:"move",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var t=this.Editor.BlockManager.currentBlock.holder;if(t){var n=this.Editor.UI.isMobile,r=t.offsetHeight,i=t.offsetTop;if(n)i+=r;else{var o=Math.floor(r/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(o,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(o,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(i),"px, 0)")}}},{key:"open",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d.default.delay((function(){e.move(n),e.nodes.wrapper.classList.add(e.CSS.toolbarOpened),t?e.blockActions.show():e.blockActions.hide()}),50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"bindEvents",value:function(){var e=this;this.Editor.Listeners.on(this.nodes.settingsToggler,"click",(function(){return e.settingsTogglerClicked()}))}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var e=this;return{hide:function(){return e.nodes.plusButton.classList.add(e.CSS.plusButtonHidden)},show:function(){e.Editor.Toolbox.isEmpty||e.nodes.plusButton.classList.remove(e.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var e=this;return{hide:function(){e.nodes.actions.classList.remove(e.CSS.actionsOpened)},show:function(){e.nodes.actions.classList.add(e.CSS.actionsOpened)}}}}]),t}(u.default);r.default=p,p.displayName="Toolbar",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=n(10),i=n(9).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(17),i=n(9),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(42)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){t.f=n(13)},function(e,t,n){var r=n(75)("keys"),i=n(41);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(10),i=n(11),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(32)(Function.call,n(29).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(10),i=n(81).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(36),i=n(35);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(42),i=n(0),o=n(19),a=n(22),s=n(49),c=n(114),u=n(48),l=n(47),d=n(13)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,g,v){c(n,t,h);var y,b,_,k=function(e){if(!f&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",S="values"==m,E=!1,x=e.prototype,T=x[d]||x["@@iterator"]||m&&x[m],O=T||k(m),C=m?S?k("entries"):O:void 0,A="Array"==t&&x.entries||T;if(A&&(_=l(A.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[d]||a(_,d,p)),S&&T&&"values"!==T.name&&(E=!0,O=function(){return T.call(this)}),r&&!v||!f&&!E&&x[d]||a(x,d,O),s[t]=O,s[w]=p,m)if(y={values:S?O:k("values"),keys:g?O:k("keys"),entries:C},v)for(b in y)b in x||o(x,b,y[b]);else i(i.P+i.F*(f||E),t,y);return y}},function(e,t,n){var r=n(89),i=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(10),i=n(34),o=n(13)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(13)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(49),i=n(13)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(15),i=n(40);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(62),i=n(13)("iterator"),o=n(49);e.exports=n(17).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(24),i=n(44),o=n(18);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(50),i=n(118),o=n(49),a=n(23);e.exports=n(87)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(11);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r,i,o,a=n(32),s=n(107),c=n(80),u=n(74),l=n(9),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n(34)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){var r=n(9),i=n(16),o=n(42),a=n(70),s=n(22),c=n(53),u=n(8),l=n(52),d=n(36),f=n(18),p=n(125),h=n(46).f,m=n(15).f,g=n(94),v=n(48),y="prototype",b="Wrong index!",_=r.ArrayBuffer,k=r.DataView,w=r.Math,S=r.RangeError,E=r.Infinity,x=_,T=w.abs,O=w.pow,C=w.floor,A=w.log,M=w.LN2,R=i?"_b":"buffer",B=i?"_l":"byteLength",P=i?"_o":"byteOffset";function I(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?O(2,-24)-O(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===E?(i=e!=e?1:0,r=c):(r=C(A(e)/M),e*(o=O(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?l/o:l*O(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*o-1)*O(2,t),r+=u):(i=e*O(2,u-1)*O(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function L(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:u?-E:E;r+=O(2,t),l-=a}return(u?-1:1)*r*O(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function D(e){return[255&e]}function j(e){return[255&e,e>>8&255]}function F(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return I(e,52,8)}function z(e){return I(e,23,4)}function $(e,t,n){m(e[y],t,{get:function(){return this[n]}})}function H(e,t,n,r){var i=p(+n);if(i+t>e[B])throw S(b);var o=e[R]._b,a=i+e[P],s=o.slice(a,a+t);return r?s:s.reverse()}function W(e,t,n,r,i,o){var a=p(+n);if(a+t>e[B])throw S(b);for(var s=e[R]._b,c=a+e[P],u=r(+i),l=0;l<t;l++)s[c+l]=u[o?l:t-l-1]}if(a.ABV){if(!u((function(){_(1)}))||!u((function(){new _(-1)}))||u((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var G,Y=(_=function(e){return l(this,_),new x(p(e))})[y]=x[y],q=h(x),Z=0;q.length>Z;)(G=q[Z++])in _||s(_,G,x[G]);o||(Y.constructor=_)}var K=new k(new _(2)),X=k[y].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||c(k[y],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,"ArrayBuffer");var t=p(e);this._b=g.call(new Array(t),0),this[B]=t},k=function(e,t,n){l(this,k,"DataView"),l(e,_,"DataView");var r=e[B],i=d(t);if(i<0||i>r)throw S("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw S("Wrong length!");this[R]=e,this[P]=i,this[B]=n},i&&($(_,"byteLength","_l"),$(k,"buffer","_b"),$(k,"byteLength","_l"),$(k,"byteOffset","_o")),c(k[y],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(H(this,4,e,arguments[1]))},getUint32:function(e){return N(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return L(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return L(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,D,t)},setUint8:function(e,t){W(this,1,e,D,t)},setInt16:function(e,t){W(this,2,e,j,t,arguments[2])},setUint16:function(e,t){W(this,2,e,j,t,arguments[2])},setInt32:function(e,t){W(this,4,e,F,t,arguments[2])},setUint32:function(e,t){W(this,4,e,F,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});v(_,"ArrayBuffer"),v(k,"DataView"),s(k[y],a.VIEW,!0),t.ArrayBuffer=_,t.DataView=k},function(e,t,n){var r=n(339),i=n(340),o=n(341);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t,n){e.exports=!n(16)&&!n(8)((function(){return 7!=Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(9),i=n(17),o=n(42),a=n(76),s=n(15).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(21),i=n(23),o=n(60)(!1),a=n(77)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(15),i=n(11),o=n(43);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(23),i=n(46).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(43),i=n(61),o=n(57),a=n(24),s=n(56),c=Object.assign;e.exports=!c||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=i.f,d=o.f;c>u;)for(var f,p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:c},function(e,t,n){var r=n(33),i=n(10),o=n(107),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9).parseInt,i=n(63).trim,o=n(82),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(9).parseFloat,i=n(63).trim;e.exports=1/r(n(82)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(10),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(36),i=n(35);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(45),i=n(40),o=n(48),a={};n(22)(a,n(13)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(11);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(33),i=n(24),o=n(56),a=n(18);e.exports=function(e,t,n,s,c){r(t);var u=i(e),l=o(u),d=a(u.length),f=c?d-1:0,p=c?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,c?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:d>f;f+=p)f in l&&(s=t(s,l[f],f,u));return s}},function(e,t,n){var r=n(24),i=n(44),o=n(18);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),c=i(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:i(u,a))-c,a-s),d=1;for(c<s&&s<c+l&&(d=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(16)&&"g"!=/./g.flags&&n(15).f(RegExp.prototype,"flags",{configurable:!0,get:n(96)})},function(e,t,n){var r,i,o,a,s=n(42),c=n(9),u=n(32),l=n(62),d=n(0),f=n(10),p=n(33),h=n(52),m=n(66),g=n(67),v=n(97).set,y=n(279)(),b=n(121),_=n(280),k=n(68),w=n(122),S=c.TypeError,E=c.process,x=E&&E.versions,T=x&&x.v8||"",O=c.Promise,C="process"==l(E),A=function(){},M=i=b.f,R=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(13)("species")]=function(e){e(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),B=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=B(n))?o.call(n,c,u):c(n)):u(r)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){v.call(c,(function(){var t,n,r,i=e._v,o=L(e);if(o&&(t=_((function(){C?E.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=C||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(c,(function(){var t;C?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=B(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(j,r,1),u(D,r,1))}catch(e){D.call(r,e)}})):(n._v=e,n._s=1,P(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};R||(O=function(e){h(this,O,"Promise","_h"),p(e),r.call(this);try{e(u(j,this,1),u(D,this,1))}catch(e){D.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(53)(O.prototype,{then:function(e,t){var n=M(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(j,e,1),this.reject=u(D,e,1)},b.f=M=function(e){return e===O||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!R,{Promise:O}),n(48)(O,"Promise"),n(51)("Promise"),a=n(17).Promise,d(d.S+d.F*!R,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!R),"Promise",{resolve:function(e){return w(s&&this===a?O:this,e)}}),d(d.S+d.F*!(R&&n(64)((function(e){O.all(e).catch(A)}))),"Promise",{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(33);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(11),i=n(10),o=n(121);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(15).f,i=n(45),o=n(53),a=n(32),s=n(52),c=n(66),u=n(87),l=n(118),d=n(51),f=n(16),p=n(39).fastKey,h=n(54),m=f?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&c(r,n,e[u],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(53),i=n(39).getWeak,o=n(11),a=n(10),s=n(52),c=n(66),u=n(31),l=n(21),d=n(54),f=u(5),p=u(6),h=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return f(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&c(r,n,e[o],e)}));return r(u.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=n(36),i=n(18);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(46),i=n(61),o=n(11),a=n(9).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(18),i=n(84),o=n(35);e.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return s;var d=l-c,f=i.call(u,Math.ceil(d/u.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,n){var r=n(43),i=n(23),o=n(57).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),c=s.length,u=0,l=[];c>u;)o.call(a,n=s[u++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t){!function(t){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(R([])));y&&y!==r&&i.call(y,a)&&(g=y);var b=E.prototype=w.prototype=Object.create(g);S.prototype=b.constructor=E,E.constructor=S,E[c]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},x(T.prototype),T.prototype[s]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var i=new T(_(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(b),b[c]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return B()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=k(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function E(){}function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){var t;this._invoke=function(n,r){function o(){return new Promise((function(t,o){!function t(n,r,o,a){var s=k(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(n,r,t,o)}))}return t=t?t.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=k(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:B}}function B(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),c=d(c),u=d(u),l=d(l);var f=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).insert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.config.initialBlock,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.Editor.BlockManager.insert(t,n,r,i,o)},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(e){return this.Editor.BlockManager.getBlockByIndex(e).holder}},{key:"swap",value:function(e,t){this.Editor.BlockManager.swap(e,t),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(e){this.Editor.BlockManager.removeBlock(e),0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),0===this.Editor.BlockManager.currentBlockIndex?this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock):this.Editor.Caret.navigatePrevious(!0),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}},{key:"renderFromHTML",value:function(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}},{key:"stretchBlock",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.Editor.BlockManager.getBlockByIndex(e);n&&(n.stretched=t)}},{key:"insertNewBlock",value:function(){l.default.log("Method blocks.insertNewBlock() is deprecated and it will be removed in next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var e=this;return{clear:function(){return e.clear()},render:function(t){return e.render(t)},renderFromHTML:function(t){return e.renderFromHTML(t)},delete:function(){return e.delete()},swap:function(t,n){return e.swap(t,n)},getBlockByIndex:function(t){return e.getBlockByIndex(t)},getCurrentBlockIndex:function(){return e.getCurrentBlockIndex()},getBlocksCount:function(){return e.getBlocksCount()},stretchBlock:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.stretchBlock(t,n)},insertNewBlock:function(){return e.insertNewBlock()},insert:this.insert}}}]),t}(u.default);r.default=f,f.displayName="BlocksAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).setToFirstBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.firstBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.firstBlock,t,n),!0)},e.setToLastBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.lastBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.lastBlock,t,n),!0)},e.setToPreviousBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.previousBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.previousBlock,t,n),!0)},e.setToNextBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.nextBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.nextBlock,t,n),!0)},e.setToBlock=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Editor.Caret.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!!e.Editor.BlockManager.blocks[t]&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.blocks[t],n,r),!0)},e.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?e.setToLastBlock(e.Editor.Caret.positions.END):e.setToFirstBlock(e.Editor.Caret.positions.START)},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),t}((u=l(u)).default);r.default=d,d.displayName="CaretAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"on",value:function(e,t){this.Editor.Events.on(e,t)}},{key:"emit",value:function(e,t){this.Editor.Events.emit(e,t)}},{key:"off",value:function(e,t){this.Editor.Events.off(e,t)}},{key:"methods",get:function(){var e=this;return{emit:function(t,n){return e.emit(t,n)},off:function(t,n){return e.off(t,n)},on:function(t,n){return e.on(t,n)}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="EventsAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var e=this;return{close:function(){return e.close()},open:function(){return e.open()}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="InlineToolbarAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"on",value:function(e,t,n,r){this.Editor.Listeners.on(e,t,n,r)}},{key:"off",value:function(e,t,n){this.Editor.Listeners.off(e,t,n)}},{key:"methods",get:function(){var e=this;return{on:function(t,n,r,i){return e.on(t,n,r,i)},off:function(t,n,r){return e.off(t,n,r)}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="ListenersAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"show",value:function(e){return this.Editor.Notifier.show(e)}},{key:"methods",get:function(){var e=this;return{show:function(t){return e.show(t)}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="NotifierAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"clean",value:function(e,t){return this.Editor.Sanitizer.clean(e,t)}},{key:"methods",get:function(){var e=this;return{clean:function(t,n){return e.clean(t,n)}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="SanitizerAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"save",value:function(){return this.Editor.Saver.save()}},{key:"methods",get:function(){var e=this;return{save:function(){return e.save()}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="SaverAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(28)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),c=d(c),u=d(u),l=d(l);var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"findParentTag",value:function(e,t){return(new l.default).findParentTag(e,t)}},{key:"expandToTag",value:function(e){(new l.default).expandToTag(e)}},{key:"methods",get:function(){var e=this;return{findParentTag:function(t,n){return e.findParentTag(t,n)},expandToTag:function(t){return e.expandToTag(t)}}}}]),t}(u.default);r.default=f,f.displayName="SelectionAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),t}((u=l(u)).default);r.default=d,d.displayName="StylesAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"methods",get:function(){var e=this;return{close:function(){return e.close()},open:function(){return e.open()}}}}]),t}((u=l(u)).default);r.default=d,d.displayName="ToolbarAPI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(14),n(28),n(59)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"keydown",value:function(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case l.default.keyCodes.BACKSPACE:this.backspace(e);break;case l.default.keyCodes.ENTER:this.enter(e);break;case l.default.keyCodes.DOWN:case l.default.keyCodes.RIGHT:this.arrowRightAndDown(e);break;case l.default.keyCodes.UP:case l.default.keyCodes.LEFT:this.arrowLeftAndUp(e);break;case l.default.keyCodes.TAB:this.tabPressed(e);break;case l.default.keyCodes.ESC:this.escapePressed(e);break;default:this.defaultHandler()}}},{key:"beforeKeydownProcessing",value:function(e){this.needToolbarClosing(e)&&l.default.isPrintableKey(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}},{key:"keyup",value:function(e){if(!e.shiftKey){var t=this.Editor,n=t.InlineToolbar,r=t.ConversionToolbar,i=t.UI,o=t.BlockManager,a=t.BlockSettings,s=o.getBlock(e.target);d.default.almostAllSelected(s.pluginsContent.textContent)?(n.close(),a.close(),r.tryToShow(s)):(r.close(),n.tryToShow(!0)),i.checkEmptiness()}}},{key:"mouseUp",value:function(e){var t=this.Editor,n=t.InlineToolbar,r=t.ConversionToolbar,i=t.BlockManager,o=t.BlockSelection,a=i.getBlock(e.target);l.default.delay((function(){d.default.almostAllSelected(a.pluginsContent.textContent)?(n.close(),r.tryToShow(a)):d.default.isCollapsed?(n.close(),1!==o.selectedBlocks.length&&r.close()):(n.tryToShow(),r.close())}),30)()}},{key:"mouseDown",value:function(e){d.default.isCollapsed||this.Editor.BlockSelection.clearSelection(e),this.Editor.CrossBlockSelection.watchSelection(e)}},{key:"tabPressed",value:function(e){this.Editor.BlockSelection.clearSelection(e);var t=this.Editor,n=t.BlockManager,r=t.Tools,i=t.InlineToolbar,o=t.ConversionToolbar,a=n.currentBlock;if(a){var s=r.isInitial(a.tool)&&a.isEmpty,c=!a.isEmpty&&o.opened,u=!a.isEmpty&&!d.default.isCollapsed&&i.opened;s?this.activateToolbox():c||u||this.activateBlockSettings()}}},{key:"escapePressed",value:function(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.Toolbar.close()}},{key:"dragOver",value:function(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}},{key:"dragLeave",value:function(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}},{key:"handleCommandC",value:function(e){var t=this.Editor.BlockSelection;t.anyBlockSelected&&(e.preventDefault(),t.copySelectedBlocks())}},{key:"handleCommandX",value:function(e){var t=this.Editor,n=t.BlockSelection,r=t.BlockManager,i=t.Caret;if(n.anyBlockSelected){e.preventDefault(),n.copySelectedBlocks();var o=r.removeSelectedBlocks();i.setToBlock(r.insertInitialBlockAtIndex(o,!0),i.positions.START),n.clearSelection(e)}}},{key:"enter",value:function(e){var t=this.Editor,n=t.BlockManager,r=t.Tools,i=t.UI,o=n.currentBlock,a=r.available[o.name];if(!(a&&a[r.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS]||i.someToolbarOpened||e.shiftKey)){var s=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertInitialBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):s=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(s),this.Editor.Tools.isInitial(s.tool)&&s.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),e.preventDefault()}}},{key:"backspace",value:function(e){var t=this.Editor,n=t.BlockManager,r=t.BlockSelection,i=t.Caret,o=n.currentBlock,a=this.Editor.Tools.available[o.name];if(o.selected||o.isEmpty&&o.currentInput===o.firstInput){e.preventDefault();var s=n.currentBlockIndex;return n.previousBlock&&0===n.previousBlock.inputs.length?n.removeBlock(s-1):n.removeBlock(),i.setToBlock(n.currentBlock,s?i.positions.END:i.positions.START),this.Editor.Toolbar.close(),void r.clearSelection(e)}if(!a||!a[this.Editor.Tools.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS]||i.isAtStart){var c=0===n.currentBlockIndex;i.isAtStart&&o.currentInput===o.firstInput&&!c&&(e.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var e=this.Editor,t=e.BlockManager,n=e.Caret,r=e.Toolbar,i=t.previousBlock,o=t.currentBlock;if(o.name!==i.name||!i.mergeable)return 0===i.inputs.length||i.isEmpty?(t.removeBlock(t.currentBlockIndex-1),n.setToBlock(t.currentBlock),void r.close()):void(n.navigatePrevious()&&r.close());n.createShadow(i.pluginsContent),t.mergeBlocks(i,o).then((function(){n.restoreCaret(i.pluginsContent),i.pluginsContent.normalize(),r.close()}))}},{key:"arrowRightAndDown",value:function(e){var t=this;if(!this.Editor.UI.someToolbarOpened||!f.default.usedKeys.includes(e.keyCode)){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var n=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===l.default.keyCodes.DOWN&&n?this.Editor.CrossBlockSelection.toggleBlockSelectedState():(this.Editor.Caret.navigateNext()?e.preventDefault():l.default.delay((function(){t.Editor.BlockManager.currentBlock&&t.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}}},{key:"arrowLeftAndUp",value:function(e){var t=this;if(!this.Editor.UI.someToolbarOpened||!f.default.usedKeys.includes(e.keyCode)){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===l.default.keyCodes.UP&&n?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):(this.Editor.Caret.navigatePrevious()?e.preventDefault():l.default.delay((function(){t.Editor.BlockManager.currentBlock&&t.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}}},{key:"defaultHandler",value:function(){}},{key:"needToolbarClosing",value:function(e){var t=e.keyCode===l.default.keyCodes.ENTER&&this.Editor.Toolbox.opened,n=e.keyCode===l.default.keyCodes.ENTER&&this.Editor.BlockSettings.opened,r=e.keyCode===l.default.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===l.default.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,o=e.keyCode===l.default.keyCodes.TAB;return!(e.shiftKey||o||t||n||r||i)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),t}(u.default);r.default=h,h.displayName="BlockEvents",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(72),n(7),n(12),n(14),n(350)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h,m){var g=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=g(i),o=g(o),a=g(a),s=g(s),c=g(c),u=g(u),l=g(l),d=g(d),f=g(f),p=g(p),h=g(h),m=g(m);var v=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments)))._currentBlockIndex=-1,e._blocks=null,e}var n,r;return(0,l.default)(t,e),(0,s.default)(t,[{key:"prepare",value:(r=(0,o.default)(i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new m.default(this.Editor.UI.nodes.redactor),n=this.Editor,r=n.BlockEvents,o=n.Shortcuts,this._blocks=new Proxy(t,{set:m.default.set,get:m.default.get}),o.add({name:"CMD+C",handler:function(e){r.handleCommandC(e)}}),o.add({name:"CMD+X",handler:function(e){r.handleCommandX(e)}});case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"composeBlock",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.Editor.Tools.construct(e,t),i=this.Editor.Tools.available[e],o=new d.default(e,r,i,n,this.Editor.API.methods);return this.bindEvents(o),o}},{key:"insert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.initialBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentBlockIndex+1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.composeBlock(e,t,n);return this._blocks[r]=o,i&&(this.currentBlockIndex=r),o}},{key:"paste",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=r?this.replace(e):this.insert(e);try{n.call("onPaste",t)}catch(t){h.default.log("".concat(e,": onPaste callback call is failed"),"error",t)}return n}},{key:"insertInitialBlockAtIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.composeBlock(this.config.initialBlock,{},{});return this._blocks[e]=n,t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,n}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(n=(0,o.default)(i.default.mark((function e(t,n){var r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._blocks.indexOf(n),!n.isEmpty){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.data;case 5:if(o=e.sent,h.default.isEmpty(o)){e.next=9;break}return e.next=9,t.mergeWith(o);case 9:this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(t);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"removeBlock",value:function(e){if(void 0===e&&(e=this.currentBlockIndex),this._blocks.remove(e),this.currentBlockIndex>=e&&this.currentBlockIndex--,!this.blocks.length)return this.currentBlockIndex=-1,void this.insert();0===e&&(this.currentBlockIndex=0)}},{key:"removeSelectedBlocks",value:function(){for(var e,t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(t),e=t);return e}},{key:"removeAllBlocks",value:function(){for(var e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=p.default.make("div");t.appendChild(e);var n={text:p.default.isEmpty(t)?"":t.innerHTML};return this.insert(this.config.initialBlock,n)}},{key:"replace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.initialBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.composeBlock(e,t);return this._blocks.insert(this.currentBlockIndex,n,!0),n}},{key:"getBlockByIndex",value:function(e){return this._blocks[e]}},{key:"getBlock",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=this._blocks.nodes,n=e.closest(".".concat(d.default.CSS.wrapper)),r=t.indexOf(n);if(r>=0)return this._blocks[r]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach((function(e){return e.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=e.closest(".".concat(d.default.CSS.wrapper));if(t)return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock;throw new Error("Can not find a Block from this child Node")}},{key:"getBlockByChildNode",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=e.closest(".".concat(d.default.CSS.wrapper));return this.blocks.find((function(e){return e.holder===t}))}},{key:"swap",value:function(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._blocks.removeAll(),this.dropPointer(),e&&this.insert(this.config.initialBlock),this.Editor.UI.checkEmptiness()}},{key:"bindEvents",value:function(e){var t=this.Editor,n=t.BlockEvents,r=t.Listeners;r.on(e.holder,"keydown",(function(e){return n.keydown(e)}),!0),r.on(e.holder,"mouseup",(function(e){return n.mouseUp(e)})),r.on(e.holder,"mousedown",(function(e){return n.mouseDown(e)})),r.on(e.holder,"keyup",(function(e){return n.keyup(e)})),r.on(e.holder,"dragover",(function(e){return n.dragOver(e)})),r.on(e.holder,"dragleave",(function(e){return n.dragLeave(e)}))}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(e){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[e]&&this._blocks[e].willSelect(),this._currentBlockIndex=e}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find((function(e){return!!e.inputs.length}))}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((function(e){return!!e.inputs.length}))}},{key:"previousBlock",get:function(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every((function(e){return e.isEmpty}))}}]),t}(f.default);r.default=v,v.displayName="BlockManager",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(14),n(12),n(28)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).needToSelectAll=!1,e.nativeInputSelected=!1,e.readyToBlockSelection=!1,e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"prepare",value:function(){var e=this;this.Editor.Shortcuts.add({name:"CMD+A",handler:function(t){e.Editor.BlockManager.currentBlock&&e.handleCommandA(t)}}),this.selection=new f.default}},{key:"unSelectBlockByIndex",value:function(e){var t=this.Editor.BlockManager;(isNaN(e)?t.currentBlock:t.getBlockByIndex(e)).selected=!1}},{key:"clearSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.Editor,r=n.BlockManager,i=n.Caret,o=n.RectangleSelection;if(this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1,this.anyBlockSelected&&e&&e instanceof KeyboardEvent&&l.default.isPrintableKey(e.keyCode)){var a=r.removeSelectedBlocks();r.insertInitialBlockAtIndex(a,!0),i.setToBlock(r.currentBlock),l.default.delay((function(){i.insertContentAtCaretPosition(e.key)}),20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!o.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(){var e=this,t=d.default.make("div");this.selectedBlocks.forEach((function(n){var r=e.Editor.Sanitizer.clean(n.holder.innerHTML,e.sanitizerConfig),i=d.default.make("p");i.innerHTML=r,t.appendChild(i)})),l.default.copyTextToClipboard(t.innerHTML)}},{key:"selectBlockByIndex",value:function(e){var t,n=this.Editor.BlockManager;n.clearFocused(),t=isNaN(e)?n.currentBlock:n.getBlockByIndex(e),this.selection.save(),f.default.get().removeAllRanges(),t.selected=!0}},{key:"handleCommandA",value:function(e){if(this.Editor.RectangleSelection.clearSelection(),!d.default.isNativeInput(e.target)||this.readyToBlockSelection){var t=this.Editor.BlockManager.getBlock(e.target).inputs;t.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==t.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),f.default.get().removeAllRanges(),this.allBlocksSelected=!0}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every((function(e){return!0===e.selected}))},set:function(e){this.Editor.BlockManager.blocks.forEach((function(t){return t.selected=e}))}},{key:"anyBlockSelected",get:function(){return this.Editor.BlockManager.blocks.some((function(e){return!0===e.selected}))}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter((function(e){return e.selected}))}}]),t}(u.default);r.default=h,h.displayName="BlockSelection",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(28),n(7),n(12),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"setToBlock",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.Editor.BlockManager;switch(r){case this.positions.START:t=e.firstInput;break;case this.positions.END:t=e.lastInput;break;default:t=e.currentInput}if(t){var a=d.default.getDeepestNode(t,r===this.positions.END),s=d.default.getContentLength(a);switch(!0){case r===this.positions.START:i=0;break;case r===this.positions.END:case i>s:i=s}f.default.delay((function(){n.set(a,i)}),20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=t}}},{key:"setToInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.Editor.BlockManager.currentBlock,i=d.default.getDeepestNode(e);switch(t){case this.positions.START:this.set(i,0);break;case this.positions.END:var o=d.default.getContentLength(i);this.set(i,o);break;default:n&&this.set(i,n)}r.currentInput=e}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createRange(),r=u.default.get();if(d.default.isNativeInput(e)){if(!d.default.canSetCaret(e))return;return e.focus(),void(e.selectionStart=e.selectionEnd=t)}n.setStart(e,t),n.setEnd(e,t),r.removeAllRanges(),r.addRange(n);var i=e.nodeType===Node.ELEMENT_NODE?e.getBoundingClientRect():n.getBoundingClientRect(),o=i.top,a=i.bottom,s=window,c=s.innerHeight;o<0&&window.scrollBy(0,o),a>c&&window.scrollBy(0,a-c)}},{key:"setToTheLastBlock",value:function(){var e=this.Editor.BlockManager.lastBlock;if(e)if(this.Editor.Tools.isInitial(e.tool)&&e.isEmpty)this.setToBlock(e);else{var t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}},{key:"extractFragmentFromCaretPosition",value:function(){var e=u.default.get();if(e.rangeCount){var t=e.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),n){var r=t.cloneRange();return r.selectNodeContents(n),r.setStart(t.endContainer,t.endOffset),r.extractContents()}}}},{key:"navigateNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.Editor.BlockManager,n=t.currentBlock,r=t.nextContentfulBlock,i=n.nextInput;return!(!r&&!i||!e&&!this.isAtEnd||(i?this.setToInput(i,this.positions.START):this.setToBlock(r,this.positions.START),0))}},{key:"navigatePrevious",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.Editor.BlockManager,n=t.currentBlock,r=t.previousContentfulBlock;if(!n)return!1;var i=n.previousInput;return!(!r&&!i||!e&&!this.isAtStart||(i?this.setToInput(i,this.positions.END):this.setToBlock(r,this.positions.END),0))}},{key:"createShadow",value:function(e){var n=document.createElement("span");n.classList.add(t.CSS.shadowCaret),e.insertAdjacentElement("beforeEnd",n)}},{key:"restoreCaret",value:function(e){var n=e.querySelector(".".concat(t.CSS.shadowCaret));n&&((new u.default).expandToTag(n),setTimeout((function(){var e=document.createRange();e.selectNode(n),e.extractContents()}),50))}},{key:"insertContentAtCaretPosition",value:function(e){var t=document.createDocumentFragment(),n=document.createElement("div"),r=u.default.get(),i=u.default.range;n.innerHTML=e,Array.from(n.childNodes).forEach((function(e){return t.appendChild(e)}));var o=t.lastChild;i.deleteContents(),i.insertNode(t);var a=document.createRange();a.setStart(o,o.textContent.length),r.removeAllRanges(),r.addRange(a)}},{key:"getHigherLevelSiblings",value:function(e,t){for(var n=e,r=[];n.parentNode&&"true"!==n.parentNode.contentEditable;)n=n.parentNode;for(var i="left"===t?"previousSibling":"nextSibling";n[i];)n=n[i],r.push(n);return r}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var e=u.default.get(),t=d.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),n=e.focusNode;if(d.default.isNativeInput(t))return 0===t.selectionEnd;if(!e.anchorNode)return!1;var r=n.textContent.search(/\S/);-1===r&&(r=0);var i=e.focusOffset;return n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[i]?(n=n.childNodes[i],i=0):i=(n=n.childNodes[i-1]).textContent.length),!(!d.default.isLineBreakTag(t)&&!d.default.isEmpty(t)||!this.getHigherLevelSiblings(n,"left").every((function(e){var t=d.default.isLineBreakTag(e),n=1===e.children.length&&d.default.isLineBreakTag(e.children[0]),r=t||n;return d.default.isEmpty(e)&&!r}))||i!==r)||null===t||n===t&&i<=r}},{key:"isAtEnd",get:function(){var e=u.default.get(),t=e.focusNode,n=d.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(d.default.isNativeInput(n))return n.selectionEnd===n.value.length;if(!e.focusNode)return!1;var r=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[r-1]?r=(t=t.childNodes[r-1]).textContent.length:(t=t.childNodes[0],r=0)),d.default.isLineBreakTag(n)||d.default.isEmpty(n)){var i=this.getHigherLevelSiblings(t,"right");if(i.every((function(e,t){return t===i.length-1&&d.default.isLineBreakTag(e)||d.default.isEmpty(e)&&!d.default.isLineBreakTag(e)}))&&r===t.textContent.length)return!0}var o=n.textContent.replace(/\s+$/,"");return t===n&&r>=o.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),t}(l.default);r.default=h,h.displayName="Caret",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(28),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d){var f=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=f(i),o=f(o),a=f(a),s=f(s),c=f(c),u=f(u),l=f(l),d=f(d);var p=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).onMouseUp=function(){var t=e.Editor.Listeners;t.off(document,"mouseover",e.onMouseOver),t.off(document,"mouseup",e.onMouseUp)},e.onMouseOver=function(t){var n=e.Editor.BlockManager,r=n.getBlockByChildNode(t.relatedTarget)||e.lastSelectedBlock,i=n.getBlockByChildNode(t.target);if(r&&i&&i!==r){if(r===e.firstSelectedBlock)return l.default.get().removeAllRanges(),r.selected=!0,void(i.selected=!0);if(i===e.firstSelectedBlock)return r.selected=!1,void(i.selected=!1);e.toggleBlocksSelectedState(r,i),e.lastSelectedBlock=i}},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"watchSelection",value:function(e){if(e.button===d.default.mouseButtons.LEFT){var t=this.Editor,n=t.BlockManager,r=(t.UI,t.Listeners);this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,r.on(document,"mouseover",this.onMouseOver),r.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.Editor.BlockManager;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,l.default.get().removeAllRanges());var n=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),r=t.blocks[n];r&&(this.lastSelectedBlock.selected!==r.selected?r.selected=!0:this.lastSelectedBlock.selected=!1,this.lastSelectedBlock=r)}},{key:"clear",value:function(e){var t=this.Editor,n=t.BlockManager,r=t.BlockSelection,i=t.Caret,o=n.blocks.indexOf(this.firstSelectedBlock),a=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&a>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case d.default.keyCodes.DOWN:case d.default.keyCodes.RIGHT:i.setToBlock(n.blocks[Math.max(o,a)],i.positions.END);break;case d.default.keyCodes.UP:case d.default.keyCodes.LEFT:i.setToBlock(n.blocks[Math.min(o,a)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(o,a)],i.positions.END)}else i.setToBlock(n.blocks[Math.max(o,a)],i.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"toggleBlocksSelectedState",value:function(e,t){for(var n=this.Editor.BlockManager,r=n.blocks.indexOf(e),i=n.blocks.indexOf(t),o=e.selected!==t.selected,a=Math.min(r,i);a<=Math.max(r,i);a++){var s=n.blocks[a];s!==this.firstSelectedBlock&&s!==(o?e:t)&&(n.blocks[a].selected=!n.blocks[a].selected)}}}]),t}(u.default);r.default=p,p.displayName="CrossBlockSelection",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(28),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d);var h=function(e){function t(){var e,n;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments))).isStartedAtEditor=!1,e.processDrop=(n=(0,o.default)(i.default.mark((function t(n){var r,o,a,s,c,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.Editor,o=r.BlockManager,a=r.Caret,s=r.Paste,n.preventDefault(),o.blocks.forEach((function(e){return e.dropTarget=!1})),d.default.isAtEditor&&!d.default.isCollapsed&&e.isStartedAtEditor&&document.execCommand("delete"),e.isStartedAtEditor=!1;try{c=o.setCurrentBlockByChildNode(n.target),e.Editor.Caret.setToBlock(c,a.positions.END)}catch(t){u=o.setCurrentBlockByChildNode(o.lastBlock.holder),e.Editor.Caret.setToBlock(u,a.positions.END)}s.processDataTransfer(n.dataTransfer,!0);case 7:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"prepare",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.Editor.Listeners.on(this.Editor.UI.nodes.holder,"drop",this.processDrop,!0),this.Editor.Listeners.on(this.Editor.UI.nodes.holder,"dragstart",(function(t){d.default.isAtEditor&&!d.default.isCollapsed&&(e.isStartedAtEditor=!0),e.Editor.InlineToolbar.close()})),this.Editor.Listeners.on(this.Editor.UI.nodes.holder,"dragover",(function(e){return e.preventDefault()}),!0)}}]),t}((f=p(f)).default);r.default=h,h.displayName="DragNDrop",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).subscribers={},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"on",value:function(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}},{key:"emit",value:function(e,t){this.subscribers[e]&&this.subscribers[e].reduce((function(e,t){return t(e)||e}),t)}},{key:"off",value:function(e,t){for(var n=0;n<this.subscribers[e].length;n++)if(this.subscribers[e][n]===t){delete this.subscribers[e][n];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),t}((u=l(u)).default);r.default=d,d.displayName="Events",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u){var l=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=l(i),o=l(o),a=l(a),s=l(s),c=l(c);var d=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).allListeners=[],e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"on",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={element:e,eventType:t,handler:n,options:r},o=this.findOne(e,t,n);o||(this.allListeners.push(i),e.addEventListener(t,n,r))}},{key:"off",value:function(e,t,n,r){var i=this,o=this.findAll(e,t,n);o.forEach((function(e,t){var n=i.allListeners.indexOf(o[t]);n>0&&(i.allListeners.splice(n,1),e.element.removeEventListener(e.eventType,e.handler,e.options))}))}},{key:"findOne",value:function(e,t,n){var r=this.findAll(e,t,n);return r.length>0?r[0]:null}},{key:"findAll",value:function(e,t,n){var r=e?this.findByEventTarget(e):[];return e&&t&&n?r.filter((function(e){return e.eventType===t&&e.handler===n})):e&&t?r.filter((function(e){return e.eventType===t})):r}},{key:"removeAll",value:function(){this.allListeners.map((function(e){e.element.removeEventListener(e.eventType,e.handler)})),this.allListeners=[]}},{key:"findByEventTarget",value:function(e){return this.allListeners.filter((function(t){if(t.element===e)return t}))}},{key:"findByType",value:function(e){return this.allListeners.filter((function(t){if(t.eventType===e)return t}))}},{key:"findByHandler",value:function(e){return this.allListeners.filter((function(t){if(t.handler===e)return t}))}}]),t}((u=l(u)).default);r.default=d,d.displayName="Listeners",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(7),n(14),n(72)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p){var h=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=h(i),o=h(o),a=h(a),s=h(s),c=h(c),u=h(u),l=h(l),d=h(d),f=h(f),p=h(p);var m=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments))).mutationDebouncer=f.default.debounce((function(){e.updateNativeInputs(),e.config.onChange()}),t.DebounceTimer),e.nativeInputs=[],e}var n;return(0,l.default)(t,e),(0,s.default)(t,[{key:"destroy",value:function(){var e=this;this.mutationDebouncer=null,this.observer&&this.observer.disconnect(),this.observer=null,this.nativeInputs.forEach((function(t){return e.Editor.Listeners.off(t,"input",e.mutationDebouncer)}))}},{key:"prepare",value:(n=(0,o.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.setTimeout((function(){t.setObserver()}),1e3);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setObserver",value:function(){var e=this,t=this.Editor.UI;this.observer=new MutationObserver((function(t,n){e.mutationHandler(t,n)})),this.observer.observe(t.nodes.redactor,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(e,t){if(!this.disabled){var n=!1;e.forEach((function(e){switch(e.type){case"childList":case"subtree":case"characterData":case"characterDataOldValue":n=!0;break;case"attributes":if(!e.target.classList.contains(p.default.CSS.wrapper))return void(n=!0)}})),n&&this.mutationDebouncer()}}},{key:"updateNativeInputs",value:function(){var e=this;this.nativeInputs&&this.nativeInputs.forEach((function(t){e.Editor.Listeners.off(t,"input")})),this.nativeInputs=Array.from(this.Editor.UI.nodes.redactor.querySelectorAll("textarea, input, select")),this.nativeInputs.forEach((function(t){return e.Editor.Listeners.on(t,"input",e.mutationDebouncer)}))}}]),t}(d.default);r.default=m,m.displayName="ModificationsObserver",m.DebounceTimer=450,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(351)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),c=d(c),u=d(u),l=d(l);var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"show",value:function(e){l.default.show(e)}}]),t}(u.default);r.default=f,f.displayName="Notifier",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(99),n(26),n(27),n(58),n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h,m){var g=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=g(i),o=g(o),a=g(a),s=g(s),c=g(c),u=g(u),l=g(l),d=g(d),f=g(f),p=g(p),h=g(h),m=g(m);var v=function(e){function t(){var e,n;return(0,c.default)(this,t),(e=(0,l.default)(this,(0,d.default)(t).apply(this,arguments))).toolsTags={},e.tagsByTool={},e.toolsPatterns=[],e.toolsFiles={},e.exceptionList=[],e.processTool=function(t){var n=(0,s.default)(t,2),r=n[0],i=n[1];try{var o=new e.Editor.Tools.blockTools[r]({api:e.Editor.API.methods,config:{},data:{}});if(!1===i.pasteConfig)return void e.exceptionList.push(r);if("function"!=typeof o.onPaste)return;var a=i.pasteConfig||{};e.getTagsConfig(r,a),e.getFilesConfig(r,a),e.getPatternsConfig(r,a)}catch(e){m.default.log("Paste handling for «".concat(r,"» Tool hasn't been set up because of the error"),"warn",e)}},e.handlePasteEvent=(n=(0,a.default)(o.default.mark((function t(n){var r,i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.Editor,i=r.BlockManager,a=r.Toolbar,i.currentBlock&&(!e.isNativeBehaviour(n.target)||n.clipboardData.types.includes("Files"))){t.next=3;break}return t.abrupt("return");case 3:if(!i.currentBlock||!e.exceptionList.includes(i.currentBlock.name)){t.next=5;break}return t.abrupt("return");case 5:n.preventDefault(),e.processDataTransfer(n.clipboardData),i.clearFocused(),a.close();case 9:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),e}var n,r,p,g,v,y,b,_,k;return(0,f.default)(t,e),(0,u.default)(t,[{key:"prepare",value:(k=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setCallback(),this.processTools();case 2:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"processDataTransfer",value:(_=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s,c,u,l,d=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]&&d[1],r=this.Editor.Sanitizer,!((i=t.types).includes?i.includes("Files"):i.contains("Files"))){e.next=8;break}return e.next=7,this.processFiles(t.files);case 7:return e.abrupt("return");case 8:if(a=t.getData("text/plain"),s=t.getData("text/html"),n&&a.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:a)+"</p>"),c=Object.keys(this.toolsTags).reduce((function(e,t){return e[t.toLowerCase()]=!0,e}),{}),u=Object.assign({},c,r.getAllInlineToolsConfig(),{br:{}}),(l=r.clean(s,u)).trim()&&l.trim()!==a&&h.default.isHTMLString(l)){e.next=19;break}return e.next=17,this.processText(a);case 17:e.next=21;break;case 19:return e.next=21,this.processText(l,!0);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"processText",value:(b=(0,a.default)(o.default.mark((function e(t){var n,r,i,s,c,u,l,d,f=this,p=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>1&&void 0!==p[1]&&p[1],r=this.Editor,i=r.Caret,s=r.BlockManager,c=r.Tools,(u=n?this.processHTML(t):this.processPlain(t)).length){e.next=5;break}return e.abrupt("return");case 5:if(1!==u.length){e.next=8;break}return u[0].isBlock?this.processSingleBlock(u.pop()):this.processInlinePaste(u.pop()),e.abrupt("return");case 8:return l=s.currentBlock&&c.isInitial(s.currentBlock.tool),d=l&&s.currentBlock.isEmpty,e.next=12,Promise.all(u.map(function(){var e=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.insertBlock(t,0===n&&d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 12:s.currentBlock&&i.setToBlock(s.currentBlock,i.positions.END);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"setCallback",value:function(){this.Editor.Listeners.on(document,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var e=this.Editor.Tools.blockTools;Object.entries(e).forEach(this.processTool)}},{key:"getTagsConfig",value:function(e,t){var n=this,r=t.tags||[];r.forEach((function(t){n.toolsTags.hasOwnProperty(t)?m.default.log("Paste handler for «".concat(e,"» Tool on «").concat(t,"» tag is skipped ")+"because it is already used by «".concat(n.toolsTags[t].tool,"» Tool."),"warn"):n.toolsTags[t.toUpperCase()]={tool:e}})),this.tagsByTool[e]=r.map((function(e){return e.toUpperCase()}))}},{key:"getFilesConfig",value:function(e,t){var n=t.files,r=void 0===n?{}:n,i=r.extensions,o=r.mimeTypes;(i||o)&&(i&&!Array.isArray(i)&&(m.default.log("«extensions» property of the onDrop config for «".concat(e,"» Tool should be an array")),i=[]),o&&!Array.isArray(o)&&(m.default.log("«mimeTypes» property of the onDrop config for «".concat(e,"» Tool should be an array")),o=[]),o&&(o=o.filter((function(t){return!!m.default.isValidMimeType(t)||(m.default.log("MIME type value «".concat(t,"» for the «").concat(e,"» Tool is not a valid MIME type"),"warn"),!1)}))),this.toolsFiles[e]={extensions:i||[],mimeTypes:o||[]})}},{key:"getPatternsConfig",value:function(e,t){var n=this;t.patterns&&!m.default.isEmpty(t.patterns)&&Object.entries(t.patterns).forEach((function(t){var r=(0,s.default)(t,2),i=r[0],o=r[1];o instanceof RegExp||m.default.log("Pattern ".concat(o," for «").concat(e,"» Tool is skipped because it should be a Regexp instance."),"warn"),n.toolsPatterns.push({key:i,pattern:o,tool:e})}))}},{key:"isNativeBehaviour",value:function(e){return h.default.isNativeInput(e)}},{key:"processFiles",value:(y=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s,c,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Editor,r=n.BlockManager,i=n.Tools,e.next=3,Promise.all(Array.from(t).map((function(e){return u.processFile(e)})));case 3:a=(a=e.sent).filter((function(e){return!!e})),s=i.isInitial(r.currentBlock.tool),c=s&&r.currentBlock.isEmpty,a.forEach((function(e,t){r.paste(e.type,e.event,0===t&&c)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"processFile",value:(v=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.default.getFileExtension(t),r=Object.entries(this.toolsFiles).find((function(e){var r=(0,s.default)(e,2),i=(r[0],r[1]),o=i.mimeTypes,a=i.extensions,c=t.type.split("/"),u=(0,s.default)(c,2),l=u[0],d=u[1],f=a.find((function(e){return e.toLowerCase()===n.toLowerCase()})),p=o.find((function(e){var t=e.split("/"),n=(0,s.default)(t,2),r=n[0],i=n[1];return r===l&&(i===d||"*"===i)}));return!!f||!!p}))){e.next=4;break}return e.abrupt("return");case 4:return i=(0,s.default)(r,1),a=i[0],c=this.composePasteEvent("file",{file:t}),e.abrupt("return",{event:c,type:a});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"processHTML",value:function(e){var t=this,n=this.Editor,r=n.Tools,i=n.Sanitizer,o=this.config.initialBlock,a=h.default.make("DIV");return a.innerHTML=e,this.getNodes(a).map((function(e){var n,a=o,s=!1;switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(n=h.default.make("div")).appendChild(e);break;case Node.ELEMENT_NODE:n=e,s=!0,t.toolsTags[n.tagName]&&(a=t.toolsTags[n.tagName].tool)}var c=r.blockTools[a].pasteConfig.tags.reduce((function(e,t){return e[t.toLowerCase()]={},e}),{}),u=Object.assign({},c,i.getInlineToolsConfig(a));return n.innerHTML=i.clean(n.innerHTML,u),{content:n,isBlock:s,tool:a,event:t.composePasteEvent("tag",{data:n})}})).filter((function(e){return!h.default.isNodeEmpty(e.content)||h.default.isSingleTag(e.content)}))}},{key:"processPlain",value:function(e){var t=this,n=this.config.initialBlock;if(this.Editor.Tools,!e)return[];var r=n;return e.split(/\r?\n/).filter((function(e){return e.trim()})).map((function(e){var n=h.default.make("div");n.innerHTML=e;var i=t.composePasteEvent("tag",{data:n});return{content:n,tool:r,isBlock:!1,event:i}}))}},{key:"processSingleBlock",value:(g=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.Editor,r=n.Caret,i=n.BlockManager,a=n.Tools,(s=i.currentBlock)&&t.tool===s.name&&h.default.containsOnlyInlineElements(t.content.innerHTML)){e.next=5;break}return this.insertBlock(t,s&&a.isInitial(s.tool)&&s.isEmpty),e.abrupt("return");case 5:r.insertContentAtCaretPosition(t.content.innerHTML);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"processInlinePaste",value:(p=(0,a.default)(o.default.mark((function e(n){var r,i,a,s,c,u,l,d,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.Editor,i=r.BlockManager,a=r.Caret,s=r.Sanitizer,c=r.Tools,u=n.content,n.tool,!(i.currentBlock&&c.isInitial(i.currentBlock.tool)&&u.textContent.length<t.PATTERN_PROCESSING_MAX_LENGTH)){e.next=12;break}return e.next=6,this.processPattern(u.textContent);case 6:if(!(l=e.sent)){e.next=12;break}return f=i.currentBlock&&c.isInitial(i.currentBlock.tool)&&i.currentBlock.isEmpty,d=i.paste(l.tool,l.event,f),a.setToBlock(d,a.positions.END),e.abrupt("return");case 12:i.currentBlock&&i.currentBlock.currentInput?(p=s.getInlineToolsConfig(i.currentBlock.name),document.execCommand("insertHTML",!1,s.clean(u.innerHTML,p))):this.insertBlock(n);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"processPattern",value:(r=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.toolsPatterns.find((function(e){var n=e.pattern.exec(t);return!!n&&t===n.shift()}))){e.next=3;break}return e.abrupt("return");case 3:return r=this.composePasteEvent("pattern",{key:n.key,data:t}),e.abrupt("return",{event:r,tool:n.tool});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"insertBlock",value:(n=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,s,c,u=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]&&u[1],r=this.Editor,i=r.BlockManager,a=r.Caret,s=i.currentBlock,!(n&&s&&s.isEmpty)){e.next=7;break}return c=i.paste(t.tool,t.event,!0),a.setToBlock(c,a.positions.END),e.abrupt("return");case 7:c=i.paste(t.tool,t.event),a.setToBlock(c,a.positions.END);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getNodes",value:function(e){var t=this,n=Array.from(e.childNodes),r=Object.keys(this.toolsTags);return n.reduce((function e(n,o){if(h.default.isEmpty(o)&&!h.default.isSingleTag(o))return n;var a=n[n.length-1],s=new DocumentFragment;switch(a&&h.default.isFragment(a)&&(s=n.pop()),o.nodeType){case Node.ELEMENT_NODE:var c=o;if("BR"===c.tagName)return[].concat((0,i.default)(n),[s,new DocumentFragment]);var u=(t.toolsTags[c.tagName]||{}).tool,l=void 0===u?"":u,d=t.tagsByTool[l]||[],f=r.includes(c.tagName),p=h.default.blockElements.includes(c.tagName.toLowerCase()),m=Array.from(c.children).some((function(e){var t=e.tagName;return r.includes(t)&&!d.includes(t)})),g=Array.from(c.children).some((function(e){var t=e.tagName;return h.default.blockElements.includes(t.toLowerCase())}));if(!p&&!f&&!m)return s.appendChild(c),[].concat((0,i.default)(n),[s]);if(f&&!m||p&&!g&&!m)return[].concat((0,i.default)(n),[s,c]);break;case Node.TEXT_NODE:return s.appendChild(o),[].concat((0,i.default)(n),[s]);default:return[].concat((0,i.default)(n),[s])}return[].concat((0,i.default)(n),(0,i.default)(Array.from(o.childNodes).reduce(e,[])))}),[])}},{key:"composePasteEvent",value:function(e,t){return new CustomEvent(e,{detail:t})}}]),t}(p.default);r.default=v,v.displayName="Paste",v.PATTERN_PROCESSING_MAX_LENGTH=450,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(28),n(72)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).isRectSelectionActivated=!1,e.SCROLL_SPEED=3,e.HEIGHT_OF_SCROLL_ZONE=40,e.BOTTOM_SCROLL_ZONE=1,e.TOP_SCROLL_ZONE=2,e.MAIN_MOUSE_BUTTON=0,e.mousedown=!1,e.isScrolling=!1,e.inScrollZone=null,e.startX=0,e.startY=0,e.mouseX=0,e.mouseY=0,e.stackOfSelected=[],e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"prepare",value:function(){var e=this,t=this.Editor.Listeners,n=this.genHTML().container;t.on(n,"mousedown",(function(t){t.button===e.MAIN_MOUSE_BUTTON&&e.startSelection(t.pageX,t.pageY)}),!1),t.on(document.body,"mousemove",(function(t){e.changingRectangle(t),e.scrollByZones(t.clientY)}),!1),t.on(document.body,"mouseleave",(function(){e.clearSelection(),e.endSelection()})),t.on(window,"scroll",(function(t){e.changingRectangle(t)}),!1),t.on(document.body,"mouseup",(function(){e.endSelection()}),!1)}},{key:"startSelection",value:function(e,t){this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[];var n=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset),r=[".".concat(f.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],i=n.closest("."+this.Editor.UI.CSS.editorWrapper),o=r.some((function(e){return!!n.closest(e)}));i&&!o&&(this.mousedown=!0,this.startX=e,this.startY=t)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none";var e=this.Editor.BlockSelection.selectedBlocks;1===e.length&&this.Editor.ConversionToolbar.tryToShow(e[0])}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"scrollByZones",value:function(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var e=this.Editor.UI,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=l.default.make("div",t.CSS.overlay,{}),i=l.default.make("div",t.CSS.overlayContainer,{}),o=l.default.make("div",t.CSS.rect,{});return i.appendChild(o),r.appendChild(i),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}},{key:"scrollVertical",value:function(e){var t=this;if(this.inScrollZone&&this.mousedown){var n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout((function(){t.scrollVertical(e)}),0)}}},{key:"changingRectangle",value:function(e){if(this.mousedown){void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);var t=this.genInfoForMouseSelection(),n=t.rightPos,r=t.leftPos,i=t.index,o=this.startX>n&&this.mouseX>n,a=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||a),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),void 0!==i&&(this.trySelectNextBlock(i),this.inverseSelection(),d.default.get().removeAllRanges(),e.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var e,t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t){var n=!0,r=!1,i=void 0;try{for(var o,a=this.stackOfSelected[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.Editor.BlockSelection.selectBlockByIndex(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}if(!this.rectCrossesBlocks&&t){var c=!0,u=!1,l=void 0;try{for(var d,f=this.stackOfSelected[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;this.Editor.BlockSelection.unSelectBlockByIndex(p)}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var e,t=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(t,n),i=this.Editor.BlockManager.getBlockByChildNode(r);void 0!==i&&(e=this.Editor.BlockManager.blocks.findIndex((function(e){return e.holder===i.holder})));var o=this.Editor.BlockManager.lastBlock.holder.querySelector("."+f.default.CSS.content),a=Number.parseInt(window.getComputedStyle(o).width,10)/2;return{index:e,leftPos:t-a,rightPos:t+a}}},{key:"addBlockInSelection",value:function(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}},{key:"trySelectNextBlock",value:function(e){var t=this,n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length;if(!n){var i=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0,o=r<=1?0:i?1:-1,a=e>this.stackOfSelected[r-1]&&1===o,s=e<this.stackOfSelected[r-1]&&-1===o,c=!(a||s||0===o);if(c||!(e>this.stackOfSelected[r-1]||void 0===this.stackOfSelected[r-1])){if(!c&&e<this.stackOfSelected[r-1])for(var u=this.stackOfSelected[r-1]-1;u>=e;u--)this.addBlockInSelection(u);else if(c){var l,d=r-1;for(l=e>this.stackOfSelected[r-1]?function(){return e>t.stackOfSelected[d]}:function(){return e<t.stackOfSelected[d]};l();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[d]),this.stackOfSelected.pop(),d--}}else for(var f=this.stackOfSelected[r-1]+1||e;f<=e;f++)this.addBlockInSelection(f)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),t}(u.default);r.default=h,h.displayName="RectangleSelection",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(7),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,u.default)(t).apply(this,arguments))}var n,r;return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:(r=(0,o.default)(i.default.mark((function e(t){var n,r,o=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return{function:function(){return o.insertBlock(e)}}})),e.next=3,f.default.sequence(n);case 3:return r=e.sent,this.Editor.UI.checkEmptiness(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"insertBlock",value:(n=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,c,u,l,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.Editor,r=n.Tools,o=n.BlockManager,a=t.type,s=t.data,c=t.settings,!(a in r.available)){e.next=15;break}e.prev=5,o.insert(a,s,c),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(5),f.default.log("Block «".concat(a,"» skipped because of plugins error"),"warn",s),Error(e.t0);case 13:e.next=20;break;case 15:u={savedData:{type:a,data:s},title:a},a in r.unavailable&&(l=r.unavailable[a].toolbox,d=r.getToolSettings(a).toolbox,u.title=l.title||d.title||u.title),o.insert(r.stubTool,u,c).stretched=!0,f.default.log("Tool «".concat(a,"» is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 20:case"end":return e.stop()}}),e,this,[[5,9]])}))),function(e){return n.apply(this,arguments)})}]),t}(d.default);r.default=h,h.displayName="Renderer",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(58),n(55),n(1),n(2),n(4),n(5),n(6),n(7),n(14),n(352)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p){var h=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=h(i),o=h(o),a=h(a),s=h(s),c=h(c),u=h(u),l=h(l),d=h(d),f=h(f),p=h(p);var m=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments))).configCache={},e.inlineToolsConfigCache=null,e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"sanitizeBlocks",value:function(e){var t=this;return e.map((function(e){var n=t.composeToolConfig(e.tool);return f.default.isEmpty(n)?e:(e.data=t.deepSanitize(e.data,n),e)}))}},{key:"deepSanitize",value:function(e,t){return Array.isArray(e)?this.cleanArray(e,t):"object"===(0,o.default)(e)?this.cleanObject(e,t):"string"==typeof e?this.cleanOneItem(e,t):e}},{key:"clean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={tags:t},r=this.createHTMLJanitorInstance(n);return r.clean(e)}},{key:"composeToolConfig",value:function(e){if(this.configCache[e])return this.configCache[e];var t=this.Editor.Tools.INTERNAL_SETTINGS.SANITIZE_CONFIG,n=this.Editor.Tools.available[e],r=this.getInlineToolsConfig(e);if(!n.sanitize||n[t]&&f.default.isEmpty(n[t]))return r;var i=n.sanitize,a={};for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];"object"===(0,o.default)(c)?a[s]=Object.assign({},r,c):a[s]=c}return this.configCache[e]=a,a}},{key:"getInlineToolsConfig",value:function(e){var t=this.Editor.Tools,n=t.getToolSettings(e).inlineToolbar||[],r={};return"boolean"==typeof n&&n?r=this.getAllInlineToolsConfig():n.map((function(e){r=Object.assign(r,t.inline[e][t.INTERNAL_SETTINGS.SANITIZE_CONFIG])})),r}},{key:"getAllInlineToolsConfig",value:function(){var e=this.Editor.Tools;if(this.inlineToolsConfigCache)return this.inlineToolsConfigCache;var t={};return Object.entries(e.inline).forEach((function(n){var r=(0,i.default)(n,2),o=(r[0],r[1]);Object.assign(t,o[e.INTERNAL_SETTINGS.SANITIZE_CONFIG])})),this.inlineToolsConfigCache=t,this.inlineToolsConfigCache}},{key:"cleanArray",value:function(e,t){var n=this;return e.map((function(e){return n.deepSanitize(e,t)}))}},{key:"cleanObject",value:function(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=this.isRule(t[r])?t[r]:t;n[r]=this.deepSanitize(i,o)}return n}},{key:"cleanOneItem",value:function(e,t){return"object"===(0,o.default)(t)?this.clean(e,t):!1===t?this.clean(e,{}):e}},{key:"isRule",value:function(e){return"object"===(0,o.default)(e)||"boolean"==typeof e||"function"==typeof e}
/**
           * If developer uses editor's API, then he can customize sanitize restrictions.
           * Or, sanitizing config can be defined globally in editors initialization. That config will be used everywhere
           * At least, if there is no config overrides, that API uses Default configuration
           *
           * @uses https://www.npmjs.com/package/html-janitor
           * @license https://github.com/guardian/html-janitor/blob/master/LICENSE
           *
           * @param {SanitizerConfig} config - sanitizer extension
           */},{key:"createHTMLJanitorInstance",value:function(e){return e?new p.default(e):null}}]),t}(d.default);r.default=m,m.displayName="Sanitizer",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d){var f=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=f(i),o=f(o),a=f(a),s=f(s),c=f(c),u=f(u),l=f(l);var p=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,u.default)(t).apply(this,arguments))}var n,r;return(0,l.default)(t,e),(0,s.default)(t,[{key:"save",value:(r=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,c,u,l=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Editor,n=t.BlockManager,r=t.Sanitizer,o=t.ModificationsObserver,a=n.blocks,s=[],o.disable(),a.forEach((function(e){s.push(l.getSavedData(e))})),e.next=6,Promise.all(s);case 6:return c=e.sent,e.next=9,r.sanitizeBlocks(c);case 9:return u=e.sent,o.enable(),e.abrupt("return",this.makeOutput(u));case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSavedData",value:(n=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.save();case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=7,t.validate(n.data);case 7:e.t0=e.sent;case 8:return r=e.t0,e.abrupt("return",Object.assign({},n,{isValid:r}));case 10:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"makeOutput",value:function(e){var t=this,n=0,r=[];return console.groupCollapsed("[Editor.js saving]:"),e.forEach((function(e){var i=e.tool,o=e.data,a=e.time,s=e.isValid;if(n+=a,console.group("".concat(i.charAt(0).toUpperCase()+i.slice(1))),!s)return console.log("Block «".concat(i,"» skipped because saved data is invalid")),void console.groupEnd();console.log(o),console.groupEnd(),i!==t.Editor.Tools.stubTool?r.push({type:i,data:o}):r.push(o)})),console.log("Total",n),console.groupEnd(),{time:+new Date,blocks:r,version:"2.15.1"}}}]),t}((d=f(d)).default);r.default=p,p.displayName="Saver",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(353),n(7)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),c=d(c),u=d(u);var f=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).registeredShortcuts=[],e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"add",value:function(e){var t=new u.default({name:e.name,on:document,callback:e.handler});this.registeredShortcuts.push(t)}},{key:"remove",value:function(e){var t=this.registeredShortcuts.findIndex((function(t){return t.name===e}));this.registeredShortcuts[t].remove(),this.registeredShortcuts.splice(t,1)}}]),t}((l=d(l)).default);r.default=f,f.displayName="Shortcuts",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(59),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).nodes={wrapper:null,toolSettings:null,defaultSettings:null},e.buttons=[],e.flipper=null,e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"make",value:function(){this.nodes.wrapper=l.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=l.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=l.default.make("div",this.CSS.defaultSettings),l.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.addToolSettings(),this.addDefaultSettings(),this.Editor.Events.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.Editor.Events.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){"function"==typeof this.Editor.BlockManager.currentBlock.tool.renderSettings&&l.default.append(this.nodes.toolSettings,this.Editor.BlockManager.currentBlock.tool.renderSettings())}},{key:"addDefaultSettings",value:function(){l.default.append(this.nodes.defaultSettings,this.Editor.BlockManager.currentBlock.renderTunes())}},{key:"enableFlipper",value:function(){var e=this;this.flipper=new d.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(){f.default.delay((function(){e.Editor.Caret.setToBlock(e.Editor.BlockManager.currentBlock)}),10)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var e=this;if(0!==this.buttons.length)return this.buttons;var t=this.nodes.toolSettings.querySelectorAll(".".concat(this.Editor.StylesAPI.classes.settingsButton)),n=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return t.forEach((function(t){e.buttons.push(t)})),n.forEach((function(t){e.buttons.push(t)})),this.buttons}}]),t}(u.default);r.default=h,h.displayName="BlockSettings",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(14),n(59)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h){var m=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=m(i),o=m(o),a=m(a),s=m(s),c=m(c),u=m(u),l=m(l),d=m(d),f=m(f),p=m(p),h=m(h);var g=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments))).nodes={wrapper:null,tools:null},e.opened=!1,e.tools={},e.flipper=null,e}var n;return(0,l.default)(t,e),(0,s.default)(t,[{key:"make",value:function(){this.nodes.wrapper=f.default.make("div",t.CSS.conversionToolbarWrapper),this.nodes.tools=f.default.make("div",t.CSS.conversionToolbarTools),this.addTools(),this.enableFlipper(),f.default.append(this.nodes.wrapper,this.nodes.tools),f.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"tryToShow",value:function(e){e.class.conversionConfig&&e.class.conversionConfig.export&&(this.move(e),this.opened||this.open(),this.highlightActiveTool(e.name))}},{key:"open",value:function(){this.opened=!0,this.flipper.activate(Object.values(this.tools)),this.flipper.focusFirst(),this.nodes.wrapper.classList.add(t.CSS.conversionToolbarShowed)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(t.CSS.conversionToolbarShowed)}},{key:"replaceWithBlock",value:(n=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,c,u,l,d,f,h=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Editor.BlockManager.currentBlock.class,r=this.Editor.BlockManager.currentBlock.name,e.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(o=e.sent,a=o.data,r===t&&(t=this.config.initialBlock),s=this.Editor.Tools.toolsClasses[t],c="","function"!=typeof(u=n.conversionConfig.export)){e.next=14;break}c=u(a),e.next=20;break;case 14:if("string"!=typeof u){e.next=18;break}c=a[u],e.next=20;break;case 18:return p.default.log("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),e.abrupt("return");case 20:if(l=this.Editor.Sanitizer.clean(c,s.sanitize),d={},"function"!=typeof(f=s.conversionConfig.import)){e.next=27;break}d=f(l),e.next=33;break;case 27:if("string"!=typeof f){e.next=31;break}d[f]=l,e.next=33;break;case 31:return p.default.log("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),e.abrupt("return");case 33:this.Editor.BlockManager.replace(t,d),this.Editor.BlockSelection.clearSelection(),this.close(),p.default.delay((function(){h.Editor.Caret.setToBlock(h.Editor.BlockManager.currentBlock)}),10)();case 37:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"move",value:function(e){var t=e.pluginsContent.getBoundingClientRect(),n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:t.left-n.left,y:t.top+t.height-n.top};this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}},{key:"addTools",value:function(){var e=this.Editor.Tools.blockTools;for(var t in e)if(e.hasOwnProperty(t)){var n=this.Editor.Tools.INTERNAL_SETTINGS,r=e[t],i=r[n.TOOLBOX],o=r[n.CONVERSION_CONFIG];!p.default.isEmpty(i)&&i.icon&&o&&o.import&&this.addTool(t,i.icon)}}},{key:"addTool",value:function(e,n){var r=this,a=f.default.make("div",[t.CSS.conversionTool]);a.dataset.tool=e,a.innerHTML=n,f.default.append(this.nodes.tools,a),this.tools[e]=a,this.Editor.Listeners.on(a,"click",(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.replaceWithBlock(e);case 2:case"end":return t.stop()}}),t)}))))}},{key:"highlightActiveTool",value:function(e){this.tools[e]&&(Object.values(this.tools).forEach((function(e){e.classList.remove(t.CSS.conversionToolActive)})),this.tools[e].classList.add(t.CSS.conversionToolActive))}},{key:"enableFlipper",value:function(){this.flipper=new h.default({focusedItemClass:t.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionTool:"ce-conversion-tool",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),t}(d.default);r.default=g,g.displayName="ConversionToolbar",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(58),n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(28),n(14),n(59)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h){var m=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=m(i),o=m(o),a=m(a),s=m(s),c=m(c),u=m(u),l=m(l),d=m(d),f=m(f),p=m(p),h=m(h);var g=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).apply(this,arguments))).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inlineToolButtonLast:"ce-inline-tool--last",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused"},e.opened=!1,e.nodes={wrapper:null,buttons:null,actions:null},e.toolbarVerticalMargin=20,e.buttonsList=null,e.width=0,e.flipper=null,e}return(0,u.default)(t,e),(0,a.default)(t,[{key:"make",value:function(){var e=this;this.nodes.wrapper=d.default.make("div",this.CSS.inlineToolbar),this.nodes.buttons=d.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=d.default.make("div",this.CSS.actionsWrapper),this.Editor.Listeners.on(this.nodes.wrapper,"mousedown",(function(t){t.target.closest(".".concat(e.CSS.actionsWrapper))||t.preventDefault()})),d.default.append(this.nodes.wrapper,[this.nodes.buttons,this.nodes.actions]),d.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addTools(),this.recalculateWidth(),this.enableFlipper()}},{key:"tryToShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allowedToShow()?(this.move(),this.open(),this.Editor.Toolbar.close(),this.checkToolsState(),this.Editor.BlockSelection.clearSelection()):e&&this.close()}},{key:"move",value:function(){var e=f.default.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),n={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(n.x+=Math.floor(e.width/2));var r=n.x-this.width/2,i=n.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,r<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(n.x)+"px",this.nodes.wrapper.style.top=Math.floor(n.y)+"px"}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),this.tools.forEach((function(e){"function"==typeof e.clear&&e.clear()})),this.opened=!1,this.flipper.deactivate()}},{key:"open",value:function(){this.filterTools(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.tools.forEach((function(e){"function"==typeof e.clear&&e.clear()})),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0;var e=Array.from(this.buttonsList).filter((function(e){return!e.hidden}));this.flipper.activate(e)}},{key:"allowedToShow",value:function(){var e=f.default.get(),t=f.default.text;if(!e||!e.anchorNode)return!1;if(e.isCollapsed||t.length<1)return!1;var n=d.default.isElement(e.anchorNode)?e.anchorNode:e.anchorNode.parentElement;if(e&&["IMG","INPUT"].includes(n.tagName))return!1;if(null===n.closest('[contenteditable="true"]'))return!1;var r=this.Editor.BlockManager.getBlock(e.anchorNode);if(!r)return!1;var i=this.Editor.Tools.getToolSettings(r.name);return i&&i[this.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS]}},{key:"filterTools",value:function(){var e=this,t=f.default.get(),n=this.Editor.BlockManager.getBlock(t.anchorNode),r=this.Editor.Tools.getToolSettings(n.name),i=r&&r[this.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS],o=Array.from(this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)));o.forEach((function(t){t.hidden=!1,t.classList.remove(e.CSS.inlineToolButtonLast)})),Array.isArray(i)&&o.forEach((function(e){e.hidden=!i.includes(e.dataset.tool)}));var a=o.filter((function(e){return!e.hidden})).pop();a&&a.classList.add(this.CSS.inlineToolButtonLast),this.recalculateWidth()}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addTools",value:function(){var e=this;this.tools.forEach((function(t,n){e.addTool(n,t)}))}},{key:"addTool",value:function(e,t){var n=this,r=this.Editor,o=r.Listeners,a=r.Tools,s=t.render();if(s){if(s.dataset.tool=e,this.nodes.buttons.appendChild(s),"function"==typeof t.renderActions){var c=t.renderActions();this.nodes.actions.appendChild(c)}o.on(s,"click",(function(e){n.toolClicked(t),e.preventDefault()}));var u=a.getToolSettings(e),l=null;Object.entries(a.internalTools).filter((function(e){var t=(0,i.default)(e,2),n=(t[0],t[1]);return p.default.isFunction(n)?n[a.INTERNAL_SETTINGS.IS_INLINE]:n.class[a.INTERNAL_SETTINGS.IS_INLINE]})).map((function(e){return(0,i.default)(e,1)[0]})).includes(e)?l=this.inlineTools[e][a.INTERNAL_SETTINGS.SHORTCUT]:u&&u[a.USER_SETTINGS.SHORTCUT]&&(l=u[a.USER_SETTINGS.SHORTCUT]),l&&this.enableShortcuts(t,l)}else p.default.log("Render method must return an instance of Node","warn",e)}},{key:"enableShortcuts",value:function(e,t){var n=this;this.Editor.Shortcuts.add({name:t,handler:function(t){var r=n.Editor.BlockManager.currentBlock;if(r){var i=n.Editor.Tools.getToolSettings(r.name);i&&i[n.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS]&&(t.preventDefault(),n.toolClicked(e))}}})}},{key:"toolClicked",value:function(e){var t=f.default.range;e.surround(t),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.tools.forEach((function(e){e.checkState(f.default.get())}))}},{key:"enableFlipper",value:function(){this.flipper=new h.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"tools",get:function(){if(!this.toolsInstances||0===this.toolsInstances.size){var e=this.inlineTools;for(var t in this.toolsInstances=new Map,e)e.hasOwnProperty(t)&&this.toolsInstances.set(t,e[t])}return this.toolsInstances}},{key:"inlineTools",get:function(){var e={};for(var t in this.Editor.Tools.inline)if(this.Editor.Tools.inline.hasOwnProperty(t)){var n=this.Editor.Tools.getToolSettings(t);e[t]=this.Editor.Tools.constructInline(this.Editor.Tools.inline[t],n)}return e}}]),t}(l.default);r.default=g,g.displayName="InlineToolbar",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(4),n(5),n(6),n(7),n(12),n(14),n(59)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f){var p=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=p(i),o=p(o),a=p(a),s=p(s),c=p(c),u=p(u),l=p(l),d=p(d),f=p(f);var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).apply(this,arguments))).opened=!1,e.nodes={toolbox:null,tooltip:null,buttons:[]},e.displayedToolsCount=0,e.flipper=null,e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"make",value:function(){this.nodes.toolbox=l.default.make("div",this.CSS.toolbox),l.default.append(this.Editor.Toolbar.nodes.content,this.nodes.toolbox),this.addTools(),this.addTooltip(),this.enableFlipper()}},{key:"toolButtonActivate",value:function(e,t){var n=this.Editor.Tools.toolsClasses[t];this.insertNewBlock(n,t)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.hideTooltip(),this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"hideTooltip",value:function(){this.nodes.tooltip.classList.remove(this.CSS.tooltipShown)}},{key:"addTools",value:function(){var e=this.Editor.Tools.available;for(var t in e)e.hasOwnProperty(t)&&this.addTool(t,e[t])}},{key:"addTool",value:function(e,t){var n=this,r=this.Editor.Tools.INTERNAL_SETTINGS,i=this.Editor.Tools.USER_SETTINGS,o=t[r.TOOLBOX];if(!d.default.isEmpty(o))if(!o||o.icon){var a=this.Editor.Tools.getToolSettings(e)[i.TOOLBOX]||{},s=l.default.make("li",[this.CSS.toolboxButton]);s.dataset.tool=e,s.innerHTML=a.icon||o.icon,l.default.append(this.nodes.toolbox,s),this.nodes.toolbox.appendChild(s),this.nodes.buttons.push(s),this.Editor.Listeners.on(s,"click",(function(t){n.toolButtonActivate(t,e)})),this.Editor.Listeners.on(s,"mouseenter",(function(){n.showTooltip(s,e)})),this.Editor.Listeners.on(s,"mouseleave",(function(){n.hideTooltip()}));var c=this.Editor.Tools.getToolSettings(e);c&&c[this.Editor.Tools.USER_SETTINGS.SHORTCUT]&&this.enableShortcut(t,e,c[this.Editor.Tools.USER_SETTINGS.SHORTCUT]),this.displayedToolsCount++}else d.default.log("Toolbar icon is missed. Tool %o skipped","warn",e)}},{key:"addTooltip",value:function(){this.nodes.tooltip=l.default.make("div",this.CSS.tooltip,{innerHTML:""}),l.default.append(this.Editor.Toolbar.nodes.content,this.nodes.tooltip)}},{key:"showTooltip",value:function(e,t){var n=this.Editor.Tools.getToolSettings(t),r=this.Editor.Tools.available[t][this.Editor.Tools.INTERNAL_SETTINGS.TOOLBOX]||{},i=(n.toolbox||{}).title||r.title||t,o=n[this.Editor.Tools.USER_SETTINGS.SHORTCUT],a=document.createDocumentFragment(),s=document.createTextNode(d.default.capitalize(i));if(a.appendChild(s),o){var c=d.default.getUserOS();o=o.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),o=c.mac?o.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):o.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),a.appendChild(l.default.make("div",this.CSS.tooltipShortcut,{textContent:o}))}var u=e.offsetLeft,f=Math.floor(this.Editor.BlockManager.currentBlock.holder.offsetHeight/2);this.nodes.tooltip.innerHTML="",this.nodes.tooltip.appendChild(a),this.nodes.tooltip.style.left="".concat(u+16,"px"),this.nodes.tooltip.style.transform="translate3d(-50%, ".concat(f,"px, 0)"),this.nodes.tooltip.classList.add(this.CSS.tooltipShown)}},{key:"enableShortcut",value:function(e,t,n){var r=this;this.Editor.Shortcuts.add({name:n,handler:function(n){n.preventDefault(),r.insertNewBlock(e,t)}})}},{key:"enableFlipper",value:function(){var e=Array.from(this.nodes.toolbox.childNodes);this.flipper=new f.default({items:e,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(e,t){var n,r=this.Editor,i=r.BlockManager,o=r.Caret;(n=i.currentBlock.isEmpty?i.replace(t):i.insert(t)).call("appendCallback",{}),this.Editor.Caret.setToBlock(n),0===n.inputs.length&&(n===i.lastBlock?(i.insertAtEnd(),o.setToBlock(i.lastBlock)):o.setToBlock(i.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",tooltip:"ce-toolbox__tooltip",tooltipShown:"ce-toolbox__tooltip--shown",tooltipShortcut:"ce-toolbox__tooltip-shortcut",openedToolbarHolderModifier:"codex-editor--toolbox-opened"}}},{key:"isEmpty",get:function(){return 0===this.displayedToolsCount}}]),t}(u.default);r.default=h,h.displayName="Toolbox",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(58),n(55),n(1),n(2),n(4),n(5),n(6),n(354),n(7),n(14),n(355),n(356),n(357),n(358)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h,m,g,v){var y=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=y(i),o=y(o),a=y(a),s=y(s),c=y(c),u=y(u),l=y(l),d=y(d),f=y(f),p=y(p),h=y(h),m=y(m),g=y(g),v=y(v);var b=function(e){function t(e){var n,r=e.config;return(0,a.default)(this,t),(n=(0,c.default)(this,(0,u.default)(t).call(this,{config:r}))).stubTool="stub",n.toolsClasses={},n.toolsAvailable={},n.toolsUnavailable={},n.toolsSettings={},n._inlineTools={},n.toolsClasses={},n.toolsSettings={},n.toolsAvailable={},n.toolsUnavailable={},n._inlineTools=null,n}return(0,l.default)(t,e),(0,s.default)(t,[{key:"prepare",value:function(){var e=this;if(this.validateTools(),this.config.tools=p.default.deepMerge({},this.internalTools,this.config.tools),!this.config.hasOwnProperty("tools")||0===Object.keys(this.config.tools).length)throw Error("Can't start without tools");for(var t in this.config.tools)"object"===(0,o.default)(this.config.tools[t])?(this.toolsClasses[t]=this.config.tools[t].class,this.toolsSettings[t]=this.config.tools[t],delete this.toolsSettings[t].class):(this.toolsClasses[t]=this.config.tools[t],this.toolsSettings[t]={class:this.config.tools[t]});var n=this.getListOfPrepareFunctions();return 0===n.length?Promise.resolve():p.default.sequence(n,(function(t){e.success(t)}),(function(t){e.fallback(t)}))}},{key:"success",value:function(e){this.toolsAvailable[e.toolName]=this.toolsClasses[e.toolName]}},{key:"fallback",value:function(e){this.toolsUnavailable[e.toolName]=this.toolsClasses[e.toolName]}},{key:"construct",value:function(e,t){var n=this.toolsClasses[e],r=this.toolsSettings[e][this.USER_SETTINGS.CONFIG]||{};return e!==this.config.initialBlock||r.placeholder||(r.placeholder=this.config.placeholder),new n({api:this.Editor.API.methods,config:r,data:t})}},{key:"constructInline",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={api:this.Editor.API.methods,config:t[this.USER_SETTINGS.CONFIG]||{}};return new e(n)}},{key:"isInitial",value:function(e){return e instanceof this.available[this.config.initialBlock]}},{key:"getToolSettings",value:function(e){return this.toolsSettings[e]}},{key:"getListOfPrepareFunctions",value:function(){var e=[];for(var t in this.toolsClasses)if(this.toolsClasses.hasOwnProperty(t)){var n=this.toolsClasses[t];"function"==typeof n.prepare?e.push({function:n.prepare,data:{toolName:t,config:this.toolsSettings[t][this.USER_SETTINGS.CONFIG]}}):this.toolsAvailable[t]=n}return e}},{key:"validateTools",value:function(){for(var e in this.config.tools)if(this.config.tools.hasOwnProperty(e)){if(e in this.internalTools)return;var t=this.config.tools[e];if(!p.default.isFunction(t)&&!p.default.isFunction(t.class))throw Error("Tool «".concat(e,"» must be a constructor function or an object with function in the «class» property"))}}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inline",get:function(){var e=this;if(this._inlineTools)return this._inlineTools;var t=Object.entries(this.available).filter((function(t){var n=(0,i.default)(t,2),r=(n[0],n[1]);if(!r[e.INTERNAL_SETTINGS.IS_INLINE])return!1;var o=["render","surround","checkState"].filter((function(t){return!e.constructInline(r)[t]}));return!o.length||(p.default.log("Incorrect Inline Tool: ".concat(r.name,". Some of required methods is not implemented %o"),"warn",o),!1)})),n={};return t.forEach((function(e){var t=(0,i.default)(e,2),r=t[0],o=t[1];return n[r]=o})),this._inlineTools=n,this._inlineTools}},{key:"blockTools",get:function(){var e=this,t=Object.entries(this.available).filter((function(t){var n=(0,i.default)(t,2);return!(n[0],n[1])[e.INTERNAL_SETTINGS.IS_INLINE]})),n={};return t.forEach((function(e){var t=(0,i.default)(e,2),r=t[0],o=t[1];return n[r]=o})),n}},{key:"INTERNAL_SETTINGS",get:function(){return{IS_ENABLED_LINE_BREAKS:"enableLineBreaks",IS_INLINE:"isInline",SHORTCUT:"shortcut",TOOLBOX:"toolbox",SANITIZE_CONFIG:"sanitize",CONVERSION_CONFIG:"conversionConfig"}}},{key:"USER_SETTINGS",get:function(){return{SHORTCUT:"shortcut",TOOLBOX:"toolbox",ENABLED_INLINE_TOOLS:"inlineToolbar",CONFIG:"config"}}},{key:"internalTools",get:function(){return{bold:{class:h.default},italic:{class:m.default},link:{class:g.default},paragraph:{class:d.default,inlineToolbar:!0},stub:{class:v.default}}}}]),t}(f.default);r.default=b,b.displayName="Tools",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(26),n(27),n(1),n(2),n(4),n(5),n(6),n(359),n(7),n(12),n(14),n(28),n(72)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l,d,f,p,h,m,g){var v=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=v(i),o=v(o),a=v(a),s=v(s),c=v(c),u=v(u),l=v(l),d=v(d),f=v(f),p=v(p),h=v(h),m=v(m),g=v(g);var y=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments))).isMobile=!1,e.nodes={holder:null,wrapper:null,redactor:null},e.contentRectCache=void 0,e.resizeDebouncer=h.default.debounce((function(){e.windowResize()}),200),e}var r,f;return(0,l.default)(t,e),(0,s.default)(t,[{key:"addLoader",value:function(){this.nodes.loader=p.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(f=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkIsMobile(),e.next=3,this.make();case 3:return this.addLoader(),e.next=6,this.appendSVGSprite();case 6:return e.next=8,this.Editor.Toolbar.make();case 8:return e.next=10,this.Editor.InlineToolbar.make();case 10:return e.next=12,this.Editor.ConversionToolbar.make();case 12:return e.next=14,this.loadStyles();case 14:return e.next=16,this.bindEvents();case 16:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"checkEmptiness",value:function(){var e=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:(r=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.nodes.holder=p.default.getHolder(this.config.holder),this.nodes.wrapper=p.default.make("div",this.CSS.editorWrapper),this.nodes.redactor=p.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadStyles",value:function(){var e=n(360),t=p.default.make("style",null,{textContent:e.toString()});p.default.prepend(document.head,t)}},{key:"bindEvents",value:function(){var e=this;this.Editor.Listeners.on(this.nodes.redactor,"click",(function(t){return e.redactorClicked(t)}),!1),this.Editor.Listeners.on(document,"keydown",(function(t){return e.documentKeydown(t)}),!0),this.Editor.Listeners.on(document,"click",(function(t){return e.documentClicked(t)}),!0),h.default.isTouchSupported()&&this.Editor.Listeners.on(document,"selectionchange",(function(t){e.selectionChanged(t)}),!0),this.Editor.Listeners.on(window,"resize",(function(){e.resizeDebouncer()}),{passive:!0})}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(e){switch(e.keyCode){case h.default.keyCodes.ENTER:this.enterPressed(e);break;case h.default.keyCodes.BACKSPACE:this.backspacePressed(e);break;default:this.defaultBehaviour(e)}}},{key:"defaultBehaviour",value:function(e){var t=e.target.closest(".".concat(this.CSS.editorWrapper)),n=this.Editor.BlockManager.currentBlock,r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t||n&&r||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}},{key:"backspacePressed",value:function(e){var t=this.Editor,n=t.BlockManager,r=t.BlockSelection,i=t.Caret;if(r.anyBlockSelected){var o=n.removeSelectedBlocks();i.setToBlock(n.insertInitialBlockAtIndex(o,!0),i.positions.START),r.clearSelection(e),e.stopPropagation(),e.stopImmediatePropagation()}}},{key:"enterPressed",value:function(e){var t=this.Editor,n=t.BlockManager,r=t.BlockSelection,i=t.Caret,o=n.currentBlockIndex>=0;if(r.anyBlockSelected){var a=n.removeSelectedBlocks();return i.setToBlock(n.insertInitialBlockAtIndex(a,!0),i.positions.START),r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation()}if(!this.someToolbarOpened&&o&&"BODY"===e.target.tagName){var s=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(s),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(e)}},{key:"documentClicked",value:function(e){if(e.isTrusted){var t=e.target;this.nodes.holder.contains(t)||m.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.BlockSelection.clearSelection(e),this.Editor.ConversionToolbar.close()),m.default.isAtEditor&&(m.default.anchorNode===this.nodes.redactor?this.Editor.Caret.setToTheLastBlock():this.Editor.BlockManager.setCurrentBlockByChildNode(m.default.anchorNode))}}},{key:"redactorClicked",value:function(e){if(m.default.isCollapsed){var t=e.target;t===this.nodes.redactor&&(t=document.elementFromPoint(e.clientX,e.clientY));try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch(e){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}e.stopImmediatePropagation(),e.stopPropagation(),this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide(),this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.insert(),this.Editor.Tools.isInitial(this.Editor.BlockManager.currentBlock.tool)&&this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show()}}},{key:"selectionChanged",value:function(e){var t=m.default.anchorElement;t&&t.closest(".".concat(g.default.CSS.content))&&this.Editor.InlineToolbar.tryToShow()}},{key:"appendSVGSprite",value:function(){var e=p.default.make("div");e.hidden=!0,e.style.display="none",e.innerHTML=d.default,p.default.append(this.nodes.wrapper,e)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var e=this.nodes.wrapper.querySelector(".".concat(g.default.CSS.content));return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var e=this.Editor,t=e.Toolbox,n=e.BlockSettings,r=e.InlineToolbar,i=e.ConversionToolbar;return n.opened||r.opened||i.opened||t.opened}}]),t}(f.default);r.default=y,y.displayName="UI",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){n(164),e.exports=n(330)},function(e,t,n){n(165)},function(e,t,n){n(166),n(310),n(312),n(314),n(316),n(318),n(320),n(322),n(324),n(326),n(129)},function(e,t,n){n(167),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(248),n(249),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(95),n(273),n(274),n(119),n(275),n(276),n(277),n(278),n(120),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),e.exports=n(17)},function(e,t,n){var r=n(9),i=n(21),o=n(16),a=n(0),s=n(19),c=n(39).KEY,u=n(8),l=n(75),d=n(48),f=n(41),p=n(13),h=n(76),m=n(101),g=n(168),v=n(79),y=n(11),b=n(10),_=n(23),k=n(38),w=n(40),S=n(45),E=n(104),x=n(29),T=n(15),O=n(43),C=x.f,A=T.f,M=E.f,R=r.Symbol,B=r.JSON,P=B&&B.stringify,I=p("_hidden"),L=p("toPrimitive"),N={}.propertyIsEnumerable,D=l("symbol-registry"),j=l("symbols"),F=l("op-symbols"),U=Object.prototype,z="function"==typeof R,$=r.QObject,H=!$||!$.prototype||!$.prototype.findChild,W=o&&u((function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=C(U,t);r&&delete U[t],A(e,t,n),r&&e!==U&&A(U,t,r)}:A,G=function(e){var t=j[e]=S(R.prototype);return t._k=e,t},Y=z&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},q=function(e,t,n){return e===U&&q(F,t,n),y(e),t=k(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,I)&&e[I][t]&&(e[I][t]=!1),n=S(n,{enumerable:w(0,!1)})):(i(e,I)||A(e,I,w(1,{})),e[I][t]=!0),W(e,t,n)):A(e,t,n)},Z=function(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},K=function(e){var t=N.call(this,e=k(e,!0));return!(this===U&&i(j,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,I)&&this[I][e])||t)},X=function(e,t){if(e=_(e),t=k(t,!0),e!==U||!i(j,t)||i(F,t)){var n=C(e,t);return!n||!i(j,t)||i(e,I)&&e[I][t]||(n.enumerable=!0),n}},V=function(e){for(var t,n=M(_(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==I||t==c||r.push(t);return r},J=function(e){for(var t,n=e===U,r=M(n?F:_(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(U,t)||o.push(j[t]);return o};z||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),i(this,I)&&i(this[I],e)&&(this[I][e]=!1),W(this,e,w(1,n))};return o&&H&&W(U,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),x.f=X,T.f=q,n(46).f=E.f=V,n(57).f=K,n(61).f=J,o&&!n(42)&&s(U,"propertyIsEnumerable",K,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:R});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=O(p.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(D,e+="")?D[e]:D[e]=R(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?S(e):Z(S(e),t)},defineProperty:q,defineProperties:Z,getOwnPropertyDescriptor:X,getOwnPropertyNames:V,getOwnPropertySymbols:J}),B&&a(a.S+a.F*(!z||u((function(){var e=R();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,P.apply(B,r)}}),R.prototype[L]||n(22)(R.prototype,L,R.prototype.valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(43),i=n(61),o=n(57);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(45)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperty:n(15).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperties:n(103)})},function(e,t,n){var r=n(23),i=n(29).f;n(30)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=n(24),i=n(47);n(30)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(24),i=n(43);n(30)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){n(30)("getOwnPropertyNames",(function(){return n(104).f}))},function(e,t,n){var r=n(10),i=n(39).onFreeze;n(30)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(10),i=n(39).onFreeze;n(30)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(10),i=n(39).onFreeze;n(30)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(10);n(30)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(10);n(30)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(10);n(30)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(105)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(184)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})},function(e,t,n){var r=n(62),i={};i[n(13)("toStringTag")]="z",i+""!="[object z]"&&n(19)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(106)})},function(e,t,n){var r=n(15).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(16)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var r=n(10),i=n(47),o=n(13)("hasInstance"),a=Function.prototype;o in a||n(15).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(108);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(109);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(9),i=n(21),o=n(34),a=n(83),s=n(38),c=n(8),u=n(46).f,l=n(29).f,d=n(15).f,f=n(63).trim,p=r.Number,h=p,m=p.prototype,g="Number"==o(n(45)(m)),v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=v?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?c((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var b,_=n(16)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)i(h,b=_[k])&&!i(p,b)&&d(p,b,l(h,b));p.prototype=m,m.constructor=p,n(19)(r,"Number",p)}},function(e,t,n){var r=n(0),i=n(36),o=n(110),a=n(84),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(8)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,c=o(this,l),u=i(e),m="",g="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*h(2,69,1))-69)<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=u;r>=7;)d(1e7,0),r-=7;for(d(h(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),d(1,1),f(2),g=p()}else d(0,n),d(1<<-t,0),g=p()+a.call("0",u);return u>0?m+((s=g.length)<=u?"0."+a.call("0",u-s)+g:g.slice(0,s-u)+"."+g.slice(s-u)):m+g}})},function(e,t,n){var r=n(0),i=n(8),o=n(110),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(9).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(111)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(111),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(109);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(108);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(112),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(85);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(86);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(212)})},function(e,t,n){var r=n(85),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),u=r(e);return i<c?u*(i/c/a+1/o-1/o)*c*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?u*(1/0):u*n}},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,c=0;a<s;)c<(n=i(arguments[a++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(8)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(112)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(85)})},function(e,t,n){var r=n(0),i=n(86),o=Math.exp;r(r.S+r.F*n(8)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(86),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(44),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(23),o=n(18);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){n(63)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var r=n(113)(!0);n(87)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(0),i=n(113)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){var r=n(0),i=n(18),o=n(88),a="".endsWith;r(r.P+r.F*n(90)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){var r=n(0),i=n(88);r(r.P+r.F*n(90)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(84)})},function(e,t,n){var r=n(0),i=n(18),o=n(88),a="".startsWith;r(r.P+r.F*n(90)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){n(20)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){n(20)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){n(20)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){n(20)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){n(20)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){n(20)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){n(20)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){n(20)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){n(20)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){n(20)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){n(20)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){n(20)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){n(20)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(0),i=n(24),o=n(38);r(r.P+r.F*n(8)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(247);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){var r=n(8),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(19)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,t,n){var r=n(13)("toPrimitive"),i=Date.prototype;r in i||n(22)(i,r,n(250))},function(e,t,n){var r=n(11),i=n(38);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(79)})},function(e,t,n){var r=n(32),i=n(0),o=n(24),a=n(115),s=n(91),c=n(18),u=n(92),l=n(93);i(i.S+i.F*!n(64)((function(e){})),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,y=l(f);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=c(f.length));t>v;v++)u(n,v,g?m(f[v],v):f[v]);else for(d=y.call(f),n=new p;!(i=d.next()).done;v++)u(n,v,g?a(d,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){var r=n(0),i=n(92);r(r.S+r.F*n(8)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(0),i=n(23),o=[].join;r(r.P+r.F*(n(56)!=Object||!n(25)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){var r=n(0),i=n(80),o=n(34),a=n(44),s=n(18),c=[].slice;r(r.P+r.F*n(8)((function(){i&&c.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var i=a(e,n),u=a(t,n),l=s(u-i),d=new Array(l),f=0;f<l;f++)d[f]="String"==r?this.charAt(i+f):this[i+f];return d}})},function(e,t,n){var r=n(0),i=n(33),o=n(24),a=n(8),s=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(25)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){var r=n(0),i=n(31)(0),o=n(25)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(259);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(10),i=n(79),o=n(13)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(0),i=n(31)(1);r(r.P+r.F*!n(25)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0),i=n(31)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0),i=n(31)(3);r(r.P+r.F*!n(25)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0),i=n(31)(4);r(r.P+r.F*!n(25)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0),i=n(116);r(r.P+r.F*!n(25)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(0),i=n(116);r(r.P+r.F*!n(25)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){var r=n(0),i=n(60)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(25)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){var r=n(0),i=n(23),o=n(36),a=n(18),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(25)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(117)}),n(50)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(94)}),n(50)("fill")},function(e,t,n){var r=n(0),i=n(31)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(50)("find")},function(e,t,n){var r=n(0),i=n(31)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(50)(o)},function(e,t,n){n(51)("Array")},function(e,t,n){var r=n(9),i=n(83),o=n(15).f,a=n(46).f,s=n(89),c=n(96),u=r.RegExp,l=u,d=u.prototype,f=/a/g,p=/a/g,h=new u(f)!==f;if(n(16)&&(!h||n(8)((function(){return p[n(13)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&o?c.call(e):t),n?this:d,u)};for(var m=function(e){e in u||o(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},g=a(l),v=0;g.length>v;)m(g[v++]);d.constructor=u,u.prototype=d,n(19)(r,"RegExp",u)}n(51)("RegExp")},function(e,t,n){n(119);var r=n(11),i=n(96),o=n(16),a=/./.toString,s=function(e){n(19)(RegExp.prototype,"toString",e,!0)};n(8)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){n(65)("match",1,(function(e,t,n){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))},function(e,t,n){n(65)("replace",2,(function(e,t,n){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}))},function(e,t,n){n(65)("search",1,(function(e,t,n){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))},function(e,t,n){n(65)("split",2,(function(e,t,r){var i=n(89),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,c,u,l,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+g.source+"$(?!\\s)",p));(c=g.exec(n))&&!((u=c.index+c[0].length)>h&&(f.push(n.slice(h,c.index)),!s&&c.length>1&&c[0].replace(r,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(c[d]=void 0)})),c.length>1&&c.index<n.length&&a.apply(f,c.slice(1)),l=c[0].length,h=u,f.length>=m));)g.lastIndex===c.index&&g.lastIndex++;return h===n.length?!l&&g.test("")||f.push(""):f.push(n.slice(h)),f.length>m?f.slice(0,m):f}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]}))},function(e,t,n){var r=n(9),i=n(97).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(34)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var d=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(123),i=n(54);e.exports=n(69)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(123),i=n(54);e.exports=n(69)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r,i=n(31)(0),o=n(19),a=n(39),s=n(105),c=n(124),u=n(10),l=n(8),d=n(54),f=a.getWeak,p=Object.isExtensible,h=c.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=f(e);return!0===t?h(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(69)("WeakMap",g,v,c,!0,!0);l((function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)}))&&(s((r=c.getConstructor(g,"WeakMap")).prototype,v),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=y.prototype,n=t[e];o(t,e,(function(t,i){if(u(t)&&!p(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},function(e,t,n){var r=n(124),i=n(54);n(69)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(0),i=n(70),o=n(98),a=n(11),s=n(44),c=n(18),u=n(10),l=n(9).ArrayBuffer,d=n(67),f=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,m=f.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||u(e)&&g in e}}),r(r.P+r.U+r.F*n(8)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,f))(c(i-r)),u=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,u.getUint8(r++));return o}}),n(51)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(70).ABV,{DataView:n(98).DataView})},function(e,t,n){n(37)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(37)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(37)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(0),i=n(33),o=n(11),a=(n(9).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(8)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),c=o(n);return a?a(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(0),i=n(45),o=n(33),a=n(11),s=n(10),c=n(8),u=n(106),l=(n(9).Reflect||{}).construct,d=c((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),f=!c((function(){l((function(){}))}));r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,p=i(s(c)?c:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(15),i=n(0),o=n(11),a=n(38);i(i.S+i.F*n(8)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(29).f,o=n(11);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(0),i=n(11),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(114)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(29),i=n(47),o=n(21),a=n(0),s=n(10),c=n(11);a(a.S,"Reflect",{get:function e(t,n){var a,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(u=i(t))?e(u,n,l):void 0}})},function(e,t,n){var r=n(29),i=n(0),o=n(11);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(47),o=n(11);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(11),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(126)})},function(e,t,n){var r=n(0),i=n(11),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(15),i=n(29),o=n(47),a=n(21),s=n(0),c=n(40),u=n(11),l=n(10);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,p=arguments.length<4?t:arguments[3],h=i.f(u(t),n);if(!h){if(l(f=o(t)))return e(f,n,s,p);h=c(0)}if(a(h,"value")){if(!1===h.writable||!l(p))return!1;if(d=i.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(p,n,d)}else r.f(p,n,c(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(0),i=n(81);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(311),e.exports=n(17).Array.includes},function(e,t,n){var r=n(0),i=n(60)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(50)("includes")},function(e,t,n){n(313),e.exports=n(17).String.padStart},function(e,t,n){var r=n(0),i=n(127),o=n(68);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(315),e.exports=n(17).String.padEnd},function(e,t,n){var r=n(0),i=n(127),o=n(68);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(317),e.exports=n(76).f("asyncIterator")},function(e,t,n){n(101)("asyncIterator")},function(e,t,n){n(319),e.exports=n(17).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(0),i=n(126),o=n(23),a=n(29),s=n(92);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),c=a.f,u=i(r),l={},d=0;u.length>d;)void 0!==(n=c(r,t=u[d++]))&&s(l,t,n);return l}})},function(e,t,n){n(321),e.exports=n(17).Object.values},function(e,t,n){var r=n(0),i=n(128)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(323),e.exports=n(17).Object.entries},function(e,t,n){var r=n(0),i=n(128)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(120),n(325),e.exports=n(17).Promise.finally},function(e,t,n){var r=n(0),i=n(17),o=n(9),a=n(67),s=n(122);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){n(327),n(328),n(329),e.exports=n(17)},function(e,t,n){var r=n(9),i=n(0),o=n(68),a=[].slice,s=/MSIE .\./.test(o),c=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){var r=n(0),i=n(97);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(95),i=n(43),o=n(19),a=n(9),s=n(22),c=n(49),u=n(13),l=u("iterator"),d=u("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=a[v],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[d]||s(_,d,v),c[v]=f,y))for(g in r)_[g]||o(_,g,r[g],!0)}},function(e,t,n){var r,i,o;i=[t,n(58),n(55),n(1),n(2),n(334),n(336),n(337)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),l=d(l);var f=function(){function e(t){var n=this;(0,a.default)(this,e);var r=function(){};"object"===(0,o.default)(t)&&"function"==typeof t.onReady&&(r=t.onReady);var i=new l.default(t);this.isReady=i.isReady.then((function(){n.exportAPI(i),r()}))}return(0,s.default)(e,null,[{key:"version",get:function(){return"2.15.1"}}]),(0,s.default)(e,[{key:"exportAPI",value:function(e){var t=this;["configuration"].forEach((function(n){t[n]=e[n]})),this.destroy=function(){for(var n in e.moduleInstances.Listeners.removeAll(),e.moduleInstances.UI.destroy(),e.moduleInstances.ModificationsObserver.destroy(),e=null,t)t.hasOwnProperty(n)&&delete t[n];Object.setPrototypeOf(t,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((function(n){var r=(0,i.default)(n,2),o=r[0],a=r[1];Object.entries(a).forEach((function(n){var r=(0,i.default)(n,2),a=r[0],s=r[1];t[s]=e.moduleInstances.API.methods[o][a]}))}))}}]),e}();r.default=f,f.displayName="EditorJS",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){(t=e.exports=function(...e){return i(...e)}).__esModule=!0;const r=n(335),i=r.default;Object.assign(t,r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},t.revert=function(){}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(e){var t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)})})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r,i,o;i=[t,n(55),n(26),n(27),n(1),n(2),n(12),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c,u,l){var d=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=d(i),o=d(o),a=d(a),s=d(s),c=d(c),u=d(u),l=d(l);var f=n(343),p=[];f.keys().forEach((function(e){e.match(/^\.\/[^_][\w\/]*\.([tj])s$/)&&p.push(f(e))}));var h=function(){function e(t){var n,r,i=this;(0,s.default)(this,e),this.moduleInstances={},this.isReady=new Promise((function(e,t){n=e,r=t})),Promise.resolve().then((0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.configuration=t,e.next=3,i.validate();case 3:return e.next=5,i.init();case 5:return e.next=7,i.start();case 7:l.default.log("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout((function(){if(i.configuration.autofocus){var e=i.moduleInstances,t=e.BlockManager,r=e.Caret;r.setToBlock(t.blocks[0],r.positions.START)}i.moduleInstances.UI.removeLoader(),n()}),500);case 9:case"end":return e.stop()}}),e)})))).catch((function(e){l.default.log("Editor.js is not ready because of ".concat(e),"error"),r(e)}))}var t,n;return(0,c.default)(e,[{key:"validate",value:(n=(0,a.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.config,n=t.holderId,r=t.holder,!n||!r){e.next=3;break}throw Error("«holderId» and «holder» param can't assign at the same time.");case 3:if("string"!=typeof r||u.default.get(r)){e.next=5;break}throw Error("element with ID «".concat(r,"» is missing. Pass correct holder's ID."));case 5:if(!r||"object"!==(0,i.default)(r)||u.default.isElement(r)){e.next=7;break}throw Error("holder as HTMLElement if provided must be inherit from Element class.");case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(t=(0,a.default)(o.default.mark((function e(){var t,n=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["Tools","UI","BlockManager","Paste","DragNDrop","ModificationsObserver","BlockSelection","RectangleSelection"],e.next=3,t.reduce((function(e,t){return e.then((0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.moduleInstances[t].prepare();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),l.default.log("Module ".concat(t," was skipped because of %o"),"warn",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))))}),Promise.resolve());case 3:return e.abrupt("return",this.moduleInstances.Renderer.render(this.config.data.blocks));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"constructModules",value:function(){var e=this;p.forEach((function(t){try{e.moduleInstances[t.displayName]=new t({config:e.configuration})}catch(e){l.default.log("Module ".concat(t.displayName," skipped because"),"warn",e)}}))}},{key:"configureModules",value:function(){for(var e in this.moduleInstances)this.moduleInstances.hasOwnProperty(e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}},{key:"getModulesDiff",value:function(e){var t={};for(var n in this.moduleInstances)n!==e&&(t[n]=this.moduleInstances[n]);return t}},{key:"configuration",set:function(e){"object"!==(0,i.default)(e)&&(e={holder:e}),e.holderId&&!e.holder&&(e.holder=e.holderId,e.holderId=null,l.default.log("holderId property will deprecated in next major release, use holder property instead.","warn")),this.config=e,null==this.config.holder&&(this.config.holder="editorjs"),this.config.initialBlock=this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight||300;var t={type:this.config.initialBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.data=this.config.data||{},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},l.default.isEmpty(this.config.data)?(this.config.data={},this.config.data.blocks=[t]):this.config.data.blocks&&0!==this.config.data.blocks.length||(this.config.data.blocks=[t])},get:function(){return this.config}}]),e}();r.default=h,h.displayName="Core",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(129),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r={"./api":71,"./api/":71,"./api/blocks":130,"./api/blocks.ts":130,"./api/caret":131,"./api/caret.ts":131,"./api/events":132,"./api/events.ts":132,"./api/index":71,"./api/index.ts":71,"./api/inlineToolbar":133,"./api/inlineToolbar.ts":133,"./api/listeners":134,"./api/listeners.ts":134,"./api/notifier":135,"./api/notifier.ts":135,"./api/sanitizer":136,"./api/sanitizer.ts":136,"./api/saver":137,"./api/saver.ts":137,"./api/selection":138,"./api/selection.ts":138,"./api/styles":139,"./api/styles.ts":139,"./api/toolbar":140,"./api/toolbar.ts":140,"./blockEvents":141,"./blockEvents.ts":141,"./blockManager":142,"./blockManager.ts":142,"./blockSelection":143,"./blockSelection.ts":143,"./caret":144,"./caret.ts":144,"./crossBlockSelection":145,"./crossBlockSelection.ts":145,"./dragNDrop":146,"./dragNDrop.ts":146,"./events":147,"./events.ts":147,"./listeners":148,"./listeners.ts":148,"./modificationsObserver":149,"./modificationsObserver.ts":149,"./notifier":150,"./notifier.ts":150,"./paste":151,"./paste.ts":151,"./rectangleSelection":152,"./rectangleSelection.ts":152,"./renderer":153,"./renderer.ts":153,"./sanitizer":154,"./sanitizer.ts":154,"./saver":155,"./saver.ts":155,"./shortcuts":156,"./shortcuts.ts":156,"./toolbar":73,"./toolbar/":73,"./toolbar/blockSettings":157,"./toolbar/blockSettings.ts":157,"./toolbar/conversion":158,"./toolbar/conversion.ts":158,"./toolbar/index":73,"./toolbar/index.ts":73,"./toolbar/inline":159,"./toolbar/inline.ts":159,"./toolbar/toolbox":160,"./toolbar/toolbox.ts":160,"./tools":161,"./tools.ts":161,"./ui":162,"./ui.ts":162};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=343},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(t,n){(0,i.default)(this,e),this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=n}return(0,o.default)(e,[{key:"setItems",value:function(e){this.items=e}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(e.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(e.directions.LEFT)}},{key:"dropCursor",value:function(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(t){var n=this.cursor;return-1===n?n=t===e.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),n=t===e.directions.RIGHT?(n+1)%this.items.length:(this.items.length+n-1)%this.items.length,a.default.isNativeInput(this.items[n])&&this.items[n].focus(),this.items[n].classList.add(this.focusedCssClass),n}},{key:"currentItem",get:function(){return-1===this.cursor?null:this.items[this.cursor]}}]),e}();r.default=c,c.displayName="DomIterator",c.directions={RIGHT:"right",LEFT:"left"},e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(t){var n=t.api;(0,i.default)(this,e),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=n}return(0,o.default)(e,[{key:"render",value:function(){var e=this,t=a.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return t.appendChild(a.default.svg("arrow-up",14,14)),this.api.listeners.on(t,"click",(function(n){return e.handleClick(n,t)}),!1),t}},{key:"handleClick",value:function(e,t){var n=this,r=this.api.blocks.getCurrentBlockIndex();if(0===r)return t.classList.add(this.CSS.animation),void window.setTimeout((function(){t.classList.remove(n.CSS.animation)}),500);var i,o=this.api.blocks.getBlockByIndex(r),a=this.api.blocks.getBlockByIndex(r-1),s=o.getBoundingClientRect(),c=a.getBoundingClientRect();i=c.top>0?Math.abs(s.top)-Math.abs(c.top):window.innerHeight-Math.abs(s.top)+Math.abs(c.top),window.scrollBy(0,-1*i),this.api.blocks.swap(r,r-1)}}]),e}();r.default=c,c.displayName="MoveUpTune",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(t){var n=this,r=t.api;(0,i.default)(this,e),this.CSS={wrapper:"ass",button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=r,this.resetConfirmation=function(){n.setConfirmation(!1)}}return(0,o.default)(e,[{key:"render",value:function(){var e=this;return this.nodes.button=a.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(a.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",(function(t){return e.handleClick(t)}),!1),this.nodes.button}},{key:"handleClick",value:function(e){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),e.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(e){this.needConfirmation=e,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),e}();r.default=c,c.displayName="DeleteTune",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(t){var n=t.api;(0,i.default)(this,e),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=n}return(0,o.default)(e,[{key:"render",value:function(){var e=this,t=a.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return t.appendChild(a.default.svg("arrow-down",14,14)),this.api.listeners.on(t,"click",(function(n){return e.handleClick(n,t)}),!1),t}},{key:"handleClick",value:function(e,t){var n=this,r=this.api.blocks.getCurrentBlockIndex();if(r===this.api.blocks.getBlocksCount()-1)return t.classList.add(this.CSS.animation),void window.setTimeout((function(){t.classList.remove(n.CSS.animation)}),500);var i=this.api.blocks.getBlockByIndex(r+1),o=i.getBoundingClientRect(),a=Math.abs(window.innerHeight-i.offsetHeight);o.top<window.innerHeight&&(a=window.scrollY+i.offsetHeight),window.scrollTo(0,a),this.api.blocks.swap(r,r+1)}}]),e}();r.default=c,c.displayName="MoveDownTune",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(14),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a,s){var c=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=c(i),o=c(o),a=c(a),s=c(s);var u=function(){function e(t){(0,i.default)(this,e),this.blocks=[],this.workingArea=t}return(0,o.default)(e,[{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return a.default.array(this.workingArea.children)}}],[{key:"set",value:function(e,t,n){return!isNaN(Number(t))&&(e.insert(+t,n),!0)}},{key:"get",value:function(e,t){return isNaN(Number(t))?e[t]:e.get(+t)}}]),(0,o.default)(e,[{key:"push",value:function(e){this.blocks.push(e),this.workingArea.appendChild(e.holder)}},{key:"swap",value:function(e,t){var n=this.blocks[t];s.default.swap(this.blocks[e].holder,n.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=n}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.length){e>this.length&&(e=this.length),n&&this.blocks[e].holder.remove();var r=n?1:0;if(this.blocks.splice(e,r,t),e>0){var i=this.blocks[e-1];i.holder.insertAdjacentElement("afterend",t.holder)}else{var o=this.blocks[e+1];o?o.holder.insertAdjacentElement("beforebegin",t.holder):this.workingArea.appendChild(t.holder)}}else this.push(t)}},{key:"remove",value:function(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks.splice(e,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.length=0}},{key:"insertAfter",value:function(e,t){var n=this.blocks.indexOf(e);this.insert(n+1,t)}},{key:"get",value:function(e){return this.blocks[e]}},{key:"indexOf",value:function(e){return this.blocks.indexOf(e)}}]),e}();r.default=u,u.displayName="Blocks",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),
/*!
     * Codex JavaScript Notification module
     * https://github.com/codex-team/js-notifier
     */
e.exports=function(){var e=n(6),t=null;return{show:function(n){if(n.message){!function(){if(t)return!0;t=e.getWrapper(),document.body.appendChild(t)}();var r=null,i=n.time||8e3;switch(n.type){case"confirm":r=e.confirm(n);break;case"prompt":r=e.prompt(n);break;default:r=e.alert(n),window.setTimeout((function(){r.remove()}),i)}t.appendChild(r),r.classList.add("cdx-notify--bounce-in")}}}}()},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]),n(4)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,l=[],d=n(5);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=g(t)),r=k.bind(null,n,a,!1),i=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(p(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){var r,i,o,a,s,c;e.exports=(r="cdx-notify",i="cdx-notify__cross",o="cdx-notify__button--confirm",a="cdx-notify__button",s="cdx-notify__btns-wrapper",{alert:c=function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),o=e.message,a=e.style;return t.classList.add(r),a&&t.classList.add(r+"--"+a),t.innerHTML=o,n.classList.add(i),n.addEventListener("click",t.remove.bind(t)),t.appendChild(n),t},confirm:function(e){var t=c(e),n=document.createElement("div"),r=document.createElement("button"),u=document.createElement("button"),l=t.querySelector("."+i),d=e.cancelHandler,f=e.okHandler;return n.classList.add(s),r.innerHTML=e.okText||"Confirm",u.innerHTML=e.cancelText||"Cancel",r.classList.add(a),u.classList.add(a),r.classList.add(o),u.classList.add("cdx-notify__button--cancel"),d&&"function"==typeof d&&(u.addEventListener("click",d),l.addEventListener("click",d)),f&&"function"==typeof f&&r.addEventListener("click",f),r.addEventListener("click",t.remove.bind(t)),u.addEventListener("click",t.remove.bind(t)),n.appendChild(r),n.appendChild(u),t.appendChild(n),t},prompt:function(e){var t=c(e),n=document.createElement("div"),r=document.createElement("button"),u=document.createElement("input"),l=t.querySelector("."+i),d=e.cancelHandler,f=e.okHandler;return n.classList.add(s),r.innerHTML=e.okText||"Ok",r.classList.add(a),r.classList.add(o),u.classList.add("cdx-notify__input"),e.placeholder&&u.setAttribute("placeholder",e.placeholder),e.default&&(u.value=e.default),e.inputType&&(u.type=e.inputType),d&&"function"==typeof d&&l.addEventListener("click",d),f&&"function"==typeof f&&r.addEventListener("click",(function(){f(u.value)})),r.addEventListener("click",t.remove.bind(t)),n.appendChild(u),n.appendChild(r),t.appendChild(n),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add("cdx-notifies"),e}})}])},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){function e(e){var t=e.tags;if(!Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e})))throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(e){return-1!==t.indexOf(e.nodeName)}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(e){return-1!==r.indexOf(e.nodeName)}function o(e,t,n){return"function"==typeof e.tags[t]?e.tags[t](n):e.tags[t]}function a(e,t){return void 0===t||"boolean"==typeof t&&!t}function s(e,t,n){var r=e.name.toLowerCase();return!0!==t&&("function"==typeof t[r]?!t[r](e.value,n):void 0===t[r]||!1===t[r]||"string"==typeof t[r]&&t[r]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),n=t.createElement("div");return n.innerHTML=e,this._sanitize(t,n),n.innerHTML},e.prototype._sanitize=function(e,t){var r=function(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(e,t),c=r.firstChild();if(c)do{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.COMMENT_NODE){t.removeChild(c),this._sanitize(e,t);break}var u,l=i(c);l&&(u=Array.prototype.some.call(c.childNodes,n));var d=!!t.parentNode,f=n(t)&&n(c)&&d,p=c.nodeName.toLowerCase(),h=o(this.config,p,c);if(l&&u||a(0,h)||!this.config.keepNestedBlockElements&&f){if("SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName)for(;c.childNodes.length>0;)t.insertBefore(c.childNodes[0],c);t.removeChild(c),this._sanitize(e,t);break}for(var m=0;m<c.attributes.length;m+=1){var g=c.attributes[m];s(g,h,c)&&(c.removeAttribute(g.name),m-=1)}this._sanitize(e,c)}else if(""===c.data.trim()&&(c.previousElementSibling&&n(c.previousElementSibling)||c.nextElementSibling&&n(c.nextElementSibling))){t.removeChild(c),this._sanitize(e,t);break}}while(c=r.nextSibling())},e})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){
/*!
     * Library for handling keyboard shortcuts
     * @copyright CodeX (https://codex.so)
     * @license MIT
     * @author CodeX (https://codex.so)
     * @version 1.1.1
     */
e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){n.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),i(e,[{key:"parseShortcutName",value:function(t){t=t.split("+");for(var n=0;n<t.length;n++){t[n]=t[n].toUpperCase();var r=!1;for(var i in e.supportedCommands)if(e.supportedCommands[i].includes(t[n])){r=this.commands[i]=!0;break}r||(this.keys[t[n]]=!0)}for(var o in e.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(t){var n,r={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},i=!0;for(n in this.commands)this.commands[n]!==r[n]&&(i=!1);var o,a=!0;for(o in this.keys)a=a&&t.keyCode===e.keyCodes[o];i&&a&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}();t.default=o}]).default},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n(1).toString();
/**
     * Base Paragraph Block for the Editor.js.
     * Represents simple paragraph
     *
     * @author CodeX (team@ifmo.su)
     * @copyright CodeX 2018
     * @license The MIT License (MIT)
     * @version 2.0.0
     */
var o=function(){function e(t){var n=t.data,r=t.config,i=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=r.placeholder?r.placeholder:e.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this.data=n}return i(e,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),i(e,[{key:"onKeyUp",value:function(e){"Backspace"!==e.code&&"Delete"!==e.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!0,e.dataset.placeholder=this._placeholder,e.addEventListener("keyup",this.onKeyUp),e}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(e){var t={text:this.data.text+e.text};this.data=t}},{key:"validate",value:function(e){return""!==e.text.trim()}},{key:"save",value:function(e){return{text:e.innerHTML}}},{key:"onPaste",value:function(e){var t={text:e.detail.data.innerHTML};this.data=t}},{key:"data",get:function(){var e=this._element.innerHTML;return this._data.text=e,this._data},set:function(e){this._data=e||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}}]),e}();e.exports=o},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]),n(4)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,l=[],d=n(5);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=g(t)),r=k.bind(null,n,a,!1),i=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(p(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}])},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(){(0,i.default)(this,e),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,o.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(e){document.execCommand(this.commandName)}},{key:"checkState",value:function(e){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),e}();r.default=c,c.displayName="BoldInlineTool",c.isInline=!0,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(){(0,i.default)(this,e),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,o.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("italic",34,34)),this.nodes.button}},{key:"surround",value:function(e){document.execCommand(this.commandName)}},{key:"checkState",value:function(e){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),e}();r.default=c,c.displayName="ItalicInlineTool",c.isInline=!0,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(28),n(12),n(14)],void 0===(o="function"==typeof(r=function(r,i,o,a,s,c){var u=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=u(i),o=u(o),a=u(a),s=u(s),c=u(c);var l=function(){function e(t){var n=t.api;(0,i.default)(this,e),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=n.toolbar,this.inlineToolbar=n.inlineToolbar,this.notifier=n.notifier,this.selection=new a.default}return(0,o.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("link",34,34)),this.nodes.button.appendChild(s.default.svg("unlink",16,18)),this.nodes.button}},{key:"renderActions",value:function(){var e=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder="Add a link",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(function(t){t.keyCode===e.ENTER_KEY&&e.enterPressed(t)})),this.nodes.input}},{key:"surround",value:function(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var t=this.selection.findParentTag("A");if(t)return this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(e){var t=this.selection.findParentTag("A");if(t){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var n=t.getAttribute("href");this.nodes.input.value="null"!==n?n:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var t=new a.default;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(e){var t=this.nodes.input.value||"";if(t.trim()||(this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions()),!this.validateURL(t))return this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void c.default.log("Incorrect Link pasted","warn",t);t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}},{key:"validateURL",value:function(e){return!/\s/.test(e)}},{key:"prepareLink",value:function(e){return e=e.trim(),this.addProtocol(e)}},{key:"addProtocol",value:function(e){if(/^(\w+):(\/\/)?/.test(e))return e;var t=/^\/[^\/\s]/.test(e),n="#"===e.substring(0,1),r=/^\/\/[^\/\s]/.test(e);return t||n||r||(e="http://"+e),e}},{key:"insertLink",value:function(e){var t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),e}();r.default=l,l.displayName="LinkInlineTool",l.isInline=!0,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t,n(1),n(2),n(12)],void 0===(o="function"==typeof(r=function(r,i,o,a){var s=n(3);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i=s(i),o=s(o),a=s(a);var c=function(){function e(t){var n=t.data;t.config,t.api,(0,i.default)(this,e),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.title=n.title||"Error",this.subtitle="The block can not be displayed correctly.",this.savedData=n.savedData,this.wrapper=this.make()}return(0,o.default)(e,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var e=a.default.make("div",this.CSS.wrapper),t=a.default.svg("sad-face",52,52),n=a.default.make("div",this.CSS.info),r=a.default.make("div",this.CSS.title,{textContent:this.title}),i=a.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.appendChild(t),n.appendChild(r),n.appendChild(i),e.appendChild(n),e}}]),e}();r.default=c,c.displayName="Stub",e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg">\n<symbol id="arrow-down" viewBox="0 0 14 14">\n  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="arrow-up" viewBox="0 0 14 14">\n    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="bold"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>\n</symbol>\n<symbol id="cross" viewBox="0 0 237 237">\n  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>\n\n</symbol>\n<symbol id="dots" viewBox="0 0 18 4">\n  <g fill-rule="evenodd">\n    <circle cx="9" cy="2" r="2"/>\n    <circle cx="2" cy="2" r="2"/>\n    <circle cx="16" cy="2" r="2"/>\n  </g>\n\n</symbol>\n<symbol id="italic">\n  <path d="M19.211 15.326l-1.44 7.108c-.1.493-.305.865-.615 1.117a1.64 1.64 0 0 1-1.064.379c-.4 0-.697-.13-.894-.388-.197-.258-.247-.627-.15-1.108l1.426-7.036c.098-.486.297-.853.597-1.1.299-.245.648-.368 1.047-.368.399 0 .703.123.912.369.21.246.27.588.181 1.027zm-.831-2.663c-.38 0-.682-.116-.909-.35-.227-.232-.301-.561-.223-.987.07-.385.266-.703.588-.952.322-.25.665-.374 1.03-.374.353 0 .645.113.876.34.232.225.308.554.229.986-.077.42-.27.747-.58.983-.308.236-.646.354-1.011.354z"/>\n\n</symbol>\n<symbol id="link"><path d="M15.439 21.153a4.202 4.202 0 0 0 2.72.63l-.985.986a4.202 4.202 0 1 1-5.943-5.945l2.093-2.093a4.202 4.202 0 0 1 5.934-.009l-1.655 1.656a5.886 5.886 0 0 1-.02.019 1.835 1.835 0 0 0-2.585.009l-2.093 2.093a1.836 1.836 0 0 0 2.534 2.654zm3.122-8.306a4.202 4.202 0 0 0-2.72-.63l.985-.986a4.202 4.202 0 1 1 5.943 5.945l-2.093 2.093a4.202 4.202 0 0 1-5.934.009l1.655-1.656.02-.019a1.835 1.835 0 0 0 2.585-.009l2.093-2.093a1.836 1.836 0 0 0-2.534-2.654z"/>\n</symbol>\n<symbol id="plus" viewBox="0 0 14 14">\n    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>\n\n</symbol>\n<symbol id="sad-face" viewBox="0 0 52 52">\n    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>\n\n</symbol>\n<symbol id="unlink" viewBox="0 0 16 18">\n    <path transform="rotate(-45 8.358 11.636)" d="M9.14 9.433c.008-.12-.087-.686-.112-.81a1.4 1.4 0 0 0-1.64-1.106l-3.977.772a1.4 1.4 0 0 0 .535 2.749l.935-.162s.019 1.093.592 2.223l-1.098.148A3.65 3.65 0 1 1 2.982 6.08l3.976-.773c1.979-.385 3.838.919 4.28 2.886.51 2.276-1.084 2.816-1.073 2.935.011.12-.394-1.59-1.026-1.696zm3.563-.875l2.105 3.439a3.65 3.65 0 0 1-6.19 3.868L6.47 12.431c-1.068-1.71-.964-2.295-.49-3.07.067-.107 1.16-1.466 1.48-.936-.12.036.9 1.33.789 1.398-.656.41-.28.76.13 1.415l2.145 3.435a1.4 1.4 0 0 0 2.375-1.484l-1.132-1.941c.42-.435 1.237-1.054.935-2.69zm1.88-2.256h3.4a1.125 1.125 0 0 1 0 2.25h-3.4a1.125 1.125 0 0 1 0-2.25zM11.849.038c.62 0 1.125.503 1.125 1.125v3.4a1.125 1.125 0 0 1-2.25 0v-3.4c0-.622.503-1.125 1.125-1.125z"/>\n\n</symbol></svg>'},function(e,t){e.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;-webkit-box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54);box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54)}}@media (max-width:650px){.ce-toolbar:before{content:"";width:15px;height:15px;position:absolute;top:-7px;left:50%;margin-left:-7px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);background-color:#fff;z-index:-1}.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 40px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:0;top:10px;padding-right:16px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:static;margin-left:auto;padding-right:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:inline-block;width:24px;height:24px;color:#707684;cursor:pointer}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox__tooltip{position:absolute;top:25px;padding:6px 10px;border-radius:5px;opacity:0;background:#eff2f5;-webkit-box-shadow:0 10px 12px -9px rgba(26,39,54,.32),0 3px 2px -2px rgba(33,48,73,.05);box-shadow:0 10px 12px -9px rgba(26,39,54,.32),0 3px 2px -2px rgba(33,48,73,.05);color:#5c6174;font-size:12px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity .15s ease-in,left .1s linear;transition:opacity .15s ease-in,left .1s linear;will-change:opacity,left;letter-spacing:.02em;line-height:1em}@media (max-width:650px){.ce-toolbox__tooltip{display:none}}.ce-toolbox__tooltip-shortcut{color:rgba(100,105,122,.6);word-spacing:-2px;margin-top:5px}.ce-toolbox__tooltip--shown{opacity:1;-webkit-transition-delay:.1s,0s;transition-delay:.1s,0s}.ce-toolbox__tooltip:before{content:"";width:10px;height:10px;position:absolute;top:-5px;left:50%;margin-left:-5px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);background-color:#eff2f5;z-index:-1}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;-webkit-box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54);box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54)}}.ce-inline-toolbar:before{content:"";width:15px;height:15px;position:absolute;top:-7px;left:50%;margin-left:-7px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);background-color:#fff;z-index:-1}.ce-inline-toolbar{padding:3px;-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);-webkit-box-shadow:0 6px 12px -6px rgba(131,147,173,.46),5px -12px 34px -13px rgba(97,105,134,.6),0 26px 52px 3px rgba(147,165,186,.24);box-shadow:0 6px 12px -6px rgba(131,147,173,.46),5px -12px 34px -13px rgba(97,105,134,.6),0 26px 52px 3px rgba(147,165,186,.24);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#707684}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{line-height:normal}.ce-inline-tool .icon,.ce-inline-tool>svg{margin:auto}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool--last{margin-right:0!important}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block}.ce-inline-tool-input{background-color:#eff2f5;outline:none;border:0;border-radius:3px;margin:3px 0 0;font-size:13px;padding:8px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;-webkit-box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54);box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54)}}.ce-conversion-toolbar:before{content:"";width:15px;height:15px;position:absolute;top:-7px;left:50%;margin-left:-7px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);background-color:#fff;z-index:-1}.ce-conversion-toolbar{padding:3px;-webkit-box-shadow:0 6px 12px -6px rgba(131,147,173,.46),5px -12px 34px -13px rgba(97,105,134,.6),0 26px 52px 3px rgba(147,165,186,.24);box-shadow:0 6px 12px -6px rgba(131,147,173,.46),5px -12px 34px -13px rgba(97,105,134,.6),0 26px 52px 3px rgba(147,165,186,.24);opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;-webkit-transform:translateY(8px) scale(.9);transform:translateY(8px) scale(.9)}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar:before{left:20px}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#707684}.ce-conversion-tool:hover{background-color:#eff2f5}.ce-conversion-tool{line-height:normal}.ce-conversion-tool .icon,.ce-conversion-tool>svg{margin:auto}.ce-conversion-tool--active{color:#388ae5}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:not(:last-of-type){margin-right:2px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active,.ce-conversion-tool:hover{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;-webkit-box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);box-shadow:0 8px 23px -6px rgba(21,40,54,.31),22px -14px 34px -18px rgba(33,48,73,.26);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54);box-shadow:0 5px 9px -5px rgba(21,40,54,.49),6px 15px 34px -6px rgba(33,48,73,.54)}}.ce-settings:before{content:"";width:15px;height:15px;position:absolute;top:-7px;left:50%;margin-left:-7px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);background-color:#fff;z-index:-1}.ce-settings{right:5px;top:35px;min-width:114px}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:50px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#707684}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button .icon,.ce-settings__button>svg{margin:auto}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--focused{background-image:linear-gradient(17deg,rgba(243,248,255,.03) 63.45%,rgba(207,214,229,.27) 98%);border-radius:3px}@media (max-width:650px){.ce-block--focused{background-image:none;background-color:rgba(200,199,219,.17);margin:0 -10px;padding:0 10px}}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.7em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#707684}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button .icon,.cdx-settings-button>svg{margin:auto}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}'}])})),EditorJS=unwrapExports(editor),editor_1=editor.EditorJS,bundle=createCommonjsModule((function(e,t){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1).toString();
/**
     * Header block for the Editor.js.
     *
     * @author CodeX (team@ifmo.su)
     * @copyright CodeX 2018
     * @license The MIT License (MIT)
     * @version 2.0.0
     */
var o=function(){function e(t){var n=t.data,r=t.config,i=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=r,this._data=this.normalizeData(n),this.settingsButtons=[],this._element=this.getTag()}var t,o,a;return t=e,a=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:{}}}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:n(6).default,title:"Heading"}}}],(o=[{key:"normalizeData",value:function(e){var t={};return"object"!==r(e)&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var e=this,t=document.createElement("DIV");return this.levels.forEach((function(n){var r=document.createElement("SPAN");r.classList.add(e._CSS.settingsButton),e.currentLevel.number===n.number&&r.classList.add(e._CSS.settingsButtonActive),r.innerHTML=n.svg,r.dataset.level=n.number,r.addEventListener("click",(function(){e.setLevel(n.number)})),t.appendChild(r),e.settingsButtons.push(r)})),t}},{key:"setLevel",value:function(e){var t=this;this.data={level:e,text:this.data.text},this.settingsButtons.forEach((function(n){n.classList.toggle(t._CSS.settingsButtonActive,parseInt(n.dataset.level)===e)}))}},{key:"merge",value:function(e){var t={text:this.data.text+e.text,level:this.data.level};this.data=t}},{key:"validate",value:function(e){return""!==e.text.trim()}},{key:"save",value:function(e){return{text:e.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable="true",e.dataset.placeholder=this._settings.placeholder||"",e}},{key:"onPaste",value:function(e){var t=e.detail.data,n=2;switch(t.tagName){case"H1":n=1;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6}this.data={level:n,text:t.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){var t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var e=this,t=this.levels.find((function(t){return t.number===e._data.level}));return t||(t=this.defaultLevel),t}},{key:"defaultLevel",get:function(){return this.levels[1]}},{key:"levels",get:function(){return[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}]}}])&&i(t.prototype,o),a&&i(t,a),e}();e.exports=o},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]),n(4)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 1em 0;\n  margin: 0;\n  margin-bottom: -0.9em;\n  line-height: 1.5em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,l=[],d=n(5);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=g(t)),r=k.bind(null,n,a,!1),i=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(p(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){n.r(t),t.default='<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\n  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\n</svg>\n'}])})),Header$1=unwrapExports(bundle),bundle_1=bundle.Header,bundle$1=createCommonjsModule((function(e,t){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n(1).toString();var a=function(){function e(t){var n=t.data,r=t.config,i=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=e.ALIGNMENTS,a=e.DEFAULT_ALIGNMENT;this.api=i,this.quotePlaceholder=r.quotePlaceholder||e.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=r.captionPlaceholder||e.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:n.text||"",caption:n.caption||"",alignment:Object.values(o).includes(n.alignment)&&n.alignment||r.defaultAlignment||a}}return o(e,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption",settingsWrapper:"cdx-quote-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg width="16" height="11" viewBox="0 0 16 11" xmlns="http://www.w3.org/2000/svg" ><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm0 4.275H9.03a1.069 1.069 0 1 1 0 2.137H1.07a1.069 1.069 0 1 1 0-2.137zm0 4.275h9.812a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z" /></svg>'},{name:"center",icon:'<svg width="16" height="11" viewBox="0 0 16 11" xmlns="http://www.w3.org/2000/svg" ><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm3.15 4.275h5.962a1.069 1.069 0 0 1 0 2.137H4.22a1.069 1.069 0 1 1 0-2.137zM1.069 8.55H13.33a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z"/></svg>'}]}}],[{key:"toolbox",get:function(){return{icon:'<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M13.53 6.185l.027.025a1.109 1.109 0 0 1 0 1.568l-5.644 5.644a1.109 1.109 0 1 1-1.569-1.568l4.838-4.837L6.396 2.23A1.125 1.125 0 1 1 7.986.64l5.52 5.518.025.027zm-5.815 0l.026.025a1.109 1.109 0 0 1 0 1.568l-5.644 5.644a1.109 1.109 0 1 1-1.568-1.568l4.837-4.837L.58 2.23A1.125 1.125 0 0 1 2.171.64L7.69 6.158l.025.027z" /></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return e.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(e){return e.caption?"".concat(e.text," — ").concat(e.caption):e.text}}}}]),o(e,[{key:"render",value:function(){var e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!0,innerHTML:this.data.text}),n=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!0,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,n.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(n),e}},{key:"save",value:function(e){var t=e.querySelector(".".concat(this.CSS.text)),n=e.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:t.innerHTML,caption:n.innerHTML})}},{key:"renderSettings",value:function(){var e=this,t=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.map((function(n){var r,i=e._make("div",e.CSS.settingsButton,{innerHTML:n.icon,title:"".concat((r=n.name,r[0].toUpperCase()+r.substr(1))," alignment")});return i.classList.toggle(e.CSS.settingsButtonActive,n.name===e.data.alignment),t.appendChild(i),i})).forEach((function(t,n,r){t.addEventListener("click",(function(){e._toggleTune(e.settings[n].name),r.forEach((function(t,n){var r=e.settings[n].name;t.classList.toggle(e.CSS.settingsButtonActive,r===e.data.alignment)}))}))})),t}},{key:"_toggleTune",value:function(e){this.data.alignment=e}},{key:"_make",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(e);for(var a in Array.isArray(n)?(t=o.classList).add.apply(t,r(n)):n&&o.classList.add(n),i)o[a]=i[a];return o}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),e}();e.exports=a},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]),n(4)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".cdx-quote-icon svg {\n  transform: rotate(180deg);\n}\n\n.cdx-quote {\n  margin: 0;\n}\n\n.cdx-quote__text {\n  min-height: 158px;\n  margin-bottom: 10px;\n}\n\n.cdx-quote__caption {}\n\n.cdx-quote [contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n.cdx-quote [contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n\n.cdx-quote-settings {\n  display: flex;\n}\n\n.cdx-quote-settings .cdx-settings-button {\n  width: 50%;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,l=[],d=n(5);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=g(t)),r=k.bind(null,n,a,!1),i=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(p(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}])})),Quote=unwrapExports(bundle$1),bundle_1$1=bundle$1.Quote,domain;function get_each_context_1$2(e,t,n){const r=e.slice();return r[28]=t[n],r}function get_each_context$4(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function create_else_block_1$2(e){let t;const n=new Placeholder({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},p:noop,i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_if_block$7(e){let t,n,r,i;const o=[create_if_block_1$5,create_else_block$3],a=[];function s(e,t){return null!==e[0].sceneId?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){a[t].m(e,n),insert(e,r,n),i=!0},p(e,i){let c=t;(t=s(e))===c?a[t].p(e,i):(group_outros(),transition_out(a[c],1,1,()=>{a[c]=null}),check_outros(),(n=a[t])||(n=a[t]=o[t](e)).c(),transition_in(n,1),n.m(r.parentNode,r))},i(e){i||(transition_in(n),i=!0)},o(e){transition_out(n),i=!1},d(e){a[t].d(e),e&&detach(r)}}}function create_else_block$3(e){let t;const n=new Overview$1({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},p:noop,i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_if_block_1$5(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B=e[9]("write.toolbar.words")+"",P=e[9]("write.toolbar.chars")+"",I=e[9]("write.toolbar.undo")+"",L=e[9]("write.toolbar.redo")+"",N=e[9]("write.toolbar.focus")+"",D=e[1].title+"",j=e[2]&&create_if_block_3$1(e),F=e[7]&&create_if_block_2$2(e);return{c(){t=element("div"),n=element("span"),r=text(e[3]),i=space(),o=text(B),a=space(),s=element("span"),c=text(e[4]),u=space(),l=text(P),d=space(),f=element("span"),p=element("span"),h=text(I),m=space(),g=element("span"),v=element("span"),y=text(L),b=space(),j&&j.c(),_=space(),k=element("span"),w=element("span"),S=text(N),E=space(),F&&F.c(),x=space(),T=element("div"),O=element("h1"),C=text(D),A=space(),M=element("div"),attr(s,"class","tooltiptext svelte-80pnla"),attr(n,"class","tooltip svelte-80pnla"),attr(p,"class","tooltiptext svelte-80pnla"),attr(f,"class","lnr lnr-undo tooltip svelte-80pnla"),attr(v,"class","tooltiptext svelte-80pnla"),attr(g,"class","lnr lnr-redo tooltip svelte-80pnla"),attr(w,"class","tooltiptext svelte-80pnla"),attr(k,"class","lnr tooltip svelte-80pnla"),toggle_class(k,"lnr-eye",!e[7]),toggle_class(k,"lnr-exit",e[7]),attr(t,"class","toolbar svelte-80pnla"),attr(O,"contenteditable","true"),attr(O,"class","svelte-80pnla"),attr(M,"id","codex-editor"),attr(M,"class","svelte-80pnla"),attr(T,"class","editpane svelte-80pnla"),R=[listen(f,"click",undo),listen(g,"click",redo),listen(k,"click",e[13])]},m(e,R){insert(e,t,R),append(t,n),append(n,r),append(n,i),append(n,o),append(n,a),append(n,s),append(s,c),append(s,u),append(s,l),append(t,d),append(t,f),append(f,p),append(p,h),append(t,m),append(t,g),append(g,v),append(v,y),append(t,b),j&&j.m(t,null),append(t,_),append(t,k),append(k,w),append(w,S),append(t,E),F&&F.m(t,null),insert(e,x,R),insert(e,T,R),append(T,O),append(O,C),append(T,A),append(T,M)},p(e,n){8&n&&set_data(r,e[3]),512&n&&B!==(B=e[9]("write.toolbar.words")+"")&&set_data(o,B),16&n&&set_data(c,e[4]),512&n&&P!==(P=e[9]("write.toolbar.chars")+"")&&set_data(l,P),512&n&&I!==(I=e[9]("write.toolbar.undo")+"")&&set_data(h,I),512&n&&L!==(L=e[9]("write.toolbar.redo")+"")&&set_data(y,L),e[2]?j?j.p(e,n):((j=create_if_block_3$1(e)).c(),j.m(t,_)):j&&(j.d(1),j=null),512&n&&N!==(N=e[9]("write.toolbar.focus")+"")&&set_data(S,N),128&n&&toggle_class(k,"lnr-eye",!e[7]),128&n&&toggle_class(k,"lnr-exit",e[7]),e[7]?F?F.p(e,n):((F=create_if_block_2$2(e)).c(),F.m(t,null)):F&&(F.d(1),F=null),2&n&&D!==(D=e[1].title+"")&&set_data(C,D)},i:noop,o:noop,d(e){e&&detach(t),j&&j.d(),F&&F.d(),e&&detach(x),e&&detach(T),run_all(R)}}}function create_if_block_3$1(e){let t,n,r,i,o=e[9]("write.toolbar.save")+"";return{c(){t=element("span"),n=element("span"),r=text(o),attr(n,"class","tooltiptext svelte-80pnla"),attr(t,"class","lnr lnr-checkmark-circle tooltip svelte-80pnla"),i=listen(t,"click",e[22])},m(e,i){insert(e,t,i),append(t,n),append(n,r)},p(e,t){512&t&&o!==(o=e[9]("write.toolbar.save")+"")&&set_data(r,o)},d(e){e&&detach(t),i()}}}function create_if_block_2$2(e){let t,n,r,i,o,a=e[9]("write.toolbar.switchScene")+"",s=e[11].filter(e[23]),c=[];for(let t=0;t<s.length;t+=1)c[t]=create_each_block$4(get_each_context$4(e,s,t));return{c(){t=element("select"),n=element("option"),r=text(a),i=space();for(let e=0;e<c.length;e+=1)c[e].c();n.__value="",n.value=n.__value,n.selected="selected",attr(n,"class","svelte-80pnla"),attr(t,"id","focusSceneSelect"),attr(t,"class","svelte-80pnla"),o=listen(t,"change",switchScene)},m(e,o){insert(e,t,o),append(t,n),append(n,r),append(n,i);for(let e=0;e<c.length;e+=1)c[e].m(t,null)},p(e,n){if(512&n&&a!==(a=e[9]("write.toolbar.switchScene")+"")&&set_data(r,a),3328&n){let r;for(s=e[11].filter(e[23]),r=0;r<s.length;r+=1){const i=get_each_context$4(e,s,r);c[r]?c[r].p(i,n):(c[r]=create_each_block$4(i),c[r].c(),c[r].m(t,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=s.length}},d(e){e&&detach(t),destroy_each(c,e),o()}}}function create_each_block_1$2(e){let t,n,r,i=e[28].title+"";return{c(){t=element("option"),n=text(i),t.__value=r=e[28].id,t.value=t.__value,attr(t,"class","svelte-80pnla")},m(e,r){insert(e,t,r),append(t,n)},p(e,o){3328&o&&i!==(i=e[28].title+"")&&set_data(n,i),3328&o&&r!==(r=e[28].id)&&(t.__value=r),t.value=t.__value},d(e){e&&detach(t)}}}function create_each_block$4(e){let t,n;function r(...t){return e[24](e[25],...t)}let i=e[8].filter(r),o=[];for(let t=0;t<i.length;t+=1)o[t]=create_each_block_1$2(get_each_context_1$2(e,i,t));return{c(){t=element("optgroup");for(let e=0;e<o.length;e+=1)o[e].c();attr(t,"label",n=e[25].title),attr(t,"class","svelte-80pnla")},m(e,n){insert(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(a,s){if(e=a,3328&s){let n;for(i=e[8].filter(r),n=0;n<i.length;n+=1){const r=get_each_context_1$2(e,i,n);o[n]?o[n].p(r,s):(o[n]=create_each_block_1$2(r),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}3072&s&&n!==(n=e[25].title)&&attr(t,"label",n)},d(e){e&&detach(t),destroy_each(o,e)}}}function create_fragment$c(e){let t,n,r,i,o,a;function s(t){e[21].call(null,t)}let c={text:e[6]};void 0!==e[5]&&(c.show=e[5]);const u=new Toast({props:c});binding_callbacks.push(()=>bind(u,"show",s));const l=[create_if_block$7,create_else_block_1$2],d=[];function f(e,t){return e[10].currentProject?0:1}return r=f(e),i=d[r]=l[r](e),{c(){create_component(u.$$.fragment),n=space(),i.c(),o=empty()},m(e,t){mount_component(u,e,t),insert(e,n,t),d[r].m(e,t),insert(e,o,t),a=!0},p(e,[n]){const a={};64&n&&(a.text=e[6]),!t&&32&n&&(t=!0,a.show=e[5],add_flush_callback(()=>t=!1)),u.$set(a);let s=r;(r=f(e))===s?d[r].p(e,n):(group_outros(),transition_out(d[s],1,1,()=>{d[s]=null}),check_outros(),(i=d[r])||(i=d[r]=l[r](e)).c(),transition_in(i,1),i.m(o.parentNode,o))},i(e){a||(transition_in(u.$$.fragment,e),transition_in(i),a=!0)},o(e){transition_out(u.$$.fragment,e),transition_out(i),a=!1},d(e){destroy_component(u,e),e&&detach(n),d[r].d(e),e&&detach(o)}}}function switchScene(e){push("/write/"+e.target.value),e.target.selectedIndex=0}function undo(){document.execCommand("undo",!1,null)}function redo(){document.execCommand("redo",!1,null)}function instance$b(e,t,n){let r,i,o,a,s;component_subscribe(e,scenes,e=>n(8,r=e)),component_subscribe(e,location$1,e=>n(16,i=e)),component_subscribe(e,_$1,e=>n(9,o=e)),component_subscribe(e,state,e=>n(10,a=e)),component_subscribe(e,chapters,e=>n(11,s=e));let c,u,l,d,f,p,h,{params:m={}}=t,g=!1,v=!1;function y(){null!==m.sceneId&&(l&&"function"==typeof l.destroy&&(d&&b(u),l.destroy()),n(2,d=!1),l=new EditorJS({holder:"codex-editor",placeholder:o("write.editor.placeholder"),data:c.content,onChange:()=>{n(2,d=!0),_()},onReady:()=>{_()},tools:{header:Header$1,quote:{class:Quote,inlineToolbar:!0}}}),u=m.sceneId)}function b(e){l.save().then(t=>{scenes.setSceneContent(e,t),n(2,d=!1),n(5,g=!0),n(6,h=o("write.toast.saved"))}).catch(e=>{console.error("Saving failed: ",e)})}function _(){n(4,p=document.getElementById("codex-editor").innerText.length),n(3,f=document.getElementById("codex-editor").innerText.split(" ").length)}function k(){n(7,v=!v),document.getElementById("content").classList.toggle("focus")}onMount(()=>{null!==m.sceneId&&(document.onkeydown=function(e){27==(e=e||window.event).keyCode&&k()})}),onDestroy(()=>{d&&b(u),l&&"function"==typeof l.destroy&&l.destroy()});return e.$set=e=>{"params"in e&&n(0,m=e.params)},e.$$.update=()=>{257&e.$$.dirty&&n(1,c=r.filter(e=>e.id==m.sceneId)[0]),3&e.$$.dirty&&state.setCurrentTitle(m.sceneId?c.title:"No scene selected!"),65536&e.$$.dirty&&i&&y()},[m,c,d,f,p,g,h,v,r,o,a,s,b,k,u,l,i,void 0,void 0,y,_,function(e){n(5,g=e)},()=>b(m.sceneId),e=>e.project==a.currentProject,(e,t)=>t.chapter==e.id]}class Write extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$c,safe_not_equal,{params:0})}}function get_each_context$5(e,t,n){const r=e.slice();return r[22]=t[n],r}function create_header_slot_1$1(e){let t,n,r=e[7]("cards.modal.newHeader")+"";return{c(){t=element("h2"),n=text(r),attr(t,"slot","header")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){128&t&&r!==(r=e[7]("cards.modal.newHeader")+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_default_slot_1$1(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E=e[7]("cards.modal.title")+"",x=e[7]("cards.modal.content")+"",T=e[7]("cards.modal.showInScenes")+"",O=e[7]("cards.modal.buttonSave")+"";return{c(){t=space(),n=element("div"),r=element("label"),i=text(E),o=space(),a=element("input"),s=space(),c=element("div"),u=element("label"),l=text(x),d=space(),f=element("textarea"),p=space(),h=element("div"),m=element("input"),g=space(),v=element("label"),y=text(T),b=space(),_=element("div"),k=element("button"),w=text(O),attr(r,"for","createTitle"),attr(a,"id","createTitle"),attr(a,"autocomplete","off"),attr(a,"placeholder","enter your title"),attr(a,"type","text"),attr(n,"class","field"),attr(u,"for","createContent"),attr(f,"id","createContent"),attr(f,"rows","10"),attr(c,"class","field"),attr(m,"type","checkbox"),attr(m,"name","createTooltop"),attr(m,"id","createTooltop"),attr(v,"class","big"),attr(v,"for","createTooltop"),attr(h,"class","field"),attr(_,"class","btn-group"),S=[listen(a,"input",e[11]),listen(f,"input",e[12]),listen(m,"change",e[13]),listen(k,"click",e[8])]},m(S,E){insert(S,t,E),insert(S,n,E),append(n,r),append(r,i),append(n,o),append(n,a),set_input_value(a,e[3].title),insert(S,s,E),insert(S,c,E),append(c,u),append(u,l),append(c,d),append(c,f),set_input_value(f,e[3].content),insert(S,p,E),insert(S,h,E),append(h,m),m.checked=e[3].showTooltip,append(h,g),append(h,v),append(v,y),insert(S,b,E),insert(S,_,E),append(_,k),append(k,w)},p(e,t){128&t&&E!==(E=e[7]("cards.modal.title")+"")&&set_data(i,E),8&t&&a.value!==e[3].title&&set_input_value(a,e[3].title),128&t&&x!==(x=e[7]("cards.modal.content")+"")&&set_data(l,x),8&t&&set_input_value(f,e[3].content),8&t&&(m.checked=e[3].showTooltip),128&t&&T!==(T=e[7]("cards.modal.showInScenes")+"")&&set_data(y,T),128&t&&O!==(O=e[7]("cards.modal.buttonSave")+"")&&set_data(w,O)},d(e){e&&detach(t),e&&detach(n),e&&detach(s),e&&detach(c),e&&detach(p),e&&detach(h),e&&detach(b),e&&detach(_),run_all(S)}}}function create_header_slot$2(e){let t,n,r,i,o,a=e[7]("cards.modal.editHeader")+"",s=e[4].title+"";return{c(){t=element("h2"),n=text(a),r=text(" '"),i=text(s),o=text("'"),attr(t,"slot","header")},m(e,a){insert(e,t,a),append(t,n),append(t,r),append(t,i),append(t,o)},p(e,t){128&t&&a!==(a=e[7]("cards.modal.editHeader")+"")&&set_data(n,a),16&t&&s!==(s=e[4].title+"")&&set_data(i,s)},d(e){e&&detach(t)}}}function create_default_slot$3(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E=e[7]("cards.modal.title")+"",x=e[7]("cards.modal.content")+"",T=e[7]("cards.modal.showInScenes")+"",O=e[7]("cards.modal.buttonSave")+"";return{c(){t=space(),n=element("div"),r=element("label"),i=text(E),o=space(),a=element("input"),s=space(),c=element("div"),u=element("label"),l=text(x),d=space(),f=element("textarea"),p=space(),h=element("div"),m=element("input"),g=space(),v=element("label"),y=text(T),b=space(),_=element("div"),k=element("button"),w=text(O),attr(r,"for","createTitle"),attr(a,"id","createTitle"),attr(a,"autocomplete","off"),attr(a,"placeholder","enter your title"),attr(a,"type","text"),attr(n,"class","field"),attr(u,"for","createContent"),attr(f,"id","createContent"),attr(f,"rows","10"),attr(c,"class","field"),attr(m,"type","checkbox"),attr(m,"name","createTooltop"),attr(m,"id","createTooltop"),attr(v,"class","big"),attr(v,"for","createTooltop"),attr(h,"class","field"),attr(_,"class","btn-group"),S=[listen(a,"input",e[15]),listen(f,"input",e[16]),listen(m,"change",e[17]),listen(k,"click",e[9])]},m(S,E){insert(S,t,E),insert(S,n,E),append(n,r),append(r,i),append(n,o),append(n,a),set_input_value(a,e[4].title),insert(S,s,E),insert(S,c,E),append(c,u),append(u,l),append(c,d),append(c,f),set_input_value(f,e[4].content),insert(S,p,E),insert(S,h,E),append(h,m),m.checked=e[4].showTooltip,append(h,g),append(h,v),append(v,y),insert(S,b,E),insert(S,_,E),append(_,k),append(k,w)},p(e,t){128&t&&E!==(E=e[7]("cards.modal.title")+"")&&set_data(i,E),16&t&&a.value!==e[4].title&&set_input_value(a,e[4].title),128&t&&x!==(x=e[7]("cards.modal.content")+"")&&set_data(l,x),16&t&&set_input_value(f,e[4].content),16&t&&(m.checked=e[4].showTooltip),128&t&&T!==(T=e[7]("cards.modal.showInScenes")+"")&&set_data(y,T),128&t&&O!==(O=e[7]("cards.modal.buttonSave")+"")&&set_data(w,O)},d(e){e&&detach(t),e&&detach(n),e&&detach(s),e&&detach(c),e&&detach(p),e&&detach(h),e&&detach(b),e&&detach(_),run_all(S)}}}function create_else_block$4(e){let t;const n=new Placeholder({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},p:noop,i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_if_block$8(e){let t,n,r,i,o,a,s,c,u=e[6],l=[];for(let t=0;t<u.length;t+=1)l[t]=create_each_block$5(get_each_context$5(e,u,t));return{c(){t=element("div"),n=element("input"),i=space(),o=element("div"),(a=element("div")).innerHTML='<span class="lnr lnr-plus-circle"></span>',s=space();for(let e=0;e<l.length;e+=1)l[e].c();attr(n,"autocomplete","off"),attr(n,"placeholder",r=e[7]("cards.search")),attr(n,"type","search"),attr(t,"class","field"),attr(a,"class","new"),attr(o,"id","cards"),attr(o,"class","grid"),c=[listen(n,"input",e[19]),listen(a,"click",e[20])]},m(r,c){insert(r,t,c),append(t,n),set_input_value(n,e[2]),insert(r,i,c),insert(r,o,c),append(o,a),append(o,s);for(let e=0;e<l.length;e+=1)l[e].m(o,null)},p(e,t){if(128&t&&r!==(r=e[7]("cards.search"))&&attr(n,"placeholder",r),4&t&&set_input_value(n,e[2]),82&t){let n;for(u=e[6],n=0;n<u.length;n+=1){const r=get_each_context$5(e,u,n);l[n]?l[n].p(r,t):(l[n]=create_each_block$5(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=u.length}},i:noop,o:noop,d(e){e&&detach(t),e&&detach(i),e&&detach(o),destroy_each(l,e),run_all(c)}}}function create_if_block_1$6(e){let t;return{c(){attr(t=element("span"),"class","lnr lnr-checkmark-circle")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_each_block$5(e){let t,n,r,i,o,a,s,c,u=e[22].title+"",l=e[22].content+"",d=e[22].showTooltip&&create_if_block_1$6();function f(...t){return e[21](e[22],...t)}return{c(){t=element("div"),n=element("h2"),d&&d.c(),r=space(),i=text(u),o=space(),a=text(l),s=space(),attr(t,"id","card"),c=listen(t,"click",f)},m(e,c){insert(e,t,c),append(t,n),d&&d.m(n,null),append(n,r),append(n,i),append(t,o),append(t,a),append(t,s)},p(t,o){(e=t)[22].showTooltip?d||((d=create_if_block_1$6()).c(),d.m(n,r)):d&&(d.d(1),d=null),64&o&&u!==(u=e[22].title+"")&&set_data(i,u),64&o&&l!==(l=e[22].content+"")&&set_data(a,l)},d(e){e&&detach(t),d&&d.d(),c()}}}function create_fragment$d(e){let t,n,r,i,o,a,s,c;function u(t){e[14].call(null,t)}let l={$$slots:{default:[create_default_slot_1$1],header:[create_header_slot_1$1]},$$scope:{ctx:e}};void 0!==e[0]&&(l.show=e[0]);const d=new Modal({props:l});function f(t){e[18].call(null,t)}binding_callbacks.push(()=>bind(d,"show",u));let p={$$slots:{default:[create_default_slot$3],header:[create_header_slot$2]},$$scope:{ctx:e}};void 0!==e[1]&&(p.show=e[1]);const h=new Modal({props:p});binding_callbacks.push(()=>bind(h,"show",f));const m=[create_if_block$8,create_else_block$4],g=[];function v(e,t){return e[5].currentProject?0:1}return o=v(e),a=g[o]=m[o](e),{c(){create_component(d.$$.fragment),n=space(),create_component(h.$$.fragment),i=space(),a.c(),s=empty()},m(e,t){mount_component(d,e,t),insert(e,n,t),mount_component(h,e,t),insert(e,i,t),g[o].m(e,t),insert(e,s,t),c=!0},p(e,[n]){const i={};33554568&n&&(i.$$scope={dirty:n,ctx:e}),!t&&1&n&&(t=!0,i.show=e[0],add_flush_callback(()=>t=!1)),d.$set(i);const c={};33554576&n&&(c.$$scope={dirty:n,ctx:e}),!r&&2&n&&(r=!0,c.show=e[1],add_flush_callback(()=>r=!1)),h.$set(c);let u=o;(o=v(e))===u?g[o].p(e,n):(group_outros(),transition_out(g[u],1,1,()=>{g[u]=null}),check_outros(),(a=g[o])||(a=g[o]=m[o](e)).c(),transition_in(a,1),a.m(s.parentNode,s))},i(e){c||(transition_in(d.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(a),c=!0)},o(e){transition_out(d.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(a),c=!1},d(e){destroy_component(d,e),e&&detach(n),destroy_component(h,e),e&&detach(i),g[o].d(e),e&&detach(s)}}}function instance$c(e,t,n){let r,i,o;component_subscribe(e,state,e=>n(5,r=e)),component_subscribe(e,cards,e=>n(10,i=e)),component_subscribe(e,_$1,e=>n(7,o=e));let a=!1,s=!1,c="",u={title:null,content:null,showTooltip:!1},l={id:null,project:null,title:null,content:null,showTooltip:!1};let d;return e.$$.update=()=>{1060&e.$$.dirty&&n(6,d=c?i.filter(e=>e.project==r.currentProject&&(e.title.toLowerCase().startsWith(c.toLowerCase())||e.content.toLowerCase().includes(c.toLowerCase()))):i.filter(e=>e.project==r.currentProject))},[a,s,c,u,l,r,d,o,function(){cards.createCard(r.currentProject,u.title,u.content,u.showTooltip),n(0,a=!1)},function(){cards.setCard(l),n(1,s=!1)},i,function(){u.title=this.value,n(3,u)},function(){u.content=this.value,n(3,u)},function(){u.showTooltip=this.checked,n(3,u)},function(e){n(0,a=e)},function(){l.title=this.value,n(4,l)},function(){l.content=this.value,n(4,l)},function(){l.showTooltip=this.checked,n(4,l)},function(e){n(1,s=e)},function(){c=this.value,n(2,c)},()=>n(0,a=!0),e=>{n(1,[s,l]=[!0,e],s,n(4,l))}]}class Cards extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$d,safe_not_equal,{})}}function create_fragment$e(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M,R,B,P,I,L,N,D,j,F,U,z=e[0]("settings.appereance.title")+"",$=e[0]("settings.appereance.theme.title")+"",H=e[0]("settings.appereance.theme.dark")+"",W=e[0]("settings.appereance.theme.light")+"",G=e[0]("settings.appereance.language.title")+"",Y=e[0]("settings.appereance.language.en")+"",q=e[0]("settings.appereance.language.de")+"",Z=e[0]("header.write.title")+"",K=e[0]("settings.write.autosave")+"",X=e[0]("settings.write.fontsize")+"";return{c(){t=element("h2"),n=text(z),r=space(),i=element("div"),o=element("label"),a=text($),s=space(),c=element("select"),u=element("option"),l=text(H),d=element("option"),f=text(W),p=space(),h=element("div"),m=element("label"),g=text(G),v=space(),y=element("select"),b=element("option"),_=text(Y),k=element("option"),w=text(q),S=space(),E=element("h2"),x=text(Z),T=space(),O=element("div"),C=element("label"),A=text(K),M=space(),R=element("input"),B=space(),P=element("div"),I=element("label"),L=text(X),N=space(),D=element("input"),j=space(),(F=element("div")).innerHTML='<div class="codex-editor">\n    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy\n    eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam\n    voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet\n    clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit\n    amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam\n    nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed\n    diam voluptua. amet.\n  </div>',attr(o,"class","big"),attr(o,"for","editTheme"),u.__value="dark",u.value=u.__value,d.__value="light",d.value=d.__value,attr(c,"id","editTheme"),void 0===e[1].theme&&add_render_callback(()=>e[2].call(c)),attr(i,"class","field"),attr(m,"class","big"),attr(m,"for","editTheme"),b.__value="en",b.value=b.__value,k.__value="de",k.value=k.__value,attr(y,"id","editLanguage"),void 0===e[1].language&&add_render_callback(()=>e[3].call(y)),attr(h,"class","field"),attr(C,"class","big"),attr(C,"for","autosave"),attr(R,"id","autosave"),attr(R,"type","checkbox"),attr(O,"class","field"),attr(I,"class","big"),attr(I,"for","fontSize"),attr(D,"id","fontSize"),attr(D,"type","range"),attr(D,"min",".6"),attr(D,"max","1.2"),attr(D,"step",".1"),attr(P,"class","field"),attr(F,"id","codex-editor"),attr(F,"class","preview svelte-1pqmsqa"),U=[listen(c,"change",e[2]),listen(y,"change",e[3]),listen(R,"change",e[4]),listen(D,"change",e[5]),listen(D,"input",e[5])]},m(U,z){insert(U,t,z),append(t,n),insert(U,r,z),insert(U,i,z),append(i,o),append(o,a),append(i,s),append(i,c),append(c,u),append(u,l),append(c,d),append(d,f),select_option(c,e[1].theme),insert(U,p,z),insert(U,h,z),append(h,m),append(m,g),append(h,v),append(h,y),append(y,b),append(b,_),append(y,k),append(k,w),select_option(y,e[1].language),insert(U,S,z),insert(U,E,z),append(E,x),insert(U,T,z),insert(U,O,z),append(O,C),append(C,A),append(O,M),append(O,R),R.checked=e[1].autosave,insert(U,B,z),insert(U,P,z),append(P,I),append(I,L),append(P,N),append(P,D),set_input_value(D,e[1].fontsize),insert(U,j,z),insert(U,F,z)},p(e,[t]){1&t&&z!==(z=e[0]("settings.appereance.title")+"")&&set_data(n,z),1&t&&$!==($=e[0]("settings.appereance.theme.title")+"")&&set_data(a,$),1&t&&H!==(H=e[0]("settings.appereance.theme.dark")+"")&&set_data(l,H),1&t&&W!==(W=e[0]("settings.appereance.theme.light")+"")&&set_data(f,W),2&t&&select_option(c,e[1].theme),1&t&&G!==(G=e[0]("settings.appereance.language.title")+"")&&set_data(g,G),1&t&&Y!==(Y=e[0]("settings.appereance.language.en")+"")&&set_data(_,Y),1&t&&q!==(q=e[0]("settings.appereance.language.de")+"")&&set_data(w,q),2&t&&select_option(y,e[1].language),1&t&&Z!==(Z=e[0]("header.write.title")+"")&&set_data(x,Z),1&t&&K!==(K=e[0]("settings.write.autosave")+"")&&set_data(A,K),2&t&&(R.checked=e[1].autosave),1&t&&X!==(X=e[0]("settings.write.fontsize")+"")&&set_data(L,X),2&t&&set_input_value(D,e[1].fontsize)},i:noop,o:noop,d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(p),e&&detach(h),e&&detach(S),e&&detach(E),e&&detach(T),e&&detach(O),e&&detach(B),e&&detach(P),e&&detach(j),e&&detach(F),run_all(U)}}}function instance$d(e,t,n){let r,i;return component_subscribe(e,_$1,e=>n(0,r=e)),component_subscribe(e,settings,e=>n(1,i=e)),[r,i,function(){i.theme=select_value(this),settings.set(i)},function(){i.language=select_value(this),settings.set(i)},function(){i.autosave=this.checked,settings.set(i)},function(){i.fontsize=to_number(this.value),settings.set(i)}]}class Settings extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$e,safe_not_equal,{})}}function EventHandlers(){}function EventEmitter(){EventEmitter.init.call(this)}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),o=0;o<r;++o)i[o].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=arrayClone(e,i),a=0;a<i;++a)o[a].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=arrayClone(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function emitThree(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=arrayClone(e,a),c=0;c<a;++c)s[c].call(n,r,i,o)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=arrayClone(e,i),a=0;a<i;++a)o[a].apply(n,r)}function _addListener(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new EventHandlers,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=$getMaxListeners(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,emitWarning(s)}}else a=o[t]=n,++e._eventsCount;return e}function emitWarning(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function _onceWrap(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}EventHandlers.prototype=Object.create(null),EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active&&domain.Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,l,this);break;case 2:emitOne(n,l,this,arguments[1]);break;case 3:emitTwo(n,l,this,arguments[1],arguments[2]);break;case 4:emitThree(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];emitMany(n,l,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new EventHandlers:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete r[e]}else spliceOne(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new EventHandlers:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},EventEmitter.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:unwrapListeners(t):[]},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return(new Date).getTime()},inherits;inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits,formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(formatRegExp,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<i;a=r[++n])isNull(a)||!isObject(a)?o+=" "+a:o+=" "+inspect(a);return o}function deprecate(e,t){if(isUndefined(global$1.process))return function(){return deprecate(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),a=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var c,u="",l=!1,d=["{","}"];(isArray$1(t)&&(l=!0,d=["[","]"]),isFunction(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return isRegExp(t)&&(u=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(u=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(u=" "+formatError(t)),0!==o.length||l&&0!=t.length?n<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?formatArray(e,t,n,a,o):o.map((function(r){return formatProperty(e,t,n,a,r,l)})),e.seen.pop(),reduceToSingleString(c,u,d)):d[0]+u+d[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))})),o}function formatProperty(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray$1(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BufferList(){this.head=null,this.tail=null,this.length=0}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},BufferList.prototype.concat=function(e){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var t=Buffer.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t};var isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function StringDecoder(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var i;r=(t+=e.toString(this.encoding,0,r)).length-1;if((i=t.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t},Readable.ReadableState=ReadableState;var debug=debuglog("stream");function prependListener(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function listenerCount$1(e,t){return e.listeners(t).length}function ReadableState(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),EventEmitter.call(this)}function readableAddChunk(e,t,n,r,i){var o=chunkInvalid(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}inherits$1(Readable,EventEmitter),Readable.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer.from(e,t),t=""),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){return readableAddChunk(this,this._readableState,e,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var n=null;return isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,nextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=fromListPartial(e,t.buffer,t.decoder),n);var n}function fromListPartial(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?copyFromBufferString(e,t):copyFromBuffer(e,t),r}function copyFromBufferString(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function copyFromBuffer(e,t){var n=Buffer.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function nop(){}function WriteReq(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function WritableState(e,t){Object.defineProperty(this,"buffer",{get:deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(!(this instanceof Writable||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),EventEmitter.call(this)}function writeAfterEnd(e,t){var n=new Error("write after end");e.emit("error",n),nextTick(t,n)}function validChunk(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):Buffer.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),nextTick(r,o),i=!1),i}function decodeChunk(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,n)),t}function writeOrBuffer(e,t,n,r,i){n=decodeChunk(t,n,r),Buffer.isBuffer(n)&&(r="buffer");var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(n,r,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,o,n,r,i);return a}function doWrite(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,n,r,i){--t.pendingcb,n?nextTick(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(onwriteStateUpdate(n),t)onwriteError(e,n,r,t,i);else{var o=needFinish(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n),r?nextTick(afterWrite,e,n,o,i):afterWrite(e,n,o,i)}}function afterWrite(e,t,n,r){n||onwriteDrain(e,t),t.pendingcb--,r(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;n;){var s=n.chunk,c=n.encoding,u=n.callback;if(doWrite(e,t,!1,t.objectMode?1:s.length,s,c,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var n=needFinish(t);return n&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),n}function endWritable(e,t,n){t.ending=!0,finishMaybe(e,t),n&&(t.finished?nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var r,i=t.needReadable;return debug("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",i=!0),t.ended||t.reading?debug("reading or ended",i=!1):i&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(n,t))),null===(r=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null!==r&&this.emit("data",r),r},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,debug("pipe count=%d opts=%j",r.pipesCount,t);var i=!t||!1!==t.end?a:u;function o(e){debug("onunpipe"),e===n&&u()}function a(){debug("onend"),e.end()}r.endEmitted?nextTick(i):n.once("end",i),e.on("unpipe",o);var s=pipeOnDrain(n);e.on("drain",s);var c=!1;function u(){debug("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",s),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",u),n.removeListener("data",d),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}var l=!1;function d(t){debug("ondata"),l=!1,!1!==e.write(t)||l||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==indexOf(r.pipes,e))&&!c&&(debug("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,l=!0),n.pause())}function f(t){debug("onerror",t),m(),e.removeListener("error",f),0===listenerCount$1(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",h),m()}function h(){debug("onfinish"),e.removeListener("close",p),m()}function m(){debug("unpipe"),n.unpipe(e)}return n.on("data",d),prependListener(e,"error",f),e.once("close",p),e.once("finish",h),e.emit("pipe",n),r.flowing||(debug("pipe resume"),n.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=indexOf(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var n=EventEmitter.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",(function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)})),e.on("data",(function(i){(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return forEach(["error","close","destroy","pause","resume"],(function(t){e.on(t,r.emit.bind(r,t))})),r._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList,Writable.WritableState=WritableState,inherits$1(Writable,EventEmitter),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=nop),r.ended?writeAfterEnd(this,n):validChunk(this,r,e,n)&&(r.pendingcb++,i=writeOrBuffer(this,r,e,t,n)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,n){n(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,n)},inherits$1(Duplex,Readable);for(var keys=Object.keys(Writable.prototype),v$1=0;v$1<keys.length;v$1++){var method=keys[v$1];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(e){e.end()}function TransformState(e){this.afterTransform=function(t,n){return afterTransform(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!=n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);Duplex.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){done(t,e)})):done(t)}))}function done(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}function Stream(){EventEmitter.call(this)}inherits$1(Transform,Duplex),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("Not implemented")},Transform.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},inherits$1(PassThrough,Transform),PassThrough.prototype._transform=function(e,t,n){n(null,e)},inherits$1(Stream,EventEmitter),Stream.Readable=Readable,Stream.Writable=Writable,Stream.Duplex=Duplex,Stream.Transform=Transform,Stream.PassThrough=PassThrough,Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",s));var o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===EventEmitter.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e};var readableStreamBrowser=Stream,support=createCommonjsModule((function(e,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),t.blob=0===r.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!readableStreamBrowser.Readable}catch(e){t.nodestream=!1}})),support_1=support.base64,support_2=support.array,support_3=support.string,support_4=support.arraybuffer,support_5=support.nodebuffer,support_6=support.uint8array,support_7=support.blob,support_8=support.nodestream,_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode=function(e){for(var t,n,r,i,o,a,s,c=[],u=0,l=e.length,d=l,f="string"!==utils.getTypeOf(e);u<e.length;)d=l-u,f?(t=e[u++],n=u<l?e[u++]:0,r=u<l?e[u++]:0):(t=e.charCodeAt(u++),n=u<l?e.charCodeAt(u++):0,r=u<l?e.charCodeAt(u++):0),i=t>>2,o=(3&t)<<4|n>>4,a=d>1?(15&n)<<2|r>>6:64,s=d>2?63&r:64,c.push(_keyStr.charAt(i)+_keyStr.charAt(o)+_keyStr.charAt(a)+_keyStr.charAt(s));return c.join("")},decode=function(e){var t,n,r,i,o,a,s=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,l=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===_keyStr.charAt(64)&&l--,e.charAt(e.length-2)===_keyStr.charAt(64)&&l--,l%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=support.uint8array?new Uint8Array(0|l):new Array(0|l);s<e.length;)t=_keyStr.indexOf(e.charAt(s++))<<2|(i=_keyStr.indexOf(e.charAt(s++)))>>4,n=(15&i)<<4|(o=_keyStr.indexOf(e.charAt(s++)))>>2,r=(3&o)<<6|(a=_keyStr.indexOf(e.charAt(s++))),u[c++]=t,64!==o&&(u[c++]=n),64!==a&&(u[c++]=r);return u},base64={encode:encode,decode:decode},nodejsUtils={isNode:void 0!==Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}},setImmediateShim="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)},Mutation=commonjsGlobal.MutationObserver||commonjsGlobal.WebKitMutationObserver,scheduleDrain,draining$1;if(Mutation){var called=0,observer=new Mutation(nextTick$1),element$1=commonjsGlobal.document.createTextNode("");observer.observe(element$1,{characterData:!0}),scheduleDrain=function(){element$1.data=called=++called%2}}else if(commonjsGlobal.setImmediate||void 0===commonjsGlobal.MessageChannel)scheduleDrain="document"in commonjsGlobal&&"onreadystatechange"in commonjsGlobal.document.createElement("script")?function(){var e=commonjsGlobal.document.createElement("script");e.onreadystatechange=function(){nextTick$1(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},commonjsGlobal.document.documentElement.appendChild(e)}:function(){setTimeout(nextTick$1,0)};else{var channel=new commonjsGlobal.MessageChannel;channel.port1.onmessage=nextTick$1,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue$1=[];function nextTick$1(){var e,t;draining$1=!0;for(var n=queue$1.length;n;){for(t=queue$1,queue$1=[],e=-1;++e<n;)t[e]();n=queue$1.length}draining$1=!1}var browser=immediate;function immediate(e){1!==queue$1.push(e)||draining$1||scheduleDrain()}function INTERNAL(){}var handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"],browser$1=Promise$1;function Promise$1(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,e!==INTERNAL&&safelyResolveThenable(this,e)}function QueueItem(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function unwrap(e,t,n){browser((function(){var r;try{r=t(n)}catch(t){return handlers.reject(e,t)}r===e?handlers.reject(e,new TypeError("Cannot resolve promise with itself")):handlers.resolve(e,r)}))}function getThen(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function safelyResolveThenable(e,t){var n=!1;function r(t){n||(n=!0,handlers.reject(e,t))}function i(t){n||(n=!0,handlers.resolve(e,t))}var o=tryCatch((function(){t(i,r)}));"error"===o.status&&r(o.value)}function tryCatch(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function resolve(e){return e instanceof this?e:handlers.resolve(new this(INTERNAL),e)}function reject(e){var t=new this(INTERNAL);return handlers.reject(t,e)}function all(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),o=0,a=-1,s=new this(INTERNAL);++a<n;)c(e[a],a);return s;function c(e,a){t.resolve(e).then((function(e){i[a]=e,++o!==n||r||(r=!0,handlers.resolve(s,i))}),(function(e){r||(r=!0,handlers.reject(s,e))}))}}function race(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i,o=-1,a=new this(INTERNAL);++o<n;)i=e[o],t.resolve(i).then((function(e){r||(r=!0,handlers.resolve(a,e))}),(function(e){r||(r=!0,handlers.reject(a,e))}));return a}Promise$1.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},Promise$1.prototype.catch=function(e){return this.then(null,e)},Promise$1.prototype.then=function(e,t){if("function"!=typeof e&&this.state===FULFILLED||"function"!=typeof t&&this.state===REJECTED)return this;var n=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(n,this.state===FULFILLED?e:t,this.outcome):this.queue.push(new QueueItem(n,e,t));return n},QueueItem.prototype.callFulfilled=function(e){handlers.resolve(this.promise,e)},QueueItem.prototype.otherCallFulfilled=function(e){unwrap(this.promise,this.onFulfilled,e)},QueueItem.prototype.callRejected=function(e){handlers.reject(this.promise,e)},QueueItem.prototype.otherCallRejected=function(e){unwrap(this.promise,this.onRejected,e)},handlers.resolve=function(e,t){var n=tryCatch(getThen,t);if("error"===n.status)return handlers.reject(e,n.value);var r=n.value;if(r)safelyResolveThenable(e,r);else{e.state=FULFILLED,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},handlers.reject=function(e,t){e.state=REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},Promise$1.resolve=resolve,Promise$1.reject=reject,Promise$1.all=all,Promise$1.race=race;var ES6Promise=null;ES6Promise="undefined"!=typeof Promise?Promise:browser$1;var external={Promise:ES6Promise},utils=createCommonjsModule((function(e,t){function n(e){return e}function r(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var i={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function o(e){var n=65536,r=t.getTypeOf(e),o=!0;if("uint8array"===r?o=i.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=i.applyCanBeUsed.nodebuffer),o)for(;n>1;)try{return i.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return i.stringifyByChar(e)}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=o;var s={};s.string={string:n,array:function(e){return r(e,new Array(e.length))},arraybuffer:function(e){return s.string.uint8array(e).buffer},uint8array:function(e){return r(e,new Uint8Array(e.length))},nodebuffer:function(e){return r(e,nodejsUtils.allocBuffer(e.length))}},s.array={string:o,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return nodejsUtils.newBufferFrom(e)}},s.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return nodejsUtils.newBufferFrom(new Uint8Array(e))}},s.uint8array={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return nodejsUtils.newBufferFrom(e)}},s.nodebuffer={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return s.nodebuffer.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:n},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return s[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":support.nodebuffer&&nodejsUtils.isBuffer(e)?"nodebuffer":support.uint8array&&e instanceof Uint8Array?"uint8array":support.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!support[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){setImmediateShim((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,i,o,a){return external.Promise.resolve(n).then((function(e){return support.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new external.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var s,c=t.getTypeOf(n);return c?("arraybuffer"===c?n=t.transformTo("uint8array",n):"string"===c&&(a?n=base64.decode(n):i&&!0!==o&&(n=r(s=n,support.uint8array?new Uint8Array(s.length):new Array(s.length)))),n):external.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}})),utils_1=utils.newBlob,utils_2=utils.applyFromCharCode,utils_3=utils.transformTo,utils_4=utils.getTypeOf,utils_5=utils.checkSupport,utils_6=utils.MAX_VALUE_16BITS,utils_7=utils.MAX_VALUE_32BITS,utils_8=utils.pretty,utils_9=utils.delay,utils_10=utils.inherits,utils_11=utils.extend,utils_12=utils.prepareContent;function GenericWorker(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}};var GenericWorker_1=GenericWorker,utf8=createCommonjsModule((function(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;n[254]=n[254]=1;function i(){GenericWorker_1.call(this,"utf-8 decode"),this.leftOver=null}function o(){GenericWorker_1.call(this,"utf-8 encode")}t.utf8encode=function(e){return support.nodebuffer?nodejsUtils.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=support.uint8array?new Uint8Array(s):new Array(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},t.utf8decode=function(e){return support.nodebuffer?utils.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,a=e.length,s=new Array(2*a);for(r=0,t=0;t<a;)if((i=e[t++])<128)s[r++]=i;else if((o=n[i])>4)s[r++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<a;)i=i<<6|63&e[t++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return s.length!==r&&(s.subarray?s=s.subarray(0,r):s.length=r),utils.applyFromCharCode(s)}(e=utils.transformTo(support.uint8array?"uint8array":"array",e))},utils.inherits(i,GenericWorker_1),i.prototype.processChunk=function(e){var r=utils.transformTo(support.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var i=r;(r=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),r.set(i,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+n[e[r]]>t?r:t}(r),a=r;o!==r.length&&(support.uint8array?(a=r.subarray(0,o),this.leftOver=r.subarray(o,r.length)):(a=r.slice(0,o),this.leftOver=r.slice(o,r.length))),this.push({data:t.utf8decode(a),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=i,utils.inherits(o,GenericWorker_1),o.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=o})),utf8_1=utf8.utf8encode,utf8_2=utf8.utf8decode,utf8_3=utf8.Utf8DecodeWorker,utf8_4=utf8.Utf8EncodeWorker;function ConvertWorker(e){GenericWorker_1.call(this,"ConvertWorker to "+e),this.destType=e}utils.inherits(ConvertWorker,GenericWorker_1),ConvertWorker.prototype.processChunk=function(e){this.push({data:utils.transformTo(this.destType,e.data),meta:e.meta})};var ConvertWorker_1=ConvertWorker,Readable$1=readableStreamBrowser.Readable;function NodejsStreamOutputAdapter(e,t,n){Readable$1.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}utils.inherits(NodejsStreamOutputAdapter,Readable$1),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()};var NodejsStreamOutputAdapter_1=NodejsStreamOutputAdapter,NodejsStreamOutputAdapter$1=null;if(support.nodestream)try{NodejsStreamOutputAdapter$1=NodejsStreamOutputAdapter_1}catch(e){}function transformZipOutput(e,t,n){switch(e){case"blob":return utils.newBlob(utils.transformTo("arraybuffer",t),n);case"base64":return base64.encode(t);default:return utils.transformTo(e,t)}}function concat(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function accumulate(e,t){return new external.Promise((function(n,r){var i=[],o=e._internalType,a=e._outputType,s=e._mimeType;e.on("data",(function(e,n){i.push(e),t&&t(n)})).on("error",(function(e){i=[],r(e)})).on("end",(function(){try{var e=transformZipOutput(a,concat(o,i),s);n(e)}catch(e){r(e)}i=[]})).resume()}))}function StreamHelper(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,utils.checkSupport(r),this._worker=e.pipe(new ConvertWorker_1(r)),e.lock()}catch(e){this._worker=new GenericWorker_1("error"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(e){return accumulate(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){utils.delay(t,arguments,n)})),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(utils.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new NodejsStreamOutputAdapter$1(this,{objectMode:"nodebuffer"!==this._outputType},e)}};var StreamHelper_1=StreamHelper,base64$1=!1,binary=!1,dir=!1,createFolders=!0,date=null,compression=null,compressionOptions=null,comment=null,unixPermissions=null,dosPermissions=null,defaults={base64:base64$1,binary:binary,dir:dir,createFolders:createFolders,date:date,compression:compression,compressionOptions:compressionOptions,comment:comment,unixPermissions:unixPermissions,dosPermissions:dosPermissions},DEFAULT_BLOCK_SIZE=16384;function DataWorker(e){GenericWorker_1.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=utils.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}utils.inherits(DataWorker,GenericWorker_1),DataWorker.prototype.cleanUp=function(){GenericWorker_1.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=DEFAULT_BLOCK_SIZE,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};var DataWorker_1=DataWorker;function DataLengthProbe(e){GenericWorker_1.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}utils.inherits(DataLengthProbe,GenericWorker_1),DataLengthProbe.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}GenericWorker_1.prototype.processChunk.call(this,e)};var DataLengthProbe_1=DataLengthProbe;function makeTable(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var crcTable=makeTable();function crc32(e,t,n,r){var i=crcTable,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}function crc32str(e,t,n,r){var i=crcTable,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}var crc32_1=function(e,t){return void 0!==e&&e.length?"string"!==utils.getTypeOf(e)?crc32(0|t,e,e.length,0):crc32str(0|t,e,e.length,0):0};function Crc32Probe(){GenericWorker_1.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}utils.inherits(Crc32Probe,GenericWorker_1),Crc32Probe.prototype.processChunk=function(e){this.streamInfo.crc32=crc32_1(e.data,this.streamInfo.crc32||0),this.push(e)};var Crc32Probe_1=Crc32Probe;function CompressedObject(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}CompressedObject.prototype={getContentWorker:function(){var e=new DataWorker_1(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe_1("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new DataWorker_1(external.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},CompressedObject.createWorkerFrom=function(e,t,n){return e.pipe(new Crc32Probe_1).pipe(new DataLengthProbe_1("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new DataLengthProbe_1("compressedSize")).withStreamInfo("compression",t)};var compressedObject=CompressedObject,ZipObject=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};ZipObject.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(t=t.pipe(new utf8.Utf8EncodeWorker)),!i&&r&&(t=t.pipe(new utf8.Utf8DecodeWorker))}catch(e){(t=new GenericWorker_1("error")).error(e)}return new StreamHelper_1(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof compressedObject&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new utf8.Utf8EncodeWorker)),compressedObject.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof compressedObject?this._data.getContentWorker():this._data instanceof GenericWorker_1?this._data:new DataWorker_1(this._data)}};for(var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i$1=0;i$1<removedMethods.length;i$1++)ZipObject.prototype[removedMethods[i$1]]=removedFn;var zipObject=ZipObject,common=createCommonjsModule((function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)})),common_1=common.assign,common_2=common.shrinkBuf,common_3=common.setTyped,common_4=common.Buf8,common_5=common.Buf16,common_6=common.Buf32,Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(e){for(var t=e.length;--t>=0;)e[t]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES),static_l_desc,static_d_desc,static_bl_desc;function StaticTreeDesc(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function send_bits(e,t,n){e.bi_valid>Buf_size-n?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=n-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function send_code(e,t,n){send_bits(e,n[2*t],n[2*t+1])}function bi_reverse(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,t){var n,r,i,o,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;o<=MAX_BITS;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<HEAP_SIZE;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,m++),c[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=c[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}function gen_codes(e,t,n){var r,i,o=new Array(MAX_BITS+1),a=0;for(r=1;r<=MAX_BITS;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=bi_reverse(o[s]++,s))}}function tr_static_init(){var e,t,n,r,i,o=new Array(MAX_BITS+1);for(n=0,r=0;r<LENGTH_CODES-1;r++)for(base_length[r]=n,e=0;e<1<<extra_lbits[r];e++)_length_code[n++]=r;for(_length_code[n-1]=r,i=0,r=0;r<16;r++)for(base_dist[r]=i,e=0;e<1<<extra_dbits[r];e++)_dist_code[i++]=r;for(i>>=7;r<D_CODES;r++)for(base_dist[r]=i<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+i++]=r;for(t=0;t<=MAX_BITS;t++)o[t]=0;for(e=0;e<=143;)static_ltree[2*e+1]=8,e++,o[8]++;for(;e<=255;)static_ltree[2*e+1]=9,e++,o[9]++;for(;e<=279;)static_ltree[2*e+1]=7,e++,o[7]++;for(;e<=287;)static_ltree[2*e+1]=8,e++,o[8]++;for(gen_codes(static_ltree,L_CODES+1,o),e=0;e<D_CODES;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(e){var t;for(t=0;t<L_CODES;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D_CODES;t++)e.dyn_dtree[2*t]=0;for(t=0;t<BL_CODES;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,t,n,r){bi_windup(e),r&&(put_short(e,n),put_short(e,~n)),common.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function smaller(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function pqdownheap(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function compress_block(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?send_code(e,i,t):(send_code(e,(o=_length_code[i])+LITERALS+1,t),0!==(a=extra_lbits[o])&&send_bits(e,i-=base_length[o],a),send_code(e,o=d_code(--r),n),0!==(a=extra_dbits[o])&&send_bits(e,r-=base_dist[o],a))}while(s<e.last_lit);send_code(e,END_BLOCK,t)}function build_tree(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)pqdownheap(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,pqdownheap(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(o,u,e.bl_count)}function scan_tree(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):s<=10?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function send_tree(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{send_code(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(send_code(e,i,e.bl_tree),s--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,s-3,2)):s<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,s-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}function build_bl_tree(e){var t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES-1;t>=3&&0===e.bl_tree[2*bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function send_all_trees(e,t,n,r){var i;for(send_bits(e,t-257,5),send_bits(e,n-1,5),send_bits(e,r-4,4),i=0;i<r;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,n-1)}function detect_data_type(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(t=32;t<LITERALS;t++)if(0!==e.dyn_ltree[2*t])return Z_TEXT;return Z_BINARY}zero(base_dist);var static_init_done=!1;function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,t,n,r){send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(e,t,n,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,t,n,r){var i,o,a=0;e.level>0?(e.strm.data_type===Z_UNKNOWN&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),a=build_bl_tree(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?_tr_stored_block(e,t,n,r):e.strategy===Z_FIXED||o===i?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)}function _tr_tally(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_length_code[n]+LITERALS+1)]++,e.dyn_dtree[2*d_code(t)]++),e.last_lit===e.lit_bufsize-1}var _tr_init_1=_tr_init,_tr_stored_block_1=_tr_stored_block,_tr_flush_block_1=_tr_flush_block,_tr_tally_1=_tr_tally,_tr_align_1=_tr_align,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};function adler32(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}var adler32_1=adler32;function makeTable$1(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var crcTable$1=makeTable$1();function crc32$1(e,t,n,r){var i=crcTable$1,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}var crc32_1$1=crc32$1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED$1=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN$1=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,MIN_MATCH$1=3,MAX_MATCH$1=258,MIN_LOOKAHEAD=MAX_MATCH$1+MIN_MATCH$1+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,configuration_table;function err(e,t){return e.msg=messages[t],t}function rank(e){return(e<<1)-(e>4?9:0)}function zero$1(e){for(var t=e.length;--t>=0;)e[t]=0}function flush_pending(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(common.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function flush_block_only(e,t){trees._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,t){e.pending_buf[e.pending++]=t}function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function read_buf(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,common.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=adler32_1(e.adler,t,i,n):2===e.state.wrap&&(e.adler=crc32_1$1(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function longest_match(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+MAX_MATCH$1,p=u[o+a-1],h=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===h&&u[n+a-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=MAX_MATCH$1-(f-o),o=f-MAX_MATCH$1,r>a){if(e.match_start=t,a=r,r>=s)break;p=u[o+a-1],h=u[o+a]}}}while((t=d[t&l])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function fill_window(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-MIN_LOOKAHEAD)){common.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH$1)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+MIN_MATCH$1-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH$1)););}while(e.lookahead<MIN_LOOKAHEAD&&0!==e.strm.avail_in)}function deflate_stored(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),0===e.lookahead&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE;if(e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out),BS_NEED_MORE)}function deflate_fast(e,t){for(var n,r;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(n=0,e.lookahead>=MIN_MATCH$1&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n)),e.match_length>=MIN_MATCH$1)if(r=trees._tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH$1),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH$1){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH$1-1?e.strstart:MIN_MATCH$1-1,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(e,t){for(var n,r,i;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(n=0,e.lookahead>=MIN_MATCH$1&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH$1-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH$1&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH$1-1)),e.prev_length>=MIN_MATCH$1&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH$1,r=trees._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH$1),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH$1-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=MIN_MATCH$1-1,e.strstart++,r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}else if(e.match_available){if((r=trees._tr_tally(e,0,e.window[e.strstart-1]))&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=trees._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH$1-1?e.strstart:MIN_MATCH$1-1,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=MAX_MATCH$1){if(fill_window(e),e.lookahead<=MAX_MATCH$1&&t===Z_NO_FLUSH)return BS_NEED_MORE;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=MIN_MATCH$1&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+MAX_MATCH$1;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=MAX_MATCH$1-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH$1?(n=trees._tr_tally(e,1,e.match_length-MIN_MATCH$1),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(e,t){for(var n;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(t===Z_NO_FLUSH)return BS_NEED_MORE;break}if(e.match_length=0,n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function lm_init(e){e.window_size=2*e.w_size,zero$1(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH$1-1,e.match_available=0,e.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new common.Buf16(2*HEAP_SIZE$1),this.dyn_dtree=new common.Buf16(2*(2*D_CODES$1+1)),this.bl_tree=new common.Buf16(2*(2*BL_CODES$1+1)),zero$1(this.dyn_ltree),zero$1(this.dyn_dtree),zero$1(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new common.Buf16(MAX_BITS$1+1),this.heap=new common.Buf16(2*L_CODES$1+1),zero$1(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new common.Buf16(2*L_CODES$1+1),zero$1(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN$1,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,e.adler=2===t.wrap?0:1,t.last_flush=Z_NO_FLUSH,trees._tr_init(t),Z_OK):err(e,Z_STREAM_ERROR)}function deflateReset(e){var t=deflateResetKeep(e);return t===Z_OK&&lm_init(e.state),t}function deflateSetHeader(e,t){return e&&e.state?2!==e.state.wrap?Z_STREAM_ERROR:(e.state.gzhead=t,Z_OK):Z_STREAM_ERROR}function deflateInit2(e,t,n,r,i,o){if(!e)return Z_STREAM_ERROR;var a=1;if(t===Z_DEFAULT_COMPRESSION&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>MAX_MEM_LEVEL||n!==Z_DEFLATED||r<8||r>15||t<0||t>9||o<0||o>Z_FIXED$1)return err(e,Z_STREAM_ERROR);8===r&&(r=9);var s=new DeflateState;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH$1-1)/MIN_MATCH$1),s.window=new common.Buf8(2*s.w_size),s.head=new common.Buf16(s.hash_size),s.prev=new common.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new common.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,deflateReset(e)}function deflateInit(e,t){return deflateInit2(e,t,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(e,t){var n,r,i,o;if(!e||!e.state||t>Z_BLOCK||t<0)return e?err(e,Z_STREAM_ERROR):Z_STREAM_ERROR;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===FINISH_STATE&&t!==Z_FINISH)return err(e,0===e.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===INIT_STATE)if(2===r.wrap)e.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead?(put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,255&r.gzhead.time),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,255&r.gzhead.extra.length),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE):(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE);else{var a=Z_DEFLATED+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=PRESET_DICT),a+=31-a%31,r.status=BUSY_STATE,putShortMSB(r,a),0!==r.strstart&&(putShortMSB(r,e.adler>>>16),putShortMSB(r,65535&e.adler)),e.adler=1}if(r.status===EXTRA_STATE)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending!==r.pending_buf_size));)put_byte(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=NAME_STATE)}else r.status=NAME_STATE;if(r.status===NAME_STATE)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,put_byte(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=COMMENT_STATE)}else r.status=COMMENT_STATE;if(r.status===COMMENT_STATE)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),flush_pending(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,put_byte(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=crc32_1$1(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=HCRC_STATE)}else r.status=HCRC_STATE;if(r.status===HCRC_STATE&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&flush_pending(e),r.pending+2<=r.pending_buf_size&&(put_byte(r,255&e.adler),put_byte(r,e.adler>>8&255),e.adler=0,r.status=BUSY_STATE)):r.status=BUSY_STATE),0!==r.pending){if(flush_pending(e),0===e.avail_out)return r.last_flush=-1,Z_OK}else if(0===e.avail_in&&rank(t)<=rank(n)&&t!==Z_FINISH)return err(e,Z_BUF_ERROR);if(r.status===FINISH_STATE&&0!==e.avail_in)return err(e,Z_BUF_ERROR);if(0!==e.avail_in||0!==r.lookahead||t!==Z_NO_FLUSH&&r.status!==FINISH_STATE){var s=r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,t):r.strategy===Z_RLE?deflate_rle(r,t):configuration_table[r.level].func(r,t);if(s!==BS_FINISH_STARTED&&s!==BS_FINISH_DONE||(r.status=FINISH_STATE),s===BS_NEED_MORE||s===BS_FINISH_STARTED)return 0===e.avail_out&&(r.last_flush=-1),Z_OK;if(s===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?trees._tr_align(r):t!==Z_BLOCK&&(trees._tr_stored_block(r,0,0,!1),t===Z_FULL_FLUSH&&(zero$1(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(e),0===e.avail_out))return r.last_flush=-1,Z_OK}return t!==Z_FINISH?Z_OK:r.wrap<=0?Z_STREAM_END:(2===r.wrap?(put_byte(r,255&e.adler),put_byte(r,e.adler>>8&255),put_byte(r,e.adler>>16&255),put_byte(r,e.adler>>24&255),put_byte(r,255&e.total_in),put_byte(r,e.total_in>>8&255),put_byte(r,e.total_in>>16&255),put_byte(r,e.total_in>>24&255)):(putShortMSB(r,e.adler>>>16),putShortMSB(r,65535&e.adler)),flush_pending(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Z_OK:Z_STREAM_END)}function deflateEnd(e){var t;return e&&e.state?(t=e.state.status)!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(e,Z_STREAM_ERROR):(e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR}function deflateSetDictionary(e,t){var n,r,i,o,a,s,c,u,l=t.length;if(!e||!e.state)return Z_STREAM_ERROR;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR;for(1===o&&(e.adler=adler32_1(e.adler,t,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(zero$1(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new common.Buf8(n.w_size),common.arraySet(u,t,l-n.w_size,n.w_size,0),t=u,l=n.w_size),a=e.avail_in,s=e.next_in,c=e.input,e.avail_in=l,e.next_in=0,e.input=t,fill_window(n);n.lookahead>=MIN_MATCH$1;){r=n.strstart,i=n.lookahead-(MIN_MATCH$1-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+MIN_MATCH$1-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=MIN_MATCH$1-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH$1-1,n.match_available=0,e.next_in=s,e.input=c,e.avail_in=a,n.wrap=o,Z_OK}configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2=deflate,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo:deflateInfo},STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(e){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}for(var _utf8len=new common.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new common.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t};function buf2binstring(e,t){if(t<65534&&(e.subarray&&STR_APPLY_UIA_OK||!e.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,common.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var buf2binstring_1=function(e){return buf2binstring(e,e.length)},binstring2buf=function(e){for(var t=new common.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},buf2string=function(e,t){var n,r,i,o,a=t||e.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((i=e[n++])<128)s[r++]=i;else if((o=_utf8len[i])>4)s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&e[n++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return buf2binstring(s,r)},utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+_utf8len[e[n]]>t?n:t},strings={string2buf:string2buf,buf2binstring:buf2binstring_1,binstring2buf:binstring2buf,buf2string:buf2string,utf8border:utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream,toString$1=Object.prototype.toString,Z_NO_FLUSH$1=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION$1=-1,Z_DEFAULT_STRATEGY$1=0,Z_DEFLATED$1=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=common.assign({level:Z_DEFAULT_COMPRESSION$1,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$1,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;var n=deflate_1.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Z_OK$1)throw new Error(messages[n]);if(t.header&&deflate_1.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$1.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=deflate_1.deflateSetDictionary(this.strm,r))!==Z_OK$1)throw new Error(messages[n]);this._dict_set=!0}}function deflate$1(e,t){var n=new Deflate(t);if(n.push(e,!0),n.err)throw n.msg||messages[n.err];return n.result}function deflateRaw(e,t){return(t=t||{}).raw=!0,deflate$1(e,t)}function gzip(e,t){return(t=t||{}).gzip=!0,deflate$1(e,t)}Deflate.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?Z_FINISH$1:Z_NO_FLUSH$1,"string"==typeof e?i.input=strings.string2buf(e):"[object ArrayBuffer]"===toString$1.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new common.Buf8(o),i.next_out=0,i.avail_out=o),(n=deflate_1.deflate(i,r))!==Z_STREAM_END$1&&n!==Z_OK$1)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||r!==Z_FINISH$1&&r!==Z_SYNC_FLUSH)||("string"===this.options.to?this.onData(strings.buf2binstring(common.shrinkBuf(i.output,i.next_out))):this.onData(common.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==Z_STREAM_END$1);return r===Z_FINISH$1?(n=deflate_1.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Z_OK$1):r!==Z_SYNC_FLUSH||(this.onEnd(Z_OK$1),i.avail_out=0,!0)},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===Z_OK$1&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Deflate_1=Deflate,deflate_2$1=deflate$1,deflateRaw_1=deflateRaw,gzip_1=gzip,deflate_1$1={Deflate:Deflate_1,deflate:deflate_2$1,deflateRaw:deflateRaw_1,gzip:gzip_1},BAD=30,TYPE$1=12,inffast=function(e,t){var n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),b=m[p&v];t:for(;;){if(p>>>=_=b>>>24,h-=_,0===(_=b>>>16&255))T[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(p&(1<<_)-1)];continue t}if(32&_){n.mode=TYPE$1;break e}e.msg="invalid literal/length code",n.mode=BAD;break e}k=65535&b,(_&=15)&&(h<_&&(p+=x[r++]<<h,h+=8),k+=p&(1<<_)-1,p>>>=_,h-=_),h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),b=g[p&y];n:for(;;){if(p>>>=_=b>>>24,h-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(p&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=BAD;break e}if(w=65535&b,h<(_&=15)&&(p+=x[r++]<<h,(h+=8)<_&&(p+=x[r++]<<h,h+=8)),(w+=p&(1<<_)-1)>c){e.msg="invalid distance too far back",n.mode=BAD;break e}if(p>>>=_,h-=_,w>(_=o-a)){if((_=w-_)>l&&n.sane){e.msg="invalid distance too far back",n.mode=BAD;break e}if(S=0,E=f,0===d){if(S+=u-_,_<k){k-=_;do{T[o++]=f[S++]}while(--_);S=o-w,E=T}}else if(d<_){if(S+=u+d-_,(_-=d)<k){k-=_;do{T[o++]=f[S++]}while(--_);if(S=0,d<k){k-=_=d;do{T[o++]=f[S++]}while(--_);S=o-w,E=T}}}else if(S+=d-_,_<k){k-=_;do{T[o++]=f[S++]}while(--_);S=o-w,E=T}for(;k>2;)T[o++]=E[S++],T[o++]=E[S++],T[o++]=E[S++],k-=3;k&&(T[o++]=E[S++],k>1&&(T[o++]=E[S++]))}else{S=o-w;do{T[o++]=T[S++],T[o++]=T[S++],T[o++]=T[S++],k-=3}while(k>2);k&&(T[o++]=T[S++],k>1&&(T[o++]=T[S++]))}break}}break}}while(r<i&&o<s);r-=k=h>>3,p&=(1<<(h-=k<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=h},MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(e,t,n,r,i,o,a,s){var c,u,l,d,f,p,h,m,g,v=s.bits,y=0,b=0,_=0,k=0,w=0,S=0,E=0,x=0,T=0,O=0,C=null,A=0,M=new common.Buf16(MAXBITS+1),R=new common.Buf16(MAXBITS+1),B=null,P=0;for(y=0;y<=MAXBITS;y++)M[y]=0;for(b=0;b<r;b++)M[t[n+b]]++;for(w=v,k=MAXBITS;k>=1&&0===M[k];k--);if(w>k&&(w=k),0===k)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(_=1;_<k&&0===M[_];_++);for(w<_&&(w=_),x=1,y=1;y<=MAXBITS;y++)if(x<<=1,(x-=M[y])<0)return-1;if(x>0&&(e===CODES||1!==k))return-1;for(R[1]=0,y=1;y<MAXBITS;y++)R[y+1]=R[y]+M[y];for(b=0;b<r;b++)0!==t[n+b]&&(a[R[t[n+b]]++]=b);if(e===CODES?(C=B=a,p=19):e===LENS?(C=lbase,A-=257,B=lext,P-=257,p=256):(C=dbase,B=dext,p=-1),O=0,b=0,y=_,f=o,S=w,E=0,l=-1,d=(T=1<<w)-1,e===LENS&&T>ENOUGH_LENS||e===DISTS&&T>ENOUGH_DISTS)return 1;for(;;){h=y-E,a[b]<p?(m=0,g=a[b]):a[b]>p?(m=B[P+a[b]],g=C[A+a[b]]):(m=96,g=0),c=1<<y-E,_=u=1<<S;do{i[f+(O>>E)+(u-=c)]=h<<24|m<<16|g|0}while(0!==u);for(c=1<<y-1;O&c;)c>>=1;if(0!==c?(O&=c-1,O+=c):O=0,b++,0==--M[y]){if(y===k)break;y=t[n+a[b]]}if(y>w&&(O&d)!==l){for(0===E&&(E=w),f+=_,x=1<<(S=y-E);S+E<k&&!((x-=M[S+E])<=0);)S++,x<<=1;if(T+=1<<S,e===LENS&&T>ENOUGH_LENS||e===DISTS&&T>ENOUGH_DISTS)return 1;i[l=O&d]=w<<24|S<<16|f-o|0}}return 0!==O&&(i[f+O]=y-E<<24|64<<16|0),s.bits=w,0},CODES$1=0,LENS$1=1,DISTS$1=2,Z_FINISH$2=4,Z_BLOCK$1=5,Z_TREES=6,Z_OK$2=0,Z_STREAM_END$2=1,Z_NEED_DICT=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$2=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE$2=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD$1=30,MEM=31,SYNC=32,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,MAX_WBITS$1=15,DEF_WBITS=MAX_WBITS$1;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new common.Buf16(320),this.work=new common.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new common.Buf32(ENOUGH_LENS$1),t.distcode=t.distdyn=new common.Buf32(ENOUGH_DISTS$1),t.sane=1,t.back=-1,Z_OK$2):Z_STREAM_ERROR$1}function inflateReset(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR$1}function inflateReset2(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,inflateReset(e))):Z_STREAM_ERROR$1}function inflateInit2(e,t){var n,r;return e?(r=new InflateState,e.state=r,r.window=null,(n=inflateReset2(e,t))!==Z_OK$2&&(e.state=null),n):Z_STREAM_ERROR$1}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(e){if(virgin){var t;for(lenfix=new common.Buf32(512),distfix=new common.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS$1,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS$1,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new common.Buf8(o.wsize)),r>=o.wsize?(common.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),common.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(common.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function inflate(e,t){var n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T=0,O=new common.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR$1;(n=e.state).mode===TYPE$2&&(n.mode=TYPEDO),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,d=s,f=c,S=Z_OK$2;e:for(;;)switch(n.mode){case HEAD:if(0===n.wrap){n.mode=TYPEDO;break}for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){n.check=0,O[0]=255&u,O[1]=u>>>8&255,n.check=crc32_1$1(n.check,O,2,0),u=0,l=0,n.mode=FLAGS;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=BAD$1;break}if((15&u)!==Z_DEFLATED$2){e.msg="unknown compression method",n.mode=BAD$1;break}if(l-=4,w=8+(15&(u>>>=4)),0===n.wbits)n.wbits=w;else if(w>n.wbits){e.msg="invalid window size",n.mode=BAD$1;break}n.dmax=1<<w,e.adler=n.check=1,n.mode=512&u?DICTID:TYPE$2,u=0,l=0;break;case FLAGS:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Z_DEFLATED$2){e.msg="unknown compression method",n.mode=BAD$1;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=BAD$1;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=crc32_1$1(n.check,O,2,0)),u=0,l=0,n.mode=TIME;case TIME:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,n.check=crc32_1$1(n.check,O,4,0)),u=0,l=0,n.mode=OS;case OS:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=crc32_1$1(n.check,O,2,0)),u=0,l=0,n.mode=EXLEN;case EXLEN:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=crc32_1$1(n.check,O,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),common.arraySet(n.head.extra,r,o,p,w)),512&n.flags&&(n.check=crc32_1$1(n.check,r,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(2048&n.flags){if(0===s)break e;p=0;do{w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&p<s);if(512&n.flags&&(n.check=crc32_1$1(n.check,r,p,o)),s-=p,o+=p,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(4096&n.flags){if(0===s)break e;p=0;do{w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&p<s);if(512&n.flags&&(n.check=crc32_1$1(n.check,r,p,o)),s-=p,o+=p,w)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=BAD$1;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=TYPE$2;break;case DICTID:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}e.adler=n.check=zswap32(u),u=0,l=0,n.mode=DICT;case DICT:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,Z_NEED_DICT;e.adler=n.check=1,n.mode=TYPE$2;case TYPE$2:if(t===Z_BLOCK$1||t===Z_TREES)break e;case TYPEDO:if(n.last){u>>>=7&l,l-=7&l,n.mode=CHECK;break}for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,t===Z_TREES){u>>>=2,l-=2;break e}break;case 2:n.mode=TABLE;break;case 3:e.msg="invalid block type",n.mode=BAD$1}u>>>=2,l-=2;break;case STORED:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=BAD$1;break}if(n.length=65535&u,u=0,l=0,n.mode=COPY_,t===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(p=n.length){if(p>s&&(p=s),p>c&&(p=c),0===p)break e;common.arraySet(i,r,o,p,a),s-=p,o+=p,c-=p,a+=p,n.length-=p;break}n.mode=TYPE$2;break;case TABLE:for(;l<14;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=BAD$1;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.lens[C[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},S=inftrees(CODES$1,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,S){e.msg="invalid code lengths set",n.mode=BAD$1;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;v=(T=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&T,!((g=T>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(y<16)u>>>=g,l-=g,n.lens[n.have++]=y;else{if(16===y){for(x=g+2;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=BAD$1;break}w=n.lens[n.have-1],p=3+(3&u),u>>>=2,l-=2}else if(17===y){for(x=g+3;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=g,w=0,p=3+(7&(u>>>=g)),u>>>=3,l-=3}else{for(x=g+7;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=g,w=0,p=11+(127&(u>>>=g)),u>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=BAD$1;break}for(;p--;)n.lens[n.have++]=w}}if(n.mode===BAD$1)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=BAD$1;break}if(n.lenbits=9,E={bits:n.lenbits},S=inftrees(LENS$1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,S){e.msg="invalid literal/lengths set",n.mode=BAD$1;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},S=inftrees(DISTS$1,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,S){e.msg="invalid distances set",n.mode=BAD$1;break}if(n.mode=LEN_,t===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,inffast(e,f),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,n.mode===TYPE$2&&(n.back=-1);break}for(n.back=0;v=(T=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&T,!((g=T>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(v&&0==(240&v)){for(b=g,_=v,k=y;v=(T=n.lencode[k+((u&(1<<b+_)-1)>>b)])>>>16&255,y=65535&T,!(b+(g=T>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=g,l-=g,n.back+=g,n.length=y,0===v){n.mode=LIT;break}if(32&v){n.back=-1,n.mode=TYPE$2;break}if(64&v){e.msg="invalid literal/length code",n.mode=BAD$1;break}n.extra=15&v,n.mode=LENEXT;case LENEXT:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;v=(T=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&T,!((g=T>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(0==(240&v)){for(b=g,_=v,k=y;v=(T=n.distcode[k+((u&(1<<b+_)-1)>>b)])>>>16&255,y=65535&T,!(b+(g=T>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=g,l-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=BAD$1;break}n.offset=y,n.extra=15&v,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=BAD$1;break}n.mode=MATCH;case MATCH:if(0===c)break e;if(p=f-c,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=BAD$1;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,h=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{i[a++]=m[h++]}while(--p);0===n.length&&(n.mode=LEN);break;case LIT:if(0===c)break e;i[a++]=n.length,c--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;l<32;){if(0===s)break e;s--,u|=r[o++]<<l,l+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?crc32_1$1(n.check,i,f,a-f):adler32_1(n.check,i,f,a-f)),f=c,(n.flags?u:zswap32(u))!==n.check){e.msg="incorrect data check",n.mode=BAD$1;break}u=0,l=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=BAD$1;break}u=0,l=0}n.mode=DONE;case DONE:S=Z_STREAM_END$2;break e;case BAD$1:S=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<BAD$1&&(n.mode<CHECK||t!==Z_FINISH$2))&&updatewindow(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?crc32_1$1(n.check,i,f,e.next_out-f):adler32_1(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE$2?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(0===d&&0===f||t===Z_FINISH$2)&&S===Z_OK$2&&(S=Z_BUF_ERROR$1),S}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$2}function inflateGetHeader(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?Z_STREAM_ERROR$1:(n.head=t,t.done=!1,Z_OK$2):Z_STREAM_ERROR$1}function inflateSetDictionary(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==DICT?Z_STREAM_ERROR$1:n.mode===DICT&&adler32_1(1,t,r,0)!==n.check?Z_DATA_ERROR$1:updatewindow(e,t,r,r)?(n.mode=MEM,Z_MEM_ERROR):(n.havedict=1,Z_OK$2):Z_STREAM_ERROR$1}var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2=inflate,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo:inflateInfo},constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader,toString$2=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=common.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;var n=inflate_1.inflateInit2(this.strm,t.windowBits);if(n!==constants.Z_OK)throw new Error(messages[n]);if(this.header=new gzheader,inflate_1.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$2.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=inflate_1.inflateSetDictionary(this.strm,t.dictionary))!==constants.Z_OK))throw new Error(messages[n])}function inflate$1(e,t){var n=new Inflate(t);if(n.push(e,!0),n.err)throw n.msg||messages[n.err];return n.result}function inflateRaw(e,t){return(t=t||{}).raw=!0,inflate$1(e,t)}Inflate.prototype.push=function(e,t){var n,r,i,o,a,s=this.strm,c=this.options.chunkSize,u=this.options.dictionary,l=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?constants.Z_FINISH:constants.Z_NO_FLUSH,"string"==typeof e?s.input=strings.binstring2buf(e):"[object ArrayBuffer]"===toString$2.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new common.Buf8(c),s.next_out=0,s.avail_out=c),(n=inflate_1.inflate(s,constants.Z_NO_FLUSH))===constants.Z_NEED_DICT&&u&&(n=inflate_1.inflateSetDictionary(this.strm,u)),n===constants.Z_BUF_ERROR&&!0===l&&(n=constants.Z_OK,l=!1),n!==constants.Z_STREAM_END&&n!==constants.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==constants.Z_STREAM_END&&(0!==s.avail_in||r!==constants.Z_FINISH&&r!==constants.Z_SYNC_FLUSH)||("string"===this.options.to?(i=strings.utf8border(s.output,s.next_out),o=s.next_out-i,a=strings.buf2string(s.output,i),s.next_out=o,s.avail_out=c-o,o&&common.arraySet(s.output,s.output,i,o,0),this.onData(a)):this.onData(common.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(l=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==constants.Z_STREAM_END);return n===constants.Z_STREAM_END&&(r=constants.Z_FINISH),r===constants.Z_FINISH?(n=inflate_1.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===constants.Z_OK):r!==constants.Z_SYNC_FLUSH||(this.onEnd(constants.Z_OK),s.avail_out=0,!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===constants.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Inflate_1=Inflate,inflate_2$1=inflate$1,inflateRaw_1=inflateRaw,ungzip=inflate$1,inflate_1$1={Inflate:Inflate_1,inflate:inflate_2$1,inflateRaw:inflateRaw_1,ungzip:ungzip},assign$1=common.assign,pako={};assign$1(pako,deflate_1$1,inflate_1$1,constants);var pako_1=pako,USE_TYPEDARRAY="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array",magic="\b\0";function FlateWorker(e,t){GenericWorker_1.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}utils.inherits(FlateWorker,GenericWorker_1),FlateWorker.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,e.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker_1.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker_1.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako_1[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};var compressWorker=function(e){return new FlateWorker("Deflate",e)},uncompressWorker=function(){return new FlateWorker("Inflate",{})},flate={magic:magic,compressWorker:compressWorker,uncompressWorker:uncompressWorker},STORE={magic:"\0\0",compressWorker:function(e){return new GenericWorker_1("STORE compression")},uncompressWorker:function(){return new GenericWorker_1("STORE decompression")}},DEFLATE=flate,compressions={STORE:STORE,DEFLATE:DEFLATE},LOCAL_FILE_HEADER="PK",CENTRAL_FILE_HEADER="PK",CENTRAL_DIRECTORY_END="PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",ZIP64_CENTRAL_DIRECTORY_END="PK",DATA_DESCRIPTOR="PK\b",signature={LOCAL_FILE_HEADER:LOCAL_FILE_HEADER,CENTRAL_FILE_HEADER:CENTRAL_FILE_HEADER,CENTRAL_DIRECTORY_END:CENTRAL_DIRECTORY_END,ZIP64_CENTRAL_DIRECTORY_LOCATOR:ZIP64_CENTRAL_DIRECTORY_LOCATOR,ZIP64_CENTRAL_DIRECTORY_END:ZIP64_CENTRAL_DIRECTORY_END,DATA_DESCRIPTOR:DATA_DESCRIPTOR},decToHex=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},generateUnixExternalFileAttr=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},generateDosExternalFileAttr=function(e,t){return 63&(e||0)},generateZipParts=function(e,t,n,r,i,o){var a,s,c=e.file,u=e.compression,l=o!==utf8.utf8encode,d=utils.transformTo("string",o(c.name)),f=utils.transformTo("string",utf8.utf8encode(c.name)),p=c.comment,h=utils.transformTo("string",o(p)),m=utils.transformTo("string",utf8.utf8encode(p)),g=f.length!==c.name.length,v=m.length!==p.length,y="",b="",_="",k=c.dir,w=c.date,S={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(S.crc32=e.crc32,S.compressedSize=e.compressedSize,S.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),l||!g&&!v||(E|=2048);var x=0,T=0;k&&(x|=16),"UNIX"===i?(T=798,x|=generateUnixExternalFileAttr(c.unixPermissions,k)):(T=20,x|=generateDosExternalFileAttr(c.dosPermissions)),a=w.getUTCHours(),a<<=6,a|=w.getUTCMinutes(),a<<=5,a|=w.getUTCSeconds()/2,s=w.getUTCFullYear()-1980,s<<=4,s|=w.getUTCMonth()+1,s<<=5,s|=w.getUTCDate(),g&&(b=decToHex(1,1)+decToHex(crc32_1(d),4)+f,y+="up"+decToHex(b.length,2)+b),v&&(_=decToHex(1,1)+decToHex(crc32_1(h),4)+m,y+="uc"+decToHex(_.length,2)+_);var O="";return O+="\n\0",O+=decToHex(E,2),O+=u.magic,O+=decToHex(a,2),O+=decToHex(s,2),O+=decToHex(S.crc32,4),O+=decToHex(S.compressedSize,4),O+=decToHex(S.uncompressedSize,4),O+=decToHex(d.length,2),O+=decToHex(y.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+O+d+y,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(T,2)+O+decToHex(h.length,2)+"\0\0\0\0"+decToHex(x,4)+decToHex(r,4)+d+y+h}},generateCentralDirectoryEnd=function(e,t,n,r,i){var o=utils.transformTo("string",i(r));return signature.CENTRAL_DIRECTORY_END+"\0\0\0\0"+decToHex(e,2)+decToHex(e,2)+decToHex(t,4)+decToHex(n,4)+decToHex(o.length,2)+o},generateDataDescriptors=function(e){return signature.DATA_DESCRIPTOR+decToHex(e.crc32,4)+decToHex(e.compressedSize,4)+decToHex(e.uncompressedSize,4)};function ZipFileWorker(e,t,n,r){GenericWorker_1.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker_1),ZipFileWorker.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,GenericWorker_1.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},ZipFileWorker.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=generateZipParts(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=generateZipParts(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:generateDataDescriptors(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=generateCentralDirectoryEnd(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var t=this._sources;if(!GenericWorker_1.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker_1.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};var ZipFileWorker_1=ZipFileWorker,getCompression=function(e,t){var n=e||t,r=compressions[n];if(!r)throw new Error(n+" is not a valid compression method !");return r},generateWorker=function(e,t,n){var r=new ZipFileWorker_1(t.streamFiles,n,t.platform,t.encodeFileName),i=0;try{e.forEach((function(e,n){i++;var o=getCompression(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},s=n.dir,c=n.date;n._compressWorker(o,a).withStreamInfo("file",{name:e,dir:s,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)})),r.entriesCount=i}catch(e){r.error(e)}return r},generate={generateWorker:generateWorker};function NodejsStreamInputAdapter(e,t){GenericWorker_1.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}utils.inherits(NodejsStreamInputAdapter,GenericWorker_1),NodejsStreamInputAdapter.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker_1.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker_1.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};var NodejsStreamInputAdapter_1=NodejsStreamInputAdapter,fileAdd=function(e,t,n){var r,i=utils.getTypeOf(t),o=utils.extend(n||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=forceTrailingSlash(e)),o.createFolders&&(r=parentFolder(e))&&folderAdd.call(this,r,!0);var a="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!a),(t instanceof compressedObject&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var s=null;s=t instanceof compressedObject||t instanceof GenericWorker_1?t:nodejsUtils.isNode&&nodejsUtils.isStream(t)?new NodejsStreamInputAdapter_1(e,t):utils.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var c=new zipObject(e,s,o);this.files[e]=c},parentFolder=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},forceTrailingSlash=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},folderAdd=function(e,t){return t=void 0!==t?t:defaults.createFolders,e=forceTrailingSlash(e),this.files[e]||fileAdd.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function isRegExp$1(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1===arguments.length){if(isRegExp$1(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null}return(e=this.root+e,fileAdd.call(this,e,t,n),this)},folder:function(e){if(!e)return this;if(isRegExp$1(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=folderAdd.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=utils.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");utils.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=generate.generateWorker(this,n,r)}catch(e){(t=new GenericWorker_1("error")).error(e)}return new StreamHelper_1(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}},object=out;function DataReader(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return utils.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}};var DataReader_1=DataReader;function ArrayReader(e){DataReader_1.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}utils.inherits(ArrayReader,DataReader_1),ArrayReader.prototype.byteAt=function(e){return this.data[this.zero+e]},ArrayReader.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var ArrayReader_1=ArrayReader;function StringReader(e){DataReader_1.call(this,e)}utils.inherits(StringReader,DataReader_1),StringReader.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},StringReader.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},StringReader.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},StringReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var StringReader_1=StringReader;function Uint8ArrayReader(e){ArrayReader_1.call(this,e)}utils.inherits(Uint8ArrayReader,ArrayReader_1),Uint8ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var Uint8ArrayReader_1=Uint8ArrayReader;function NodeBufferReader(e){Uint8ArrayReader_1.call(this,e)}utils.inherits(NodeBufferReader,Uint8ArrayReader_1),NodeBufferReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var NodeBufferReader_1=NodeBufferReader,readerFor=function(e){var t=utils.getTypeOf(e);return utils.checkSupport(t),"string"!==t||support.uint8array?"nodebuffer"===t?new NodeBufferReader_1(e):support.uint8array?new Uint8ArrayReader_1(utils.transformTo("uint8array",e)):new ArrayReader_1(utils.transformTo("array",e)):new StringReader_1(e)},MADE_BY_DOS=0,MADE_BY_UNIX=3,findCompression=function(e){for(var t in compressions)if(compressions.hasOwnProperty(t)&&compressions[t].magic===e)return compressions[t];return null};function ZipEntry(e,t){this.options=e,this.loadOptions=t}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")");this.decompressed=new compressedObject(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===MADE_BY_DOS&&(this.dosPermissions=63&this.externalFileAttributes),e===MADE_BY_UNIX&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=support.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=utils.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=utils.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=readerFor(e.value);return 1!==t.readInt(1)?null:crc32_1(this.fileName)!==t.readInt(4)?null:utf8.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=readerFor(e.value);return 1!==t.readInt(1)?null:crc32_1(this.fileComment)!==t.readInt(4)?null:utf8.utf8decode(t.readData(e.length-5))}return null}};var zipEntry=ZipEntry;function ZipEntries(e){this.files=[],this.loadOptions=e}ZipEntries.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+utils.pretty(t)+", expected "+utils.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=support.uint8array?"uint8array":"array",n=utils.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(signature.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(signature.CENTRAL_FILE_HEADER);)(e=new zipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(signature.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,signature.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(signature.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,signature.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(signature.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(signature.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,signature.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=readerFor(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var zipEntries=ZipEntries;function checkEntryCRC32(e){return new external.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new Crc32Probe_1);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}var load=function(e,t){var n=this;return t=utils.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(e)?external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):utils.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new zipEntries(t);return n.load(e),n})).then((function(e){var n=[external.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(checkEntryCRC32(r[i]));return external.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))};function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new JSZip;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}JSZip.prototype=object,JSZip.prototype.loadAsync=load,JSZip.support=support,JSZip.defaults=defaults,JSZip.version="3.2.0",JSZip.loadAsync=function(e,t){return(new JSZip).loadAsync(e,t)},JSZip.external=external;var lib=JSZip,FileSaver_min=createCommonjsModule((function(e,t){!function(){function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){o(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,o,a){var s=i.URL||i.webkitURL,c=document.createElement("a");o=o||e.name||"download",c.download=o,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?r(c):n(c.href)?t(e,o,a):r(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,o){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),i);else if(n(e))t(e,i,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var l=i.URL||i.webkitURL,d=l.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});i.saveAs=o.saveAs=o,e.exports=o}()}));const zip=new lib,{messageUI:messageUI$1}=window.deskgap||{};let parser=new DOMParser,template={},unsubscribeProject,unsubscribeChapters,unsubscribeScenes;class Export{constructor(e,t,n){this.projectId=e,this.projectImage=t,this.projectAuthor=n,this.templateFiles={files:[{name:"container",path:"templates/moby-dick/META-INF/container.xml"},{name:"package",path:"templates/moby-dick/OPS/package.opf"},{name:"toc",path:"templates/moby-dick/OPS/toc.xhtml"},{name:"tocshort",path:"templates/moby-dick/OPS/toc-short.xhtml"},{name:"content",path:"templates/moby-dick/OPS/chapter.xhtml"},{name:"titlepage",path:"templates/moby-dick/OPS/titlepage.xhtml"},{name:"cover",path:"templates/moby-dick/OPS/cover.xhtml"}],fonts:["OPS/fonts/STIXGeneral.otf","OPS/fonts/STIXGeneralBol.otf","OPS/fonts/STIXGeneralBolIta.otf","OPS/fonts/STIXGeneralItalic.otf","OPS/css/stylesheet.css"]}}async fetchTemplate(){unsubscribeProject=await projects.subscribe(e=>{e.filter(e=>e.id==this.projectId).forEach(e=>{this.projectData=e})});return(async()=>{this.asyncForEach(this.templateFiles.files,async e=>{const t=await fetch(e.path);template[e.name]=parser.parseFromString(await t.text(),"text/xml")}).then(()=>{template.content.getElementById("title").textContent=template.cover.getElementById("title").textContent=template.titlepage.getElementById("title").textContent=template.toc.getElementById("title").textContent=template.tocshort.getElementById("title").textContent=template.toc.getElementById("toc-title").textContent=template.package.getElementById("title").textContent=this.projectData.title,template.package.getElementById("creator").textContent=this.projectAuthor}).then(()=>{unsubscribeChapters=chapters.subscribe(e=>{e.filter(e=>e.project==this.projectId).sort(this.compare).forEach((e,t)=>{let n=template.content.cloneNode(!0);n.getElementById("CHAPTER_TITLE").textContent=e.title;let r=template.toc.getElementById("CHAPTER_LOOP"),i=template.toc.getElementById("CHAPTER_LOOP").cloneNode(!0);i.id="chapter_"+this.zeroPad(t+1),i.firstElementChild.href="chapter_"+this.zeroPad(t+1)+".xhtml",i.firstElementChild.textContent=e.title,r.parentNode.insertBefore(i,r);let o=template.package.getElementById("CHAPTER_LOOP"),a=template.package.getElementById("CHAPTER_LOOP").cloneNode(!0);a.id="chapter_"+this.zeroPad(t+1),a.attributes[1].value="chapter_"+this.zeroPad(t+1)+".xhtml",o.parentNode.insertBefore(a,o);let s=template.package.getElementById("SPINE_CHAPTER_LOOP"),c=template.package.getElementById("SPINE_CHAPTER_LOOP").cloneNode(!0);c.id="chapter_spine_"+this.zeroPad(t+1),c.attributes[1].value="chapter_"+this.zeroPad(t+1),s.parentNode.insertBefore(c,s),unsubscribeScenes=scenes.subscribe(t=>{t.filter(t=>t.chapter==e.id).sort(this.compare).forEach((e,t)=>{e.content.blocks.forEach((e,r)=>{let i=n.getElementById("BLOCK"),o=n.getElementById("BLOCK").cloneNode(!0);o.id="block_"+t+"_"+r,o.textContent=e.data.text,i.parentNode.insertBefore(o,i)})})}),zip.file("OPS/chapter_"+this.zeroPad(t+1,3)+".xhtml",n.children[0].outerHTML)})})}).then(()=>{const e=e=>e.forEach(e=>e.remove());e(template.content.querySelectorAll("#BLOCK")),e(template.toc.querySelectorAll("#CHAPTER_LOOP")),e(template.package.querySelectorAll("#CHAPTER_LOOP")),e(template.package.querySelectorAll("#SPINE_CHAPTER_LOOP")),zip.file("mimetype","application/epub+zip"),zip.file("OPS/package.opf",template.package.children[0].outerHTML),zip.file("OPS/toc.xhtml",template.toc.children[0].outerHTML),zip.file("OPS/toc-short.xhtml",template.tocshort.children[0].outerHTML),zip.file("OPS/cover.xhtml",template.cover.children[0].outerHTML),zip.file("OPS/titlepage.xhtml",template.titlepage.children[0].outerHTML),zip.file("OPS/images/cover.jpg",this.projectImage,{binary:!0}),zip.file("META-INF/container.xml",template.container.children[0].outerHTML),this.templateFiles.fonts.forEach((e,t)=>{fetch("./templates/moby-dick/"+e).then(e=>e.text()).then(t=>{zip.file(e,t)}).then(()=>{this.templateFiles.fonts.length==t+1&&(window.deskgap?zip.generateAsync({type:"base64"}).then(e=>{messageUI$1.send("saveFile",e,this.projectData.title+".epub")},e=>{window.alert("error: "+e)}).then(()=>{unsubscribeProject(),unsubscribeChapters(),unsubscribeScenes()}):zip.generateAsync({type:"blob"}).then(e=>{FileSaver_min.saveAs(e,this.projectData.title+".epub")},e=>{window.alert("error: "+e)}).then(()=>{unsubscribeProject(),unsubscribeChapters(),unsubscribeScenes()}))})})})})()}async asyncForEach(e,t){for(let n=0;n<e.length;n++)await t(e[n],n,e)}compare(e,t){return e.order<t.order?-1:e.order>t.order?1:0}zeroPad(e){return String(e).padStart(3,"0")}}class ExportRTF{constructor(e,t){this.projectId=e,this.projectAuthor=t,this.header="{\\rtf1\\ansicpg65001\\deff0{\\fonttbl}\\pard\\qc\\fs120\\b TITLE\\pard\\b0 ",this.chapter="\\page\\fs32\\b CHAPTER\\par\\pard \\b0\\fs22 ",this.block="BLOCK \\par ",this.footer="}"}async fetchTemplate(){unsubscribeProject=await projects.subscribe(e=>{e.filter(e=>e.id==this.projectId).forEach(e=>{this.projectData=e})});let e="";return(async()=>{this.header=this.header.replace("TITLE",this.projectData.title),e+=this.header,unsubscribeChapters=chapters.subscribe(t=>{t.filter(e=>e.project==this.projectId).sort(this.compare).forEach((n,r)=>{let i=this.chapter;if(i=i.replace("CHAPTER",n.title),unsubscribeScenes=scenes.subscribe(t=>{t.filter(e=>e.chapter==n.id).sort(this.compare).forEach(e=>{let t="";e.content&&(e.content.blocks.forEach(e=>{let n=this.block.replace("BLOCK",e.data.text);n=n.replace(/<br>/gi,"\\par"),t+=n}),i+=t)}),e+=i}),r+1==t.filter(e=>e.project==this.projectId).length){e+=this.footer;let t=new Blob([e],{type:"text/plain"});if(window.deskgap){let t=btoa(unescape(encodeURIComponent(e)));messageUI$1.send("saveFile",t,this.projectData.title+".rtf")}else FileSaver_min.saveAs(t,this.projectData.title+".rtf")}})}),unsubscribeProject(),unsubscribeChapters(),unsubscribeScenes()})()}compare(e,t){return e.order<t.order?-1:e.order>t.order?1:0}}function create_else_block$5(e){let t;const n=new Placeholder({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},p:noop,i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_if_block$9(e){let t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,_,k,w,S,E,x,T,O,C,A,M=e[5]("export.title")+"",R=e[5]("export.downloadRtf")+"",B=e[5]("export.author")+"",P=e[5]("export.cover")+"",I=e[5]("export.downloadEpub")+"";return{c(){t=element("h2"),n=text(M),r=space(),i=element("div"),o=element("button"),a=element("span"),s=space(),c=text(R),u=space(),l=element("hr"),d=space(),f=element("div"),p=element("label"),h=text(B),m=space(),g=element("input"),v=space(),y=element("div"),b=element("label"),_=text(P),k=space(),w=element("input"),S=space(),E=element("div"),x=element("button"),T=element("span"),O=space(),C=text(I),attr(a,"class","lnr lnr-sync spinner"),attr(i,"class","btn-group"),attr(p,"class","big"),attr(p,"for","author"),attr(g,"id","author"),attr(g,"type","text"),attr(g,"placeholder","John Doe"),attr(g,"autocomplete","off"),attr(f,"class","field"),attr(b,"class","big"),attr(b,"for","cover"),attr(w,"id","cover"),attr(w,"type","file"),attr(w,"accept",".jpg,.jpeg"),attr(y,"class","field"),attr(T,"class","lnr lnr-sync spinner"),x.disabled=e[3],toggle_class(x,"loading",e[2]),attr(E,"class","btn-group"),A=[listen(o,"click",e[7]),listen(g,"input",e[8]),listen(w,"change",e[9]),listen(x,"click",e[6])]},m(A,M){insert(A,t,M),append(t,n),insert(A,r,M),insert(A,i,M),append(i,o),append(o,a),append(o,s),append(o,c),insert(A,u,M),insert(A,l,M),insert(A,d,M),insert(A,f,M),append(f,p),append(p,h),append(f,m),append(f,g),set_input_value(g,e[0]),insert(A,v,M),insert(A,y,M),append(y,b),append(b,_),append(y,k),append(y,w),insert(A,S,M),insert(A,E,M),append(E,x),append(x,T),append(x,O),append(x,C)},p(e,t){32&t&&M!==(M=e[5]("export.title")+"")&&set_data(n,M),32&t&&R!==(R=e[5]("export.downloadRtf")+"")&&set_data(c,R),32&t&&B!==(B=e[5]("export.author")+"")&&set_data(h,B),1&t&&g.value!==e[0]&&set_input_value(g,e[0]),32&t&&P!==(P=e[5]("export.cover")+"")&&set_data(_,P),32&t&&I!==(I=e[5]("export.downloadEpub")+"")&&set_data(C,I),8&t&&(x.disabled=e[3]),4&t&&toggle_class(x,"loading",e[2])},i:noop,o:noop,d(e){e&&detach(t),e&&detach(r),e&&detach(i),e&&detach(u),e&&detach(l),e&&detach(d),e&&detach(f),e&&detach(v),e&&detach(y),e&&detach(S),e&&detach(E),run_all(A)}}}function create_fragment$f(e){let t,n,r,i;const o=[create_if_block$9,create_else_block$5],a=[];function s(e,t){return e[4].currentProject?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=empty()},m(e,n){a[t].m(e,n),insert(e,r,n),i=!0},p(e,[i]){let c=t;(t=s(e))===c?a[t].p(e,i):(group_outros(),transition_out(a[c],1,1,()=>{a[c]=null}),check_outros(),(n=a[t])||(n=a[t]=o[t](e)).c(),transition_in(n,1),n.m(r.parentNode,r))},i(e){i||(transition_in(n),i=!0)},o(e){transition_out(n),i=!1},d(e){a[t].d(e),e&&detach(r)}}}function instance$e(e,t,n){let r,i;component_subscribe(e,state,e=>n(4,r=e)),component_subscribe(e,_$1,e=>n(5,i=e));let o="",a="",s=!1,c=!0;return e.$$.update=()=>{3&e.$$.dirty&&(0==o.length&&0==a.length?n(3,c=!0):n(3,c=!1))},[o,a,s,c,r,i,function(){n(2,s=!0);const e=cover.files[0];let t=new Export(r.currentProject,e,o);t.fetchTemplate().then(()=>{n(2,s=n(3,c=!1))}).finally(()=>{t=null})},function(){let e=new ExportRTF(r.currentProject,o);e.fetchTemplate().then(()=>{n(2,s=n(3,c=!1))}).finally(()=>{e=null})},function(){o=this.value,n(0,o)},function(){a=this.files,n(1,a)}]}class Export_1 extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$f,safe_not_equal,{})}}function create_if_block$a(e){let t;const n=new Install({});return{c(){create_component(n.$$.fragment)},m(e,r){mount_component(n,e,r),t=!0},i(e){t||(transition_in(n.$$.fragment,e),t=!0)},o(e){transition_out(n.$$.fragment,e),t=!1},d(e){destroy_component(n,e)}}}function create_fragment$g(e){let t,n,r,i,o,a,s,c,u,l,d,f=!e[3].installed&&create_if_block$a();function p(t){e[14].call(null,t)}let h={};void 0!==e[2]&&(h.navigationState=e[2]);const m=new Header({props:h});function g(t){e[16].call(null,t)}binding_callbacks.push(()=>bind(m,"navigationState",p)),m.$on("openSidebar",e[15]);let v={};void 0!==e[1]&&(v.sidebarState=e[1]);const y=new Sidebar({props:v});function b(t){e[17].call(null,t)}binding_callbacks.push(()=>bind(y,"sidebarState",g));let _={text:"New update installed!<br>Click here to restart.",duration:"forever"};void 0!==e[0]&&(_.show=e[0]);const k=new Toast({props:_});binding_callbacks.push(()=>bind(k,"show",b)),k.$on("click",e[5]);const w=new Router({props:{routes:e[4]}});return w.$on("routeLoaded",e[6]),{c(){t=element("div"),f&&f.c(),n=space(),create_component(m.$$.fragment),i=space(),create_component(y.$$.fragment),a=space(),s=element("div"),create_component(k.$$.fragment),u=space(),l=element("div"),create_component(w.$$.fragment),attr(l,"class","inner"),attr(s,"id","content"),attr(s,"class","content"),attr(t,"class","container")},m(e,r){insert(e,t,r),f&&f.m(t,null),append(t,n),mount_component(m,t,null),append(t,i),mount_component(y,t,null),append(t,a),append(t,s),mount_component(k,s,null),append(s,u),append(s,l),mount_component(w,l,null),d=!0},p(e,[i]){e[3].installed?f&&(group_outros(),transition_out(f,1,1,()=>{f=null}),check_outros()):f?transition_in(f,1):((f=create_if_block$a()).c(),transition_in(f,1),f.m(t,n));const a={};!r&&4&i&&(r=!0,a.navigationState=e[2],add_flush_callback(()=>r=!1)),m.$set(a);const s={};!o&&2&i&&(o=!0,s.sidebarState=e[1],add_flush_callback(()=>o=!1)),y.$set(s);const u={};!c&&1&i&&(c=!0,u.show=e[0],add_flush_callback(()=>c=!1)),k.$set(u)},i(e){d||(transition_in(f),transition_in(m.$$.fragment,e),transition_in(y.$$.fragment,e),transition_in(k.$$.fragment,e),transition_in(w.$$.fragment,e),d=!0)},o(e){transition_out(f),transition_out(m.$$.fragment,e),transition_out(y.$$.fragment,e),transition_out(k.$$.fragment,e),transition_out(w.$$.fragment,e),d=!1},d(e){e&&detach(t),f&&f.d(),destroy_component(m),destroy_component(y),destroy_component(k),destroy_component(w)}}}function instance$f(e,t,n){let r,i;component_subscribe(e,settings,e=>n(9,r=e)),component_subscribe(e,intern,e=>n(3,i=e)),D.set(r.language);const o={"/":Overview,"/write/:sceneId?":Write,"/cards":Cards,"/settings":Settings,"/cloud":Cloud,"/export":Export_1,"*":Overview},a=new c("./service-worker.js");let s=!1;"serviceWorker"in navigator&&(a.addEventListener("waiting",e=>{n(0,s=!0)}),a.register());let u=window.matchMedia("(max-width: 960px)"),l=!u.matches,d=!u.matches;u.addListener(e=>{e.matches?n(2,d=!1):n(2,d=!0),e.matches?n(1,l=!1):n(1,l=!0)});let f=null,p=null;window.doorbellOptions={id:"11083",appKey:"L7mreXHsiGLMDgoDA4nAwKF6qVi47ZOCv0uXh1XT3IJmjFnsFBMl4tEBVqt9kx1m",properties:{Backendless:localStorage.getItem("Backendless")||"",state:localStorage.getItem("state")||""}},function(e,t,n){var r=!1;function i(){if(!r){r=!0,window.doorbellOptions.windowLoaded=!0;var e=t.createElement(n);e.id="doorbellScript",e.type="text/javascript",e.async=!0,e.src="https://embed.doorbell.io/button/"+window.doorbellOptions.id+"?t="+(new Date).getTime(),(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(e)}}e.attachEvent?e.attachEvent("onload",i):e.addEventListener?e.addEventListener("load",i,!1):i(),"complete"==t.readyState&&i()}(window,document,"script");return e.$$.update=()=>{512&e.$$.dirty&&(document.body.className=r.theme,D.set(r.language),document.body.style.setProperty("--editor-font-size",r.fontsize+"rem"))},[s,l,d,i,o,function(){a.addEventListener("controlling",e=>{deskgap.reload()}),a.messageSW({type:"SKIP_WAITING"})},function(e){u.matches&&(n(1,l=!1),n(2,d=!1))},f,p,r,a,u,function(e){f=e.touches[0].clientX,p=e.touches[0].clientY},function(e){if(f&&p){var t=e.touches[0].clientX,r=e.touches[0].clientY,i=f-t,o=p-r;Math.abs(i)>Math.abs(o)&&(i>0?l?n(1,l=!1):n(2,d=!0):d?n(2,d=!1):n(1,l=!0)),f=null,p=null}},function(e){n(2,d=e)},()=>n(1,l=!0),function(e){n(1,l=e)},function(e){n(0,s=e)}]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$g,safe_not_equal,{})}}var header={write:{title:"Write"},cards:{title:"Cards"},settings:{title:"Settings"},export:{title:"Export"},cloud:{title:"Cloud"}},write$1={toolbar:{words:"words",chars:"characters",undo:"Undo",redo:"Redo",save:"Save",focus:"Focus",fullscreen:"Fullscreen",switchScene:"Switch scene ..."},toast:{saved:"Saved!"},editor:{placeholder:"Let`s write an awesome story!"},overview:{opened:"opened"}},cloud$1={account:{title:"Account",connectedAccount:"Connected Account:",logout:"Logout"},cloud:{title:"Cloud",localDataFrom:"Local data from:",cloudDataFrom:"Cloud data from:",export:"Export",import:"Import"},login:{title:"Login",email:"E-Mail:",password:"Password:",button:"Login"},register:{title:"Register",name:"Name",button:"Register"},reset:{title:"Password reset",button:"Reset password"},toast:{savedCloud:"Saved into cloud.",loginSuccessful:"Login successful!",activateEmail:"Please activate your e-mail adress.",resetPassword:"Please check your mail inbox for further instructions."}},cards$1={title:"Cards",search:"search here...",modal:{newHeader:"New Card",editHeader:"Edit",title:"Title:",content:"Content:",buttonCreate:"Create",buttonSave:"Save",showInScenes:"Show in scenes."}},sidebar={createScene:"New",createChapter:"Create Chapter",modal:{title:"Title:",newChapter:{header:"New Chapter",button:"Create Chapter"},newScene:{header:"New Scene",button:"Create Scene"},edit:{order:"Order scenes",buttonSave:"Save Scene",buttonDelete:"Delete"}}},settings$1={title:"Settings",appereance:{title:"Appereance",theme:{title:"Theme",dark:"Dark",light:"Light"},language:{title:"Language",en:"English",de:"German"}},write:{autosave:"Autosave",fontsize:"Fontsize"}},install={language:"Choose language",requirements:{title:"Requirements",internet:"Internet",browser:"Browser",serviceWorker:"Service worker"},start:"Fresh start",cloud:"From Cloud",back:"back",install:{install:"Install",browser:"Run in browser"}},overview={project:{title:"Title",chapters:"Chapters",scenes:"Scenes",words:"Words",characters:"Characters",save:"Save"},projects:{title:"Projects",opened:"opened"}},en={header:header,write:write$1,cloud:cloud$1,cards:cards$1,export:{title:"Export",author:"Author:",cover:"Cover:",downloadEpub:"Download as EPUB",downloadRtf:"Download as RTF"},sidebar:sidebar,settings:settings$1,install:install,overview:overview},header$1={write:{title:"Schreiben"},cards:{title:"Karten"},settings:{title:"Einstellungen"},export:{title:"Exportieren"},cloud:{title:"Cloud"}},write$2={toolbar:{words:"Wörter",chars:"Zeichen",undo:"Rückgängig",redo:"Wiederholen",save:"Speichern",focus:"Fokus",fullscreen:"Vollbild",switchScene:"Szene wechseln ..."},toast:{saved:"Gespeichert!"},editor:{placeholder:"Lass uns eine tolle Geschichte schreiben!"},overview:{opened:"geöffnet"}},cloud$2={account:{title:"Account",connectedAccount:"Verbundener Account:",logout:"Logout"},cloud:{title:"Cloud",localDataFrom:"Lokale Daten von:",cloudDataFrom:"Cloud Daten von:",export:"Export",import:"Import"},login:{title:"Login",email:"E-Mail:",password:"Passwort:",button:"Login"},register:{title:"Registrieren",name:"Name",button:"Registrieren"},reset:{title:"Passwort zurücksetzen",button:"Passwort zurücksetzen"},toast:{savedCloud:"In die Cloud gespeichert.",loginSuccessful:"Erfolgreich angemeldet!",activateEmail:"Bitte aktivieren Sie Ihre E - Mail - Adresse.",resetPassword:"Bitte überprüfen Sie Ihren Posteingang für weitere Anweisungen."}},cards$2={title:"Karten",search:"suchen...",modal:{newHeader:"Neue Karte",editHeader:"Bearbeiten",title:"Titel:",content:"Inhalt:",buttonCreate:"Erstellen",buttonSave:"Speichern",showInScenes:"In Szenen anzeigen."}},sidebar$1={createScene:"Erstellen",createChapter:"Kapitel erstellen",modal:{title:"Titel:",newChapter:{header:"Neues Kapitel",button:"Kapitel erstellen"},newScene:{header:"Neue Szene",button:"Szene erstellen"},edit:{order:"Szenen anordnen",buttonSave:"Szene speichern",buttonDelete:"Löschen"}}},settings$2={title:"Einstellungen",appereance:{title:"Erscheinungsbild",theme:{title:"Theme:",dark:"Dunkel",light:"Hell"},language:{title:"Sprache",en:"Englisch",de:"Deutsch"}},write:{autosave:"Automatisches speichern",fontsize:"Schriftgröße"}},install$1={language:"Sprache auswählen",requirements:{title:"Systemanforderungen",internet:"Internet",browser:"Browser",serviceWorker:"Service worker"},start:"Neuer Start",cloud:"von Cloud",back:"zurück",install:{install:"Installieren",browser:"Im Browser starten"}},overview$1={project:{title:"Titel",chapters:"Kapitel",scenes:"Szenen",words:"Wörter",characters:"Zeichen",save:"Speichern"},projects:{title:"Projekte",opened:"geöffnet"}},de$1={header:header$1,write:write$2,cloud:cloud$2,cards:cards$2,export:{title:"Exportieren",author:"Autor:",cover:"Cover:",downloadEpub:"Download als EPUB",downloadRtf:"Download als RTF"},sidebar:sidebar$1,settings:settings$2,install:install$1,overview:overview$1};u$1("en",en),u$1("de",de$1),b({fallback:"en"});const app=new App({target:document.body});return app}();
//# sourceMappingURL=bundle.js.map
